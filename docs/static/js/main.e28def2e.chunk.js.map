{"version":3,"sources":["i18n.js","constants.js","appSlice.js","features/randomizers/jobrandomizer/constants.js","features/randomizers/jobrandomizer/jobRandomizerSlice.js","features/phasmorpg/data/items/categories.js","features/phasmorpg/data/items/types.js","features/phasmorpg/data/maps/index.js","features/phasmorpg/data/items/index.js","features/phasmorpg/data/traits/categories.js","features/phasmorpg/constants.js","features/phasmorpg/data/traits/index.js","features/phasmorpg/phasmoRPGSlice.js","features/randomizers/challenges/constants.js","features/randomizers/challenges/challengeRandomizerSlice.js","features/evidence/constants.js","features/evidence/evidenceSlice.js","features/ghostname/constants.js","features/ghostname/ghostNameSlice.js","features/ghosts/constants.js","features/ghosts/ghostsSlice.js","features/photocalculator/constants.js","features/photocalculator/photoCalculatorSlice.js","app/store.js","serviceWorker.js","common/Accent.js","common/Readable.js","features/randomizers/challenges/ChallengesList.js","features/randomizers/challenges/ChallengeRandomizer.js","features/evidence/Evidence.js","features/ghostname/GhostName.js","features/ghost/Ghost.js","features/ghosts/Ghosts.js","features/ghostnamemenu/GhostNameMenu.js","features/sitemenu/SiteMenu.js","common/IconButton.js","features/header/Header.js","features/randomizers/jobrandomizer/JobRandomizer.js","features/phasmorpg/CharacterSelect.js","features/phasmorpg/LogMission.js","utils.js","features/phasmorpg/Equipment.js","features/phasmorpg/Traits.js","features/phasmorpg/CharacterPreview.js","features/phasmorpg/PhasmoRPG.js","features/photocalculator/PhotoCalculator.js","features/theme/constants.js","features/theme/Theme.js","common/Alerts.js","App.js","index.js"],"names":["i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","backend","loadPath","initialState","alerts","theme","language","views","challenges","evidence","ghostName","ghosts","jobs","phasmorpg","photocalculator","LOCAL_STORAGE_KEY","appSlice","createSlice","name","reducers","hydrate","_","action","payload","resetApp","addAlert","state","currentAlerts","Array","isArray","id","nanoid","removeAlert","filter","alert","setLanguage","toggleModule","togglePhasmoRPG","visible","Object","keys","reduce","view","toggleTheme","actions","selectViews","app","selectThemeName","selectAlerts","selectLanguage","randomizerSections","display","iconPath","mdiHomeCity","mdiFlashlight","mdiMagnify","mdiCrosshairsQuestion","sectionTypes","location","lights","random","hidden","itemCategories","onsite","description","starter","store","truck","itemTypes","objectives","tools","junk","photos","itemList","displayShort","category","type","section","map","x","enabled","used","locationTypes","farm","size","institution","outdoor","road","school","street","sectionItems","randomizedCounts","randomized","randomize","array","sort","Math","jobRandomizerSlice","reset","resetSection","randomizeJob","availableLocations","availableLights","availableEvidence","availableOther","slice","getRandomizedItems","sectionType","item","includes","updateRandomizerTypeCount","count","selectRandomized","randomizers","selectRandomizedCounts","selectSectionItems","categories","loot","types","dropChance","pointValues","buy","sell","sortWeight","light","other","lqloot","hqloot","mapTypes","pointValue","iconMapMap","tanglewood","edgefield","maplelodge","ridgeview","willow","grafton","path","mdiTractor","title","aria-hidden","bleasdale","brownstone","prison","asylum","maps","unlocked","act","unlockable","allMapIds","items","allowedMaps","allItems","collector","removalCost","duration","obsessive","nervous","reckless","silly","temporary","data","mapCategories","easy","medium","hard","mapActList","act1","act2","act3","traits","remaining","maxItemLootChances","characters","missionDrawerOpen","Acts","getActiveCharacter","find","character","isActive","getUpdatedMapUnlocks","realBankedPoints","activeCharacter","nextLockedMap","pointCost","phasmoRPGSlice","updateCharacter","activeCharacterIndex","findIndex","c","addRandomTrait","addRandomLoot","buyItem","bankedPoints","sellItem","logMission","removeTrait","traitCost","trait","updatedCharacterTraits","deleteCharacter","saveCharacter","characterDetails","setCharacterActive","setNextUnlockableMap","toggleMissionDrawerOpen","unlockMap","didSpendPoints","mapCost","updatedCharacter","setPreviewCharacter","selectCharacters","phasmoRPG","selectActiveCharacter","selectMissionDrawerOpen","selectHasActiveCharacter","length","atmospheric","categoryId","categoryDisplay","categoryDescription","collections","insane","roleplaying","list","challenge","challengeRandomizerSlice","resetUsed","setRandomChallenge","validChallenges","floor","getRandomChallenge","toggleCategory","toggleChallenge","selectRandomizedChallenge","selectChallenges","included","excluded","all","long","short","iconMap","dotsprojector","emflevel5","fingerprints","freezingtemperatures","ghostorbs","ghostwriting","spiritbox","mdiRadioHandheld","evidenceSlice","cycle","isIncluded","s","isExcluded","Set","ev","resetEvidence","selectIncluded","selectExcluded","selectEvidence","selectIsPristine","GHOST_NAMES","firstnames","lastnames","FIRSTNAME_FIRST_LETTERS","LASTNAME_FIRST_LETTERS","ref","firstnameLetters","lastnameLetters","firstname","lastname","instructions","step","falseViews","fullname","enableView","ghostNameSlice","resetGhostName","setFirstnames","setFirstname","setLastnames","setLastname","selectIsVisible","selectFirstname","selectLastname","selectFirstnames","selectLastnames","selectFirstnameLetters","selectLastnameLetters","selectInstructions","i18nKey","secondaryEvidencei18nKeys","ghost","selected","ghostsSlice","setActiveGhost","resetGhosts","updateGhosts","updatedGhosts","some","sortedGhosts","a","b","selectGhosts","selectSelected","photoValues","1","2","3","bone","ouijaboard","interaction","footsteps","dirtywater","deadbody","photoDetails","limit","photo","photoTypes","photoDistances","counts","subtotals","collected","totalValue","photoCalculatorSlice","addPhoto","total","photoTypeId","photoTypeStars","stars","currentValue","newPhotoValue","points","disablePhotoType","removePhoto","selectTotalValue","photoCalculator","selectPhotoCount","selectPhotos","randomizerReducers","combineReducers","challengesReducer","jobsReducer","configureStore","reducer","appReducer","evidenceReducer","ghostsReducer","ghostNameReducer","phasmoRPGReducer","photoCalculatorReducer","Boolean","window","hostname","match","Accent","children","color","className","transform","props","root","makeStyles","palette","text","textTransform","fontSize","useStyles","clsx","fontFamily","Readable","classes","backgroundColor","background","default","padding","margin","categoryTitle","challengeText","listItem","primary","dark","width","maxWidth","minWidth","secondary","titleBox","alignSelf","ChallengesList","dispatch","useDispatch","useSelector","handleToggleCategory","e","target","checked","categoryCheckedStatuses","React","useMemo","enabledInCategory","Paper","Checkbox","edge","tabIndex","disableRipple","inputProps","onClick","List","challengeId","labelId","ListItem","role","undefined","dense","button","ListItemIcon","ListItemText","listItemText","alignContent","gap","hover","editOptions","icon","iconGroup","justifySelf","iconHover","randomizer","cursor","flexWrap","paddingLeft","justifyContent","spinner","randomChallenge","webkitAnimation","animation","disabled","ChallengeRandomizer","t","useTranslation","useState","editOpen","setEditOpen","spinTheWheel","useCallback","stopPropagation","toggleDrawer","status","event","key","Fragment","Typography","component","mdiSlotMachineOutline","Drawer","anchor","open","onClose","float","paper","paperalt","spacing","textAlign","border","impossible","opacity","pointerEvents","success","main","error","Evidence","isPossible","flat","Grid","container","xs","sm","md","classNames","borderRadius","GhostName","handleClick","isVisible","square","elevation","letter","iconsValid","iconsInvalid","invalid","paperInvalid","paperValid","valid","info","Ghost","evidenceIsIncluded","i","isSelected","backdrop","zIndex","drawer","borderTop","borderBottom","ghostHeader","ghostIcons","justifyItems","breakpoints","up","gridTemplateColumns","labeled","fontWeight","selectedGhost","Ghosts","setOpen","useEffect","Backdrop","secondaryEvidencei18nKey","index","accent","cancelButton","label","letterList","nameList","flexDirection","userSelect","GhostNameMenu","ghostNameViews","selectGhostNameViews","screenExtraSmall","useMediaQuery","only","drawerOpen","setDrawerOpen","keyName","letters","fullList","Divider","Button","variant","startIcon","mdiGhost","clearInactive","clearActive","languages","boxShadow","languagesContainer","languagesHeader","menu","menuItem","menuToggleItems","whiteSpace","down","SiteMenu","evidenceIsPristine","top","left","bottom","right","setState","menuActionItems","resetChallenges","resetPhotoCalculator","resetJobRandomizer","resetPhasmoRPG","localStorage","removeItem","changeLanguage","languageOptions","value","onSelectChange","mdiMagnifyClose","IconButton","aria-label","onKeyDown","Switch","classNamePrefix","defaultValue","l","onChange","options","IconButtonWrapper","toggleAppButton","maxHeight","containerRPG","ghostname","logShort","logLong","marginLeft","paddingRight","appName","buttonBar","Header","hasActiveCharacter","handleTogglePhasmoRPG","jobGrid","borderTopLeftRadius","borderTopRightRadius","verticalAlign","randomizeAll","resultsList","RandomizerResult","results","r","SectionCountSelect","context","handleChange","FormControl","Select","optionValue","MenuItem","JobRandomizer","remainingSectionItems","sections","sectionItemKey","from","avatar","renderedAvatar","position","characterName","overflow","textOverflow","formControl","renderedMenuItem","selectEmpty","marginTop","select","CharacterSelect","disableUnderline","renderValue","characterId","getCharacterById","colors","alignItems","difficulty","mapSelect","missionDetails","missionObjectives","missionObjectivesContainer","LogMission","missionMap","setMissionMap","missionDifficulty","setMissionDifficulty","foundBone","foundOuijaBoard","identifiedGhost","maxPhotoReward","survivedHunt","survivedMission","setMissionObjectives","unlockedMaps","m","handleObjectiveSettings","handleRandomTrait","severity","message","availableTraits","randomTrait","handleRandomLoot","min","max","newRandomLoot","newRandomItems","nonLoot","uniqBy","justLoot","finalItems","newLootCount","handleMissionComplete","missionPoints","mission","multiplier","basePoints","objectivePoints","objective","calculateMissionPoints","totalPoints","expiredTraitCount","handleUpdateCharacter","InputLabel","ListSubheader","renderMapSelectOptions","FormLabel","FormGroup","objectiveKey","FormControlLabel","control","FormHelperText","accordion","accordionDetails","accordionSummary","heading","typography","pxToRem","fontWeightRegular","hasHQLoot","characterTraitsDetails","toggleStoreMode","itemTypeJunk","itemTypeEvidence","itemTypeLQLoot","itemTypeHQLoot","itemTypeObjectives","storeHeader","storeModeSelected","flipAnimation","sellLootHover","disabledBackground","storeButtons","Equipment","storeMode","setStoreMode","setSellLootHover","characterItems","sortBy","sellableLoot","sellableLootTotal","characterHasHQLoot","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","prev","onMouseEnter","onMouseLeave","handleSellJunk","Traits","renderRemainingRoundsIcon","handleRemoveTrait","papercontrast","height","actsContainer","actTitle","characterIcons","characterSheetHeader","characterMoney","characterPanel","characterProperties","characterTraitsTitle","firstMap","mapArrow","firstMapArrow","mapIcon","mapLocked","mapButton","mapButtonUnlocked","mapButtonLocked","mapButtonUnlockable","mapName","mapUnlocked","mapWidget","characterButtons","mapWrapper","marginBottom","CharacterPreview","actsByMap","setActsByMap","mapRefs","useRef","nextIndex","handleUnlockAttempt","startAnchor","endAnchor","start","end","characterCreator","createCharacter","existingCharacters","existingCharacterTile","newCharacter","getRandomChunkFromRange","splitBy","range","chunkCount","chunkSize","chunks","CreateCharacter","setCharacterName","handleKeyUp","debounce","code","trim","starterItems","randomItems","randomTraits","actRangeMap","money","TextField","autoFocus","helperText","onKeyUp","PhasmoRPG","gridArea","disablePhotoTypeButton","photoStars","photoTypeCount","photoTotalValue","photoTypeContainer","gridTemplateAreas","resetButton","resetButtonActive","starIcons","subtitle","PhotoCalculator","collectedPhotoCount","collectPhoto","isBookFull","photoType","ButtonGroup","palettes","paperhighlight","contrast","Theme","themeName","createMuiTheme","ThemeProvider","CssBaseline","Alerts","activeAlerts","setActiveAlerts","handleClose","alertId","reason","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","disableWindowBlurListener","Alert","App","fallback","subscribe","setItem","JSON","stringify","getState","version","pkgJson","initAlerts","forceReload","appState","persistedState","getItem","parsed","parse","prevMajor","semver","major","prevMinor","minor","currentMinor","currentMajor","push","getAppStateFromLocalStorage","hydrateAppState","hydrateJobsState","hydratePhasmoRPGState","forEach","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e28def2e.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    debug: false,\n    interpolation: {\n      escapeValue: false,\n    },\n    backend: {\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\n    }\n  });\n\nexport default i18n;\n","export const initialState = {\n  alerts: [],\n  theme: \"dark\",\n  language: \"en\",\n  views: {\n    challenges: true,\n    evidence: true,\n    ghostName: false,\n    ghosts: true,\n    jobs: true,\n    phasmorpg: false,\n    photocalculator: true,\n  },\n};\n\nexport const LOCAL_STORAGE_KEY = \"phasmoToolkit_state\";\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { nanoid } from \"nanoid\";\n\nimport { initialState } from \"./constants\";\n\nexport const appSlice = createSlice({\n  name: \"app\",\n  initialState,\n  reducers: {\n    hydrate: (_, action) => {\n      return action.payload;\n    },\n    resetApp: () => initialState,\n    addAlert: (state, action) => {\n      const currentAlerts = (state.alerts && Array.isArray(state.alerts)) ? state.alerts : [];\n      state.alerts = [...currentAlerts, { ...action.payload, id: nanoid() }];\n    },\n    removeAlert: (state, action) => {\n      state.alerts = state.alerts.filter((alert) => alert.id !== action.payload);\n    },\n    setLanguage: (state, action) => {\n      state.language = action.payload;\n    },\n    toggleModule: (state, action) => ({\n      ...state,\n      views: {\n        ...state.views,\n        [action.payload]: !state.views[action.payload],\n      },\n    }),\n    togglePhasmoRPG: (state) => {\n      const visible = state.views.phasmorpg;\n      if (!visible) {\n        state.views = Object.keys(initialState.views).reduce(\n          (views, view) => ({\n            ...views,\n            [view]: view === \"phasmorpg\",\n          }),\n          {}\n        );\n      } else {\n        state.views = initialState.views;\n      }\n    },\n    toggleTheme: (state) => {\n      state.theme = state.theme === \"dark\" ? \"light\" : \"dark\";\n    },\n  },\n});\n\nexport const {\n  hydrate,\n  resetApp,\n  addAlert,\n  removeAlert,\n  setLanguage,\n  toggleModule,\n  togglePhasmoRPG,\n  toggleTheme,\n} = appSlice.actions;\n\nexport const selectViews = (state) => state.app.views;\nexport const selectThemeName = (state) => state.app.theme;\nexport const selectAlerts = (state) => state.app.alerts;\nexport const selectLanguage = (state) => state.app.language;\n\nexport default appSlice.reducer;\n","import { nanoid } from \"nanoid\";\nimport { mdiCrosshairsQuestion, mdiFlashlight, mdiHomeCity, mdiMagnify } from \"@mdi/js\";\n\nexport const randomizerSections = [\n  {\n    id: \"location\",\n    display: \"Location\",\n    iconPath: mdiHomeCity,\n  },\n  {\n    id: \"lights\",\n    display: \"Lights\",\n    iconPath: mdiFlashlight,\n  },\n  {\n    id: \"evidence\",\n    display: \"Evidence\",\n    iconPath: mdiMagnify,\n  },\n  {\n    id: \"random\",\n    display: \"Random\",\n    iconPath: mdiCrosshairsQuestion,\n  },\n];\n\nexport const sectionTypes = {\n  location: {\n    id: \"location\",\n    display: \"Location\",\n  },\n  lights: {\n    id: \"lights\",\n    display: \"Light\",\n  },\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n  },\n  random: {\n    id: \"random\",\n    display: \"random\",\n  },\n  hidden: {\n    id: \"hidden\",\n    display: \"hidden\",\n  },\n};\n\nexport const itemCategories = {\n  onsite: {\n    description: \"Random spawn items located within the haunted building.\",\n    display: \"Building Items\",\n  },\n  starter: {\n    description: \"Free items you always start with.\",\n    display: \"Starter Items\",\n  },\n  store: {\n    description: \"Items that cost money to purchase before the job.\",\n    display: \"Store items\",\n  },\n  truck: {\n    description: \"Tools secured within the truck. Ex, monitors and camera view.\",\n    display: \"Truck Gear\",\n  },\n};\n\nexport const itemTypeDescriptions = {\n  evidence: \"Items used for gathering direct evidence\",\n  objectives: \"Items used for completing objectives\",\n  photos: \"Items worth photo money\",\n  junk: \"Useless crap or favored treasure?\",\n  lights: \"Light sources\",\n  tools: \"Items that are useful for general gameplay\",\n  random: \"Everything else!\",\n};\n\nexport const itemTypes = {\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n    description: itemTypeDescriptions.evidence,\n  },\n  objectives: {\n    id: \"objectives\",\n    display: \"Objectives\",\n    description: itemTypeDescriptions.objectives,\n  },\n  tools: {\n    id: \"tools\",\n    display: \"Tools\",\n    description: itemTypeDescriptions.tools,\n  },\n  lights: {\n    id: \"lights\",\n    display: \"Lights\",\n    description: itemTypeDescriptions.lights,\n  },\n  junk: {\n    id: \"junk\",\n    display: \"Junk\",\n    description: itemTypeDescriptions.junk,\n  },\n  photos: {\n    id: \"photos\",\n    display: \"Photos\",\n    description: itemTypeDescriptions.photos,\n  },\n  random: {\n    id: \"random\",\n    display: \"Other\",\n    description: itemTypeDescriptions.random,\n  },\n};\n\nexport const itemList = [\n  {\n    display: \"D.O.T.S. Projector\",\n    displayShort: \"D.O.T.S.\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Spirit Box\",\n    displayShort: \"Spirit Box\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Ghost Writing Book\",\n    displayShort: \"Ghost Book\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Photo Camera\",\n    displayShort: \"Photo\",\n    category: itemCategories.starter,\n    type: itemTypes.objectives,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"EMF Reader\",\n    displayShort: \"EMF\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Video Camera\",\n    displayShort: \"Video\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"UV Flashlight\",\n    displayShort: \"UV Light\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Flashlight\",\n    displayShort: \"Light\",\n    category: itemCategories.starter,\n    type: itemTypes.lights,\n    section: sectionTypes.lights,\n  },\n  {\n    display: \"Objective Board\",\n    displayShort: \"Objective Board\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Site Map\",\n    displayShort: \"Site Map\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Sanity Monitor\",\n    displayShort: \"Sanity Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Site Activity Monitor\",\n    displayShort: \"Activity Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Sound Monitor\",\n    displayShort: \"Sound Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Camera System\",\n    displayShort: \"Camera System\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Ouija Board\",\n    displayShort: \"Ouija\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Bone Evidence\",\n    displayShort: \"Bone\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Candle\",\n    displayShort: \"Candle\",\n    category: itemCategories.store,\n    type: itemTypes.lights,\n    section: sectionTypes.lights,\n  },\n  {\n    display: \"Crucifix\",\n    displayShort: \"Crucifix\",\n    category: itemCategories.store,\n    type: itemTypes.tools,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Glow Stick\",\n    displayShort: \"Glow Stick\",\n    category: itemCategories.store,\n    type: itemTypes.evidence,\n    section: sectionTypes.lights,\n  },\n  {\n    display: \"Head Mounted Camera\",\n    displayShort: \"Head Cam\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Infrared Light Sensor\",\n    displayShort: \"Light Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Lighter\",\n    displayShort: \"Lighter\",\n    category: itemCategories.store,\n    type: itemTypes.lights,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Motion Sensor\",\n    displayShort: \"Motion Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Parabolic Microphone\",\n    displayShort: \"Parabolic\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Salt Shaker\",\n    displayShort: \"Salt\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Sanity Pills\",\n    displayShort: \"Pills\",\n    category: itemCategories.store,\n    type: itemTypes.tools,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Smudge Sticks\",\n    displayShort: \"Smudge\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Sound Sensor\",\n    displayShort: \"Sound Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"Strong Flashlight\",\n    displayShort: \"Strong Light\",\n    category: itemCategories.store,\n    type: itemTypes.lights,\n    section: sectionTypes.lights,\n  },\n  {\n    display: \"Thermometer\",\n    displayShort: \"Thermo\",\n    category: itemCategories.store,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Tripod\",\n    displayShort: \"Tripod\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.random,\n  },\n  {\n    display: \"None\",\n    displayShort: \"None\",\n    category: itemCategories.hidden,\n    type: itemTypes.junk,\n    section: sectionTypes.lights,\n  },\n].map((x) => ({\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const locationTypes = {\n  farm: {\n    display: \"Farmhouse\",\n    size: \"Small\",\n  },\n  institution: {\n    display: \"\",\n    size: \"Large\",\n  },\n  outdoor: {\n    display: \"Outdoor\",\n    size: \"Medium\",\n  },\n  road: {\n    display: \"Road House\",\n    size: \"Small\",\n  },\n  school: {\n    display: \"School\",\n    size: \"Medium\",\n  },\n  street: {\n    display: \"Street House\",\n    size: \"Small\",\n  },\n};\n\nexport const locationList = [\n  {\n    display: \"Tanglewood Street House\",\n    type: locationTypes.street,\n  },\n  {\n    display: \"Edgefield Street House\",\n    type: locationTypes.street,\n  },\n  {\n    display: \"Ridgeview Road House\",\n    type: locationTypes.road,\n  },\n  {\n    display: \"Willow Street House\",\n    type: locationTypes.street,\n  },\n  {\n    display: \"Grafton Farmhouse\",\n    type: locationTypes.farm,\n  },\n  {\n    display: \"Bleasdale Farmhouse\",\n    type: locationTypes.farm,\n  },\n  {\n    display: \"Brownstone High\",\n    type: locationTypes.school,\n  },\n  {\n    display: \"Maple Lodge\",\n    type: locationTypes.outdoor,\n  },\n  {\n    display: \"Prison\",\n    type: locationTypes.institution,\n  },\n  {\n    display: \"Asylum\",\n    type: locationTypes.institution,\n  },\n].map((x) => ({\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const initialState = {\n  sectionItems: {\n    location: locationList,\n    lights: itemList.filter((x) => x.section.id === \"lights\"),\n    evidence: itemList.filter((x) => x.section.id === \"evidence\"),\n    random: itemList.filter((x) => x.section.id === \"random\"),\n  },\n  randomizedCounts: {\n    location: 1,\n    lights: 1,\n    evidence: 2,\n    random: 4,\n  },\n  randomized: {\n    location: [],\n    lights: [],\n    evidence: [],\n    random: [],\n  },\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState } from \"./constants\";\n\nconst randomize = (array) => array.sort(() => Math.random() - 0.5);\n\nconst getRandomizedItems = (state) => {\n  const availableLocations = state.sectionItems.location.filter((x) => x.enabled && !x.used);\n\n  const availableLights = state.sectionItems.lights.filter((x) => x.enabled && !x.used);\n\n  const availableEvidence = state.sectionItems.evidence.filter((x) => x.enabled && !x.used);\n\n  const availableOther = state.sectionItems.random.filter((x) => x.enabled && !x.used);\n\n  return {\n    location: randomize(availableLocations).slice(0, state.randomizedCounts.location),\n    lights: randomize(availableLights).slice(0, state.randomizedCounts.lights),\n    evidence: randomize(availableEvidence).slice(0, state.randomizedCounts.evidence),\n    random: randomize(availableOther).slice(0, state.randomizedCounts.random),\n  };\n};\n\nexport const jobRandomizerSlice = createSlice({\n  name: \"jobs\",\n  initialState,\n  reducers: {\n    hydrate: (state, action) => {\n      return {\n        ...state,\n        randomizedCounts: action.payload.randomizedCounts,\n      };\n    },\n    reset: () => initialState,\n    resetSection: (state, action) => {\n      state.sectionItems[action.payload] = initialState.sectionItems[action.payload];\n    },\n    randomizeJob: (state) => {\n      // Generate random items for each section\n      const randomized = getRandomizedItems(state);\n      state.randomized = randomized;\n\n      // Update the list of items to mark the newly generated items as used\n      for (const sectionType of [\"location\", \"lights\", \"evidence\", \"random\"]) {\n        state.sectionItems[sectionType] = state.sectionItems[sectionType].map((item) => ({\n          ...item,\n          used: randomized[sectionType].map((x) => x.id).includes(item.id) ? true : item.used,\n        }));\n      }\n    },\n    updateRandomizerTypeCount: (state, action) => {\n      state.randomizedCounts = {\n        ...state.randomizedCounts,\n        [action.payload.id]: action.payload.count,\n      };\n    },\n  },\n});\n\nexport const { hydrate, randomizeJob, reset, resetSection, updateRandomizerTypeCount } =\n  jobRandomizerSlice.actions;\n\nexport const selectRandomized = (state) => state.randomizers.jobs.randomized;\nexport const selectRandomizedCounts = (state) => state.randomizers.jobs.randomizedCounts;\nexport const selectSectionItems = (state) => state.randomizers.jobs.sectionItems;\n\nexport default jobRandomizerSlice.reducer;\n","const categories = {\n  onsite: {\n    id: \"onsite\",\n    description: \"Random spawn items located within the haunted building.\",\n    display: \"Building Items\",\n  },\n  starter: {\n    id: \"starter\",\n    description: \"Free items you always start with.\",\n    display: \"Starter Items\",\n  },\n  store: {\n    id: \"store\",\n    description: \"Items that cost money to purchase before the job.\",\n    display: \"Store items\",\n  },\n  truck: {\n    id: \"truck\",\n    description: \"Tools secured within the truck. Ex, monitors and camera view.\",\n    display: \"Truck Gear\",\n  },\n  hidden: {\n    id: \"hidden\",\n  },\n  loot: {\n    id: \"loot\",\n    description: \"Items taken from the map to sell for money\",\n    display: \"Loot Items\",\n  }\n};\n\nexport default categories;\n","const descriptions = {\n  evidence: \"Items used for gathering direct evidence\",\n  objectives: \"Items used for completing objectives\",\n  photos: \"Items worth photo money\",\n  junk: \"Useless crap or favored treasure?\",\n  light: \"Light sources\",\n  tools: \"Items that are useful for general gameplay\",\n  other: \"Everything else!\",\n  lqloot: \"Low quality loot items to sell for a small amount of cash.\",\n  hqloot: \"High quality loot items to sell for a large amount of cash.\",\n};\n\nexport const types = {\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n    description: descriptions.evidence,\n    dropChance: 0.15,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 100,\n  },\n  objectives: {\n    id: \"objectives\",\n    display: \"Objectives\",\n    description: descriptions.objectives,\n    dropChance: 0.15,\n    pointValues: {\n      buy: 750,\n      sell: 250,\n    },\n    sortWeight: 110,\n  },\n  tools: {\n    id: \"tools\",\n    display: \"Tools\",\n    description: descriptions.tools,\n    dropChance: 0.10,\n    pointValues: {\n      buy: 500,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  light: {\n    id: \"light\",\n    display: \"Lights\",\n    description: descriptions.light,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1500,\n      sell: 100,\n    },\n    sortWeight: 120,\n  },\n  junk: {\n    id: \"junk\",\n    display: \"Junk\",\n    description: descriptions.junk,\n    dropChance: 0.55,\n    pointValues: {\n      buy: 100,\n      sell: 100,\n    },\n    sortWeight: 130,\n  },\n  photos: {\n    id: \"photos\",\n    display: \"Photos\",\n    description: descriptions.photos,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  other: {\n    id: \"other\",\n    display: \"Other\",\n    description: descriptions.other,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  lqloot: {\n    id: \"lqloot\",\n    description: descriptions.lqloot,\n    display: \"Low Quality Loot\",\n    dropChance: 0.55,\n    pointValues: {\n      buy: 99999,\n      sell: 50,\n    },\n    sortWeight: 10,\n  },\n  hqloot: {\n    id: \"hqloot\",\n    description: descriptions.hqloot,\n    display: \"High Quality Loot\",\n    dropChance: 0.30,\n    pointValues: {\n      buy: 99999,\n      sell: 250,\n    },\n    sortWeight: 0,\n  }\n};\n\nexport default types;\n","import SchoolIcon from \"@material-ui/icons/School\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport { mdiTractor } from \"@mdi/js\";\nimport LocalHospitalIcon from \"@material-ui/icons/LocalHospital\";\nimport CabinIcon from '@mui/icons-material/Cabin';\nimport Icon from \"@mdi/react\";\n\nconst mapTypes = {\n  street: {\n    display: \"Street House\",\n    size: \"Small\",\n    pointValue: 100,\n  },\n  road: {\n    display: \"Road House\",\n    size: \"Small\",\n    pointValue: 150,\n  },\n  farm: {\n    display: \"Farmhouse\",\n    size: \"Small\",\n    pointValue: 200,\n  },\n  outdoor: {\n    display: \"Outdoor\",\n    size: \"Medium\",\n    pointValue: 300,\n  },\n  school: {\n    display: \"School\",\n    size: \"Medium\",\n    pointValue: 300,\n  },\n  institution: {\n    display: \"\",\n    size: \"Large\",\n    pointValue: 400,\n  },\n};\n\nexport const iconMapMap = {\n  tanglewood: <HomeIcon />,\n  edgefield: <HomeIcon />,\n  maplelodge: <CabinIcon />,\n  ridgeview: <HomeIcon />,\n  willow: <HomeIcon />,\n  grafton: <Icon path={mdiTractor} title=\"Grafton\" size={1} aria-hidden={true} />,\n  bleasdale: <Icon path={mdiTractor} title=\"Bleasdale\" size={1} aria-hidden={true} />,\n  brownstone: <SchoolIcon />,\n  prison: <GavelIcon />,\n  asylum: <LocalHospitalIcon />,\n};\n\nconst maps = [\n  {\n    id: \"tanglewood\",\n    display: \"Tanglewood\",\n    type: \"street\",\n    unlocked: false,\n    act: \"act1\",\n  },\n  {\n    id: \"edgefield\",\n    display: \"Edgefield\",\n    type: \"street\",\n    act: \"act1\",\n  },\n  {\n    id: \"ridgeview\",\n    display: \"Ridgeview\",\n    type: \"road\",\n    act: \"act1\",\n  },\n  {\n    id: \"willow\",\n    display: \"Willow\",\n    type: \"street\",\n    act: \"act2\",\n  },\n  {\n    id: \"grafton\",\n    display: \"Grafton\",\n    type: \"farm\",\n    act: \"act2\",\n  },\n  {\n    id: \"bleasdale\",\n    display: \"Bleasdale\",\n    type: \"farm\",\n    act: \"act2\",\n  },\n  {\n    id: \"brownstone\",\n    display: \"High School\",\n    type: \"school\",\n    act: \"act3\",\n  },\n  {\n    id: \"maplelodge\",\n    display: \"Maple Lodge\",\n    type: \"outdoor\",\n    act: \"act3\",\n  },\n  {\n    id: \"prison\",\n    display: \"Prison\",\n    type: \"institution\",\n    act: \"act3\",\n  },\n  {\n    id: \"asylum\",\n    display: \"Asylum\",\n    type: \"institution\",\n    act: \"act3\",\n  },\n].map((map) => ({\n  ...map,\n  unlocked: false,\n  unlockable: false,\n  pointValue: mapTypes[map.type].pointValue,\n}))\n\nexport const mapCategories = {\n  easy: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  medium: [\"willow\", \"grafton\", \"bleasdale\"],\n  hard: [\"brownstone\", \"prison\", \"asylum\"],\n};\n\nexport const mapActList = {\n  act1: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  act2: [\"willow\", \"grafton\", \"bleasdale\"],\n  act3: [\"brownstone\", \"prison\", \"asylum\"],\n};\n\nexport default maps;\n","import { nanoid } from \"nanoid\";\nimport categories from \"./categories\";\nimport types from \"./types\";\nimport maps from \"../maps/\";\n\nconst allMapIds = maps.map((map) => map.id);\n\nconst items = [\n  {\n    display: \"Spirit Box\",\n    displayShort: \"Spirit Box\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Ghost Writing Book\",\n    displayShort: \"Ghost Book\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"D.O.T.S. Projector\",\n    displayShort: \"D.O.T.S.\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Photo Camera\",\n    displayShort: \"Photo\",\n    category: categories.starter,\n    type: \"objectives\",\n  },\n  {\n    display: \"EMF Reader\",\n    displayShort: \"EMF\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Video Camera\",\n    displayShort: \"Video\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"UV Flashlight\",\n    displayShort: \"UV Light\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Flashlight\",\n    displayShort: \"Light\",\n    category: categories.starter,\n    type: \"other\",\n  },\n  {\n    display: \"Objective Board\",\n    displayShort: \"Objective Board\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Site Map\",\n    displayShort: \"Site Map\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Sanity Monitor\",\n    displayShort: \"Sanity Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Site Activity Monitor\",\n    displayShort: \"Activity Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Sound Monitor\",\n    displayShort: \"Sound Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Camera System\",\n    displayShort: \"Camera System\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Ouija Board\",\n    displayShort: \"Ouija\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Bone Evidence\",\n    displayShort: \"Bone\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Candle\",\n    displayShort: \"Candle\",\n    category: categories.store,\n    type: \"light\",\n  },\n  {\n    display: \"Crucifix\",\n    displayShort: \"Crucifix\",\n    category: categories.store,\n    type: \"tools\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Glow Stick\",\n    displayShort: \"Glow Stick\",\n    category: categories.store,\n    type: \"light\",\n  },\n  {\n    display: \"Head Mounted Camera\",\n    displayShort: \"Head Cam\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Infrared Light Sensor\",\n    displayShort: \"Light Sensor\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Lighter\",\n    displayShort: \"Lighter\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Motion Sensor\",\n    displayShort: \"Motion Sensor\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Parabolic Microphone\",\n    displayShort: \"Parabolic\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Salt Shaker\",\n    displayShort: \"Salt\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Sanity Pills\",\n    displayShort: \"Pills\",\n    category: categories.store,\n    type: \"tools\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Smudge Sticks\",\n    displayShort: \"Smudge\",\n    category: categories.store,\n    type: \"objectives\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Sound Sensor\",\n    displayShort: \"Sound Sensor\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Strong Flashlight\",\n    displayShort: \"Strong Light\",\n    category: categories.store,\n    type: \"light\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Thermometer\",\n    displayShort: \"Thermo\",\n    category: categories.store,\n    type: \"evidence\",\n  },\n  {\n    display: \"Tripod\",\n    displayShort: \"Tripod\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"None\",\n    displayShort: \"None\",\n    category: categories.hidden,\n    type: \"other\",\n  },\n].map((x) => ({\n  // Globals (can be overwritten)\n  enabled: true,\n  used: false,\n  allowedMaps: allMapIds,\n  pointValues: types[x.type].pointValues,\n  dropChance: types[x.type].dropChance,\n  sortWeight: types[x.type].sortWeight,\n  ...x,\n  // Forced default\n  id: nanoid(),\n}));\n\nconst loot = [\n  {\n    display: \"Mobile Phone\",\n    displayShort: \"Mobile\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"maplelodge\", \"ridgeview\", \"willow\"],\n  },\n  {\n    display: \"Dirty Wallet\",\n    displayShort: \"Dirty Wallet\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Cheap Necklace\",\n    displayShort: \"Cheap Necklace\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Copper Wiring\",\n    displayShort: \"Copper Wiring\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Fancy Ring\",\n    displayShort: \"Fancy Ring\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Laptop\",\n    displayShort: \"Laptop\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\", \"willow\"],\n  },\n  {\n    display: \"Dinner Plates\",\n    displayShort: \"Plates\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\", \"willow\"],\n  },\n  {\n    display: \"Old Donut\",\n    displayShort: \"Old Donut\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"prison\", \"asylum\"],\n  },\n  {\n    display: \"Moon Lamp\",\n    displayShort: \"Moon Lamp\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"ridgeview\", \"maplelodge\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Set of Mugs\",\n    displayShort: \"Mugs\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\", \"willow\"],\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"grafton\", \"maplelodge\", \"bleasdale\", \"willow\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Rusty Shiv\",\n    displayShort: \"Shiv\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    pointValues: {\n      buy: 99999,\n      sell: 75,\n    },\n  },\n  {\n    display: \"Billy Club\",\n    displayShort: \"Club\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    pointValues: {\n      buy: 99999,\n      sell: 250,\n    },\n  },\n  {\n    display: \"Warden's Keyring\",\n    displayShort: \"Keyring\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"prison\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Doctor's Wallet\",\n    displayShort: \"Wallet\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Antique Clock\",\n    displayShort: \"Clock\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"grafton\", \"bleasdale\"],\n    dropChance: 0.20,\n    pointValues: {\n      buy: 99999,\n      sell: 1500,\n    },\n  },\n  {\n    display: \"Bloody Mascot Outfit\",\n    displayShort: \"Mascot Outfit\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"brownstone\"],\n    dropChance: 0.20,\n    pointValues: {\n      buy: 99999,\n      sell: 1800,\n    },\n  },\n  {\n    display: \"Contraband Stash\",\n    displayShort: \"Contraband\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Used Hockey Mask\",\n    displayShort: \"Hockey Mask\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"maplelodge\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2500,\n    },\n  },\n].map((x) => ({\n  // Globals (can be overwritten)\n  enabled: true,\n  used: false,\n  dropChance: types[x.type].dropChance,\n  pointValues: types[x.type].pointValues,\n  sortWeight: types[x.type].sortWeight,\n  ...x,\n  // Forced default\n  id: nanoid(),\n}));\n\nconst allItems = [...items, ...loot];\n\nexport default allItems;\n\nexport const maxItemLootChances = {\n  junk: 3,\n  evidence: 1,\n  objectives: 1,\n  lqloot: 3,\n  hqloot: 2,\n  light: 1,\n};\n","const categories = {\n  collector: {\n    display: \"Collector\",\n    description: \"Collects things. All the things.\",\n    removalCost: 250,\n    duration: -1\n  },\n  obsessive: {\n    display: \"Obsessive\",\n    description: \"Ritualistic, repetitive behaviors.\",\n    removalCost: 1250,\n    duration: -1,\n  },\n  nervous: {\n    display: \"Nervous\",\n    description: \"Accident-prone, high-strung behaviors.\",\n    removalCost: 750,\n    duration: -1,\n  },\n  reckless: {\n    display: \"Reckless\",\n    description: \"Impulsive behaviors and tendencies.\",\n    removalCost: 1000,\n    duration: 3,\n  },\n  silly: {\n    display: \"Silly\",\n    description: \"Silly and ludicrous behaviors\",\n    removalCost: 500,\n    duration: 3,\n  },\n  temporary: {\n    display: \"Temporary\",\n    description: \"Temporary effects and events that end on their own.\",\n    duration: 1, // Number of missions, default to 1\n    removalCost: 1000,\n  }\n};\n\nexport default categories;\n","import items, { maxItemLootChances } from \"./data/items\";\nimport traits from \"./data/traits\";\nimport maps, { mapCategories, mapActList, iconMapMap } from \"./data/maps\";\n\nexport const data = {\n  items,\n  maps,\n  mapCategories,\n  mapActList,\n  iconMapMap,\n  traits,\n  maxItemLootChances,\n};\n\nexport const initialState = {\n  characters: [],\n  missionDrawerOpen: false,\n};\n\nexport const Acts = [\n  {\n    id: \"act1\",\n    display: \"Act One\",\n  },\n  {\n    id: \"act2\",\n    display: \"Act Two\",\n  },\n  {\n    id: \"act3\",\n    display: \"Act Three\",\n  },\n];\n","import { nanoid } from \"nanoid\";\nimport categories from \"./categories\";\n\nconst traits = [\n  {\n    display: \"Chatterbox\",\n    description: \"Must speak into the mic during hunts until you reach a hiding spot.\",\n    category: \"reckless\",\n  },\n  {\n    display: \"Manic Skeptic\",\n    description: \"If found, must immediately ask the Ouija board five questions.\",\n    category: \"reckless\",\n    duration: 3,\n  },\n  {\n    display: \"Moonwalker\",\n    description: \"Must move backwards at all times.\",\n    category: \"silly\",\n    duration: 1,\n  },\n  {\n    display: \"Krusty Locomotion\",\n    description: \"Must always crouch and move side-to-side only (crab walk).\",\n    category: \"silly\",\n  },\n  {\n    display: \"Microbladder\",\n    description: \"Upon entering any bathroom, must flush all flushable toilets.\",\n    category: \"obsessive\",\n  },\n  {\n    display: \"Clumsy\",\n    description: \"Must drop all items at the start of every hunt.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Dead or Alive\",\n    description: \"Must spin in place for two full circles at the start of a hunt.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Creeper\",\n    description: \"Must collect all photos within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Krampus\",\n    description:\n      \"Must collect all toys, dolls, balls, blocks, etc within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Ebay Specialist\",\n    description: \"Must collect all cell phones and laptops within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Dinner Time\",\n    description:\n      \"Must collect all plates, cups, and silverware within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Aspiring Artist\",\n    description: \"Must collect all spraypaint cans within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Nyctalopian\",\n    description: \"Must turn on the lights in every room they enter and keep them on.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Photophobian\",\n    description: \"Must turn off the lights in every room they enter and keep them off.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Chandler Bing\",\n    description: \"Must always carry a lighted candle except to pick up and drop evidence items.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Sheet Inspector\",\n    description: \"May only use the UV Flashlight or Glowsticks for a light source.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Leibovitz Mania\",\n    description: \"Must get full book of 3-star photos or the mission is failed.\",\n    category: \"obsessive\",\n  },\n  {\n    display: \"Downed Powerlines\",\n    description: \"Unable to turn on the building power.\",\n    category: \"temporary\",\n  },\n].map((x) => ({\n  removalCost: categories[x.category].removalCost,\n  duration: categories[x.category].duration || -1,\n  remaining: categories[x.category].duration || -1,\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport default traits;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { initialState } from \"./constants\";\nimport { nanoid } from \"nanoid\";\n\nconst getActiveCharacter = (state) => state.characters.find((character) => character.isActive);\n\nconst getUpdatedMapUnlocks = (state, realBankedPoints) => {\n  const activeCharacter = getActiveCharacter(state);\n  const nextLockedMap = activeCharacter.maps.find((map) => !map.unlocked);\n\n  return activeCharacter.maps.map((map) => ({\n    ...map,\n    unlockable: nextLockedMap && nextLockedMap.id === map.id && realBankedPoints >= map.pointCost,\n  }));\n};\n\nexport const phasmoRPGSlice = createSlice({\n  name: \"phasmoRPG\",\n  initialState,\n  reducers: {\n    updateCharacter: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n\n      state.characters[activeCharacterIndex] = {\n        ...state.characters[activeCharacterIndex],\n        ...action.payload,\n      };\n    },\n    addRandomTrait: (state, action) => {\n      const activeCharacter = getActiveCharacter(state);\n\n      state.characters = state.characters.map((character) => ({\n        ...character,\n        traits:\n          character.id === activeCharacter.id\n            ? [...character.traits, action.payload]\n            : character.traits,\n      }));\n    },\n    addRandomLoot: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        items: action.payload,\n      };\n    },\n    buyItem: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n      const bankedPoints = activeCharacter.bankedPoints - action.payload.pointValues.buy;\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        bankedPoints,\n        items: [...activeCharacter.items, action.payload],\n        maps: getUpdatedMapUnlocks(state, bankedPoints),\n      };\n    },\n    sellItem: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n      const bankedPoints = activeCharacter.bankedPoints + action.payload.pointValues.sell;\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        bankedPoints,\n        items: activeCharacter.items.filter((item) => item.id !== action.payload.id),\n        maps: getUpdatedMapUnlocks(state, bankedPoints),\n      };\n    },\n    logMission: (state, action) => {\n      // log each complete mission for stats\n    },\n    removeTrait: (state, action) => {\n      const activeCharacter = getActiveCharacter(state);\n\n      const traitCost = activeCharacter.traits.find(\n        (trait) => trait.display === action.payload.display\n      ).removalCost;\n\n      // Verify funds\n      if (activeCharacter.bankedPoints >= traitCost) {\n        const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n\n        const updatedCharacterTraits = activeCharacter.traits.filter(\n          (trait) => trait.display !== action.payload.display\n        );\n\n        state.characters[activeCharacterIndex] = {\n          ...state.characters[activeCharacterIndex],\n          traits: updatedCharacterTraits,\n          bankedPoints: activeCharacter.bankedPoints - traitCost,\n        };\n      }\n    },\n    deleteCharacter: (state, action) => {\n      state.characters = state.characters.filter((character) => character.id !== action.payload.id);\n    },\n    saveCharacter: (state, action) => {\n      const character = state.characters.find(\n        (character) => character.name === action.payload.name\n      );\n\n      const characterDetails = {\n        ...action.payload,\n        isActive: true,\n        bankedPoints: (character && character.bankedPoints) || 0,\n        id: (character && character.id) || nanoid(),\n      };\n\n      if (character) {\n        state.characters = state.characters.map((character) => {\n          if (character.id === action.payload.id) {\n            return characterDetails;\n          }\n          return character;\n        });\n      } else {\n        state.characters = [...state.characters, characterDetails];\n      }\n    },\n    setCharacterActive: (state, action) => {\n      state.characters = state.characters.map((character) => ({\n        ...character,\n        isActive: character.id === action.payload,\n      }));\n    },\n    setNextUnlockableMap: (state) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const maps = state.characters[activeCharacterIndex].maps;\n      const bankedPoints = state.characters[activeCharacterIndex].bankedPoints;\n      const nextLockedMap = maps.find((map) => !map.unlocked);\n\n      if (nextLockedMap) {\n        state.characters[activeCharacterIndex].maps = maps.map((map) => ({\n          ...map,\n          unlockable: nextLockedMap.id === map.id && bankedPoints >= map.pointCost && !map.unlocked,\n        }));\n      }\n    },\n    toggleMissionDrawerOpen: (state) => {\n      state.missionDrawerOpen = !state.missionDrawerOpen;\n    },\n    unlockMap: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const bankedPoints = state.characters[activeCharacterIndex].bankedPoints;\n      const maps = state.characters[activeCharacterIndex].maps;\n\n      let didSpendPoints = false;\n      let mapCost = 0;\n      let updatedCharacter = {\n        ...state.characters[activeCharacterIndex],\n        maps: maps.map((map) => {\n          if (map.id === action.payload && bankedPoints >= map.pointCost) {\n            didSpendPoints = true;\n            mapCost = map.pointCost;\n            return {\n              ...map,\n              unlocked: true,\n              unlockable: false,\n            };\n          }\n\n          return map;\n        }),\n      };\n      if (didSpendPoints) {\n        updatedCharacter = {\n          ...updatedCharacter,\n          bankedPoints: bankedPoints - mapCost,\n        };\n      }\n      state.characters[activeCharacterIndex] = updatedCharacter;\n    },\n    hydrate: (state, action) => {\n      return {\n        ...state,\n        characters: action.payload.characters,\n      };\n    },\n    reset: () => initialState,\n  },\n});\n\nexport const {\n  hydrate,\n  reset,\n  buyItem,\n  sellItem,\n  addRandomTrait,\n  deleteCharacter,\n  removeTrait,\n  saveCharacter,\n  setCharacterActive,\n  setNextUnlockableMap,\n  setPreviewCharacter,\n  toggleMissionDrawerOpen,\n  addRandomLoot,\n  unlockMap,\n  updateCharacter,\n} = phasmoRPGSlice.actions;\n\nexport const selectCharacters = (state) => state.phasmoRPG.characters;\nexport const selectActiveCharacter = (state) =>\n  state.phasmoRPG.characters.find((character) => character.isActive);\n\nexport const selectMissionDrawerOpen = (state) => state.phasmoRPG.missionDrawerOpen;\nexport const selectHasActiveCharacter = (state) =>\n  state.phasmoRPG.characters.filter((c) => c.isActive).length > 0;\n\nexport default phasmoRPGSlice.reducer;\n","import { nanoid } from \"nanoid\";\n\nexport const categories = {\n  atmospheric: {\n    categoryId: \"atmospheric\",\n    categoryDisplay: \"Atmospheric\",\n    categoryDescription: \"Lighting, sound, and other ambience related challenges.\",\n  },\n  collections: {\n    categoryId: \"collections\",\n    categoryDisplay: \"Collections\",\n    categoryDescription: \"Scavenger hunting for different sorts of items found in the buildings.\",\n  },\n  evidence: {\n    categoryId: \"evidence\",\n    categoryDisplay: \"Evidence\",\n    categoryDescription: \"Evidence and tool related challenges.\",\n  },\n  insane: {\n    categoryId: \"insane\",\n    categoryDisplay: \"Insane\",\n    categoryDescription: \"Challenges for those with a deathwish!\",\n  },\n  roleplaying: {\n    categoryId: \"roleplaying\",\n    categoryDisplay: \"Role-Playing\",\n    categoryDescription: \"Add some random spice to your team!\",\n  },\n  silly: {\n    categoryId: \"silly\",\n    categoryDisplay: \"Silly\",\n    categoryDescription: \"Silly and ridiculous challenges.\",\n  },\n};\n\nconst challenges = [\n  {\n    display: \"Starter Items Only\",\n    description: \"Play a round with only the starting items.\",\n    ...categories.evidence,\n  },\n  {\n    display: \"Candle Only (Easy)\",\n    description: \"Use only the candle and interior house lights.\",\n    ...categories.atmospheric,\n  },\n  {\n    display: \"Candle Only (Hard)\",\n    description: \"Use only the candle for illumination, no interior house lights.\",\n    ...categories.atmospheric,\n  },\n  {\n    display: \"No Evidence\",\n    description: \"Use secondary evidence only. No primary evidence tools allowed.\",\n    ...categories.evidence,\n  },\n  {\n    display: \"Crab Walk\",\n    description: \"Must crouch and strafe side-to-side. No straight forward/back walking.\",\n    ...categories.silly,\n  },\n  {\n    display: \"Walk Backwards\",\n    description: \"Only walk backwards (sprint allowed).\",\n    ...categories.silly,\n  },\n  {\n    display: \"No Sprinting\",\n    description: \"Walk, do not run, to an early grave!\",\n    ...categories.insane,\n  },\n  {\n    display: \"Ghost Hunt Photo\",\n    description: \"You must obtain the ghost photo during a hunt.\",\n    ...categories.insane,\n  },\n  {\n    display: \"No Hunt Indicators\",\n    description: \"No flashlights, UV lights, interior lights, or global-talk checks!\",\n    ...categories.insane,\n  },\n  {\n    display: \"Collect: Electronics\",\n    description: \"You must bring all electronic items from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Toys\",\n    description:\n      \"You must bring all bears, bunnies, blocks, dolls, etc from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Dining Items\",\n    description:\n      \"You must bring all plates, silverware, cups, teapots, etc from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Spray Paint\",\n    description: \"You must bring all spray paint bottles from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Behavior: Hunt Freakout\",\n    description: \"Drop all your items immediately when a hunt starts.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Behavior: Reckless\",\n    description: \"If found, ask the Ouija Board five questions.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Behavior: Chatterbox\",\n    description: \"You must speak over the mic during a hunt until you reach a hiding spot.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Obsessive: Doors\",\n    description: \"Close every door behind you when inside the building.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Obsessive: Bathrooms\",\n    description: \"Flush the toilet and run the sink in every bathroom you pass by.\",\n    ...categories.roleplaying,\n  },\n].map((challenge) => ({\n  ...challenge,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const initialState = {\n  list: challenges,\n  random: null,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState } from \"./constants\";\n\nconst getRandomChallenge = (state) => {\n  const validChallenges = state.list.filter((challenge) => challenge.enabled && !challenge.used);\n  return validChallenges[Math.floor(Math.random() * validChallenges.length)];\n};\n\nexport const challengeRandomizerSlice = createSlice({\n  name: \"challenges\",\n  initialState,\n  reducers: {\n    resetUsed: (state) => {\n      state.list = state.list.map((challenge) => ({\n        ...challenge,\n        used: false,\n      }));\n    },\n    reset: () => initialState,\n    setRandomChallenge: (state) => {\n      const random = getRandomChallenge(state);\n      const list = state.list.map((challenge) => {\n        if (challenge.id === random.id) {\n          return {\n            ...challenge,\n            used: true,\n          };\n        }\n        return challenge;\n      });\n\n      return {\n        list,\n        random,\n      };\n    },\n    toggleCategory: (state, action) => {\n      state.list = state.list.map((challenge) => {\n        if (challenge.categoryId === action.payload.categoryId) {\n          return {\n            ...challenge,\n            enabled: action.payload.enabled,\n          };\n        }\n        return challenge;\n      });\n    },\n    toggleChallenge: (state, action) => {\n      state.list = state.list.map((challenge) => {\n        if (challenge.id === action.payload) {\n          return {\n            ...challenge,\n            enabled: !challenge.enabled,\n            used: false,\n          };\n        }\n        return challenge;\n      });\n    },\n  },\n});\n\nexport const { reset, resetUsed, setRandomChallenge, toggleCategory, toggleChallenge } =\n  challengeRandomizerSlice.actions;\n\nexport const selectRandomizedChallenge = (state) => state.randomizers.challenges.random;\nexport const selectChallenges = (state) => state.randomizers.challenges.list;\n\nexport default challengeRandomizerSlice.reducer;\n","const evidence = [\n  {\n    id: \"dotsprojector\",\n    long: \"D.O.T.S. Projector\",\n    short: \"D.O.T.S. Projector\",\n  },\n  {\n    id: \"emflevel5\",\n    long: \"EMF Level 5\",\n    short: \"EMF 5\",\n  },\n  {\n    id: \"fingerprints\",\n    long: \"Fingerprints\",\n    short: \"Fingerprints\",\n  },\n  {\n    id: \"freezingtemperatures\",\n    long: \"Freezing Temperatures\",\n    short: \"Freezing\",\n  },\n  {\n    id: \"ghostorbs\",\n    long: \"Ghost Orbs\",\n    short: \"Orbs\",\n  },\n  {\n    id: \"ghostwriting\",\n    long: \"Ghost Writing\",\n    short: \"Writing\",\n  },\n  {\n    id: \"spiritbox\",\n    long: \"Spirit Box\",\n    short: \"Spirit Box\",\n  },\n];\n\nexport const initialState = {\n  included: [],\n  excluded: [],\n  all: evidence,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { mdiRadioHandheld } from \"@mdi/js\";\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport Icon from '@mdi/react'\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\nimport SettingsInputAntennaIcon from \"@material-ui/icons/SettingsInputAntenna\";\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\n\nimport { initialState } from \"./constants\";\n\nexport const iconMap = (id) => {\n  const map = {\n    dotsprojector: () => <DragIndicatorIcon />,\n    emflevel5: () => <SettingsInputAntennaIcon />,\n    fingerprints: () => <FingerprintIcon />,\n    freezingtemperatures: () => <AcUnitIcon />,\n    ghostorbs: () => <VideocamIcon />,\n    ghostwriting: () => <MenuBookIcon />,\n    spiritbox: () => (\n      <Icon path={mdiRadioHandheld} title=\"Spirit Box\" size={1} aria-hidden={true} />\n    ),\n  };\n\n  return map[id]();\n};\n\nexport const evidenceSlice = createSlice({\n  name: \"evidence\",\n  initialState,\n  reducers: {\n    cycle: (state, action) => {\n      const isIncluded = state.included.find((s) => s.id === action.payload.id);\n      const isExcluded = state.excluded.find((s) => s.id === action.payload.id);\n\n      if (!isExcluded && !isIncluded) {\n        state.included = [...new Set([...state.included, action.payload])];\n      }\n\n      if (isIncluded) {\n        state.excluded = [...new Set([...state.excluded, action.payload])];\n        state.included = state.included.filter((ev) => ev.id !== action.payload.id);\n      }\n\n      if (isExcluded) {\n        state.excluded = state.excluded.filter((ev) => ev.id !== action.payload.id);\n      }\n    },\n    resetEvidence: (state) => {\n      state.included = [];\n      state.excluded = [];\n    },\n  },\n});\n\nexport const { cycle, resetEvidence } = evidenceSlice.actions;\n\nexport const selectIncluded = (state) => state.evidence.included;\nexport const selectExcluded = (state) => state.evidence.excluded;\nexport const selectEvidence = (state) => state.evidence.all;\nexport const selectIsPristine = (state) => state.evidence.included.length > 0 || state.evidence.excluded.length > 0;\n\nexport default evidenceSlice.reducer;\n","export const GHOST_NAMES = {\n  firstnames: [\n    \"Charles\",\n    \"Christopher\",\n    \"Daniel\",\n    \"David\",\n    \"Donald\",\n    \"George\",\n    \"James\",\n    \"John\",\n    \"Joseph\",\n    \"Kenneth\",\n    \"Mark\",\n    \"Michael\",\n    \"Paul\",\n    \"Richard\",\n    \"Robert\",\n    \"Steven\",\n    \"Thomas\",\n    \"William\",\n    \"Barbara\",\n    \"Betty\",\n    \"Carol\",\n    \"Donna\",\n    \"Dorothy\",\n    \"Elizabeth\",\n    \"Helen\",\n    \"Jennifer\",\n    \"Karen\",\n    \"Linda\",\n    \"Lisa\",\n    \"Margaret\",\n    \"Maria\",\n    \"Mary\",\n    \"Nancy\",\n    \"Patricia\",\n    \"Ruth\",\n    \"Sandra\",\n    \"Susan\",\n  ],\n  lastnames: [\n    \"Anderson\",\n    \"Brown\",\n    \"Clark\",\n    \"Davis\",\n    \"Garcia\",\n    \"Harris\",\n    \"Jackson\",\n    \"Johnson\",\n    \"Jones\",\n    \"Martin\",\n    \"Martinez\",\n    \"Miller\",\n    \"Moore\",\n    \"Robinson\",\n    \"Smith\",\n    \"Taylor\",\n    \"Thomas\",\n    \"Thompson\",\n    \"Williams\",\n    \"Wilson\",\n    \"White\",\n  ],\n};\n\nexport const FIRSTNAME_FIRST_LETTERS = [\n  ...new Set(GHOST_NAMES.firstnames.map((name) => name.slice(0, 1))),\n].sort();\nexport const LASTNAME_FIRST_LETTERS = [\n  ...new Set(GHOST_NAMES.lastnames.map((name) => name.slice(0, 1))),\n].sort();\n\nexport const INSTRUCTIONS = {\n  firstnameLetters: \"First Letter of First Name\",\n  firstnames: \"Ghost's First Name\",\n  lastnameLetters: \"First Letter of Last Name\",\n  lastnames: \"Ghost's Last Name\",\n};\n\nexport const initialState = {\n  ref: {\n    firstnames: GHOST_NAMES.firstnames,\n    lastnames: GHOST_NAMES.lastnames,\n  },\n  firstnames: [],\n  lastnames: [],\n  firstnameLetters: FIRSTNAME_FIRST_LETTERS,\n  lastnameLetters: LASTNAME_FIRST_LETTERS,\n  firstname: \"\",\n  lastname: \"\",\n  instructions: INSTRUCTIONS,\n  step: 'firstnameLetters',\n  views: {\n    firstnameLetters: true,\n    firstnames: false,\n    lastnameLetters: false,\n    firstname: false,\n    lastname: false,\n    lastnames: false,\n  },\n  visible: true,\n};\n\nexport const falseViews = {\n  firstnameLetters: false,\n  firstnames: false,\n  lastnameLetters: false,\n  firstname: false,\n  lastname: false,\n  lastnames: false,\n  fullname: false,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { falseViews, initialState } from \"./constants\";\n\nconst enableView = (view) => ({\n  ...falseViews,\n  [view]: true,\n});\n\nexport const ghostNameSlice = createSlice({\n  name: \"ghostName\",\n  initialState,\n  reducers: {\n    resetGhostName: () => initialState,\n    setFirstnames: (state, action) => {\n      state.firstnames = state.ref.firstnames.filter(\n        (firstname) => firstname[0] === action.payload\n      );\n      // Skip name selection if there's only one match\n      if (state.firstnames.length === 1) {\n        state.firstname = state.firstnames[0];\n        state.views = enableView(\"lastnameLetters\");\n        state.step = \"lastnameLetters\";\n        return;\n      }\n      state.views = enableView(\"firstnames\");\n      state.step = \"firstnames\";\n    },\n    setFirstname: (state, action) => {\n      state.firstname = action.payload;\n      state.views = enableView(\"lastnameLetters\");\n      state.step = \"lastnameLetters\";\n    },\n    setLastnames: (state, action) => {\n      state.lastnames = state.ref.lastnames.filter((lastname) => lastname[0] === action.payload);\n\n      // Skip name selection if there's only one match\n      if (state.lastnames.length === 1) {\n        state.lastname = state.lastnames[0];\n        state.views = enableView(\"fullname\");\n        state.step = \"lastname\";\n        state.visible = false;\n        return;\n      }\n\n      state.views = enableView(\"lastnames\");\n      state.step = \"lastnames\";\n    },\n    setLastname: (state, action) => {\n      state.lastname = action.payload;\n      state.step = \"lastname\";\n      state.visible = false;\n    },\n  },\n});\n\nexport const { resetGhostName, setFirstnames, setFirstname, setLastnames, setLastname } =\n  ghostNameSlice.actions;\n\nexport const selectIsVisible = (state) => state.ghostName.visible;\nexport const selectFirstname = (state) => state.ghostName.firstname;\nexport const selectLastname = (state) => state.ghostName.lastname;\nexport const selectFirstnames = (state) => state.ghostName.firstnames;\nexport const selectLastnames = (state) => state.ghostName.lastnames;\nexport const selectFirstnameLetters = (state) => state.ghostName.firstnameLetters;\nexport const selectLastnameLetters = (state) => state.ghostName.lastnameLetters;\nexport const selectViews = (state) => state.ghostName.views;\nexport const selectInstructions = (state) => state.ghostName.instructions[state.ghostName.step];\n\nexport default ghostNameSlice.reducer;\n","export const ghostNames = [\n  \"Banshee\",\n  \"Demon\",\n  \"Hantu\",\n  \"Jinn\",\n  \"Mare\",\n  \"Oni\",\n  \"Phantom\",\n  \"Poltergeist\",\n  \"Revenant\",\n  \"Shade\",\n  \"Spirit\",\n  \"Wraith\",\n  \"Yokai\",\n  \"Yurei\",\n];\n\nexport const ghosts = [\n  {\n    id: \"banshee\",\n    i18nKey: \"phasmo.ghosts.banshee\",\n    evidence: [\"ghostorbs\", \"fingerprints\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [\"banshee1\"],\n  },\n  {\n    id: \"demon\",\n    i18nKey: \"phasmo.ghosts.demon\",\n    evidence: [\"ghostwriting\", \"freezingtemperatures\", \"fingerprints\"],\n    secondaryEvidencei18nKeys: [\"demon1\", \"demon2\"],\n  },\n  {\n    id: \"goryo\",\n    i18nKey: \"phasmo.ghosts.goryo\",\n    name: \"Goryo\",\n    evidence: [\"emflevel5\", \"fingerprints\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [\"goryo1\"],\n  },\n  {\n    id: \"hantu\",\n    i18nKey: \"phasmo.ghosts.hantu\",\n    name: \"Hantu\",\n    evidence: [\"fingerprints\", \"ghostorbs\", \"freezingtemperatures\"],\n    secondaryEvidencei18nKeys: [],\n  },\n  {\n    id: \"jinn\",\n    i18nKey: \"phasmo.ghosts.jinn\",\n    name: \"Jinn\",\n    evidence: [\"emflevel5\", \"freezingtemperatures\", \"fingerprints\"],\n    secondaryEvidencei18nKeys: [\"jinn1\", \"jinn2\"],\n  },\n  {\n    id: \"mare\",\n    i18nKey: \"phasmo.ghosts.mare\",\n    name: \"Mare\",\n    evidence: [\"ghostwriting\", \"ghostorbs\", \"spiritbox\"],\n    secondaryEvidencei18nKeys: [\"mare1\", \"mare2\", \"mare3\"],\n  },\n  {\n    id: \"myling\",\n    i18nKey: \"phasmo.ghosts.myling\",\n    name: \"Myling\",\n    evidence: [\"emflevel5\", \"fingerprints\", \"ghostwriting\"],\n    secondaryEvidencei18nKeys: [\"myling1\"],\n  },\n  {\n    id: \"obake\",\n    i18nKey: \"phasmo.ghosts.obake\",\n    name: \"Obake\",\n    evidence: [\"emflevel5\", \"ghostorbs\", \"fingerprints\"],\n    secondaryEvidencei18nKeys: [\"obake1\", \"obake2\"],\n  },\n  {\n    id: \"oni\",\n    i18nKey: \"phasmo.ghosts.oni\",\n    name: \"Oni\",\n    evidence: [\"emflevel5\", \"freezingtemperatures\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [\"oni1\"],\n  },\n  {\n    id: \"phantom\",\n    i18nKey: \"phasmo.ghosts.phantom\",\n    name: \"Phantom\",\n    evidence: [\"spiritbox\", \"fingerprints\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [\"phantom1\", \"phantom2\"],\n  },\n  {\n    id: \"poltergeist\",\n    i18nKey: \"phasmo.ghosts.poltergeist\",\n    name: \"Poltergeist\",\n    evidence: [\"ghostwriting\", \"spiritbox\", \"fingerprints\"],\n    secondaryEvidencei18nKeys: [\"poltergeist1\"],\n  },\n  {\n    id: \"raiju\",\n    i18nKey: \"phasmo.ghosts.raiju\",\n    name: \"Raiju\",\n    evidence: [\"emflevel5\", \"ghostorbs\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [\"raiju1\"],\n  },\n  {\n    id: \"revenant\",\n    i18nKey: \"phasmo.ghosts.revenant\",\n    name: \"Revenant\",\n    evidence: [\"ghostorbs\", \"ghostwriting\", \"freezingtemperatures\"],\n    secondaryEvidencei18nKeys: [\"revenant1\", \"revenant2\"],\n  },\n  {\n    id: \"shade\",\n    name: \"Shade\",\n    i18nKey: \"phasmo.ghosts.shade\",\n    evidence: [\"emflevel5\", \"freezingtemperatures\", \"ghostwriting\"],\n    secondaryEvidencei18nKeys: [],\n  },\n  {\n    id: \"spirit\",\n    i18nKey: \"phasmo.ghosts.spirit\",\n    name: \"Spirit\",\n    evidence: [\"emflevel5\", \"ghostwriting\", \"spiritbox\"],\n    secondaryEvidencei18nKeys: [\"spirit1\"],\n  },\n  {\n    id: \"thetwins\",\n    i18nKey: \"phasmo.ghosts.thetwins\",\n    name: \"The Twins\",\n    evidence: [\"emflevel5\", \"spiritbox\", \"freezingtemperatures\"],\n    secondaryEvidencei18nKeys: [\"oni1\"],\n  },\n  {\n    id: \"wraith\",\n    i18nKey: \"phasmo.ghosts.wraith\",\n    name: \"Wraith\",\n    evidence: [\"emflevel5\", \"dotsprojector\", \"spiritbox\"],\n    secondaryEvidencei18nKeys: [\"wraith1\"],\n  },\n  {\n    id: \"yokai\",\n    i18nKey: \"phasmo.ghosts.yokai\",\n    name: \"Yokai\",\n    evidence: [\"ghostorbs\", \"dotsprojector\", \"spiritbox\"],\n    secondaryEvidencei18nKeys: [],\n  },\n  {\n    id: \"yurei\",\n    i18nKey: \"phasmo.ghosts.yurei\",\n    name: \"Yurei\",\n    evidence: [\"freezingtemperatures\", \"ghostorbs\", \"dotsprojector\"],\n    secondaryEvidencei18nKeys: [],\n  },\n];\n\nconst allGhosts = ghosts.map((ghost) => ({\n  ...ghost,\n  included: true,\n}));\n\nexport const initialState = {\n  list: allGhosts,\n  selected: null,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { initialState } from \"./constants\";\n\nexport const ghostsSlice = createSlice({\n  name: \"ghosts\",\n  initialState,\n  reducers: {\n    setActiveGhost: (state, action) => {\n      state.selected = action.payload;\n    },\n    resetGhosts: (state) => {\n      state.selected = null;\n    },\n    updateGhosts: (state, { payload: { included, excluded } }) => {\n      const updatedGhosts = state.list.map((ghost) => {\n        if (excluded.some((ev) => ghost.evidence.includes(ev.id))) {\n          return {\n            ...ghost,\n            included: false,\n          };\n        }\n\n        if (included.some((ev) => !ghost.evidence.includes(ev.id))) {\n          return {\n            ...ghost,\n            included: false,\n          };\n        }\n\n        return {\n          ...ghost,\n          included: true,\n        };\n      });\n\n      // Split by included state and sort alpha\n      const sortedGhosts = [\n        ...updatedGhosts\n          .filter((ghost) => ghost.included)\n          .sort((a, b) => (a.name > b.name && 1) || -1),\n        ...updatedGhosts\n          .filter((ghost) => !ghost.included)\n          .sort((a, b) => (a.name > b.name && 1) || -1),\n      ];\n\n      state.list = sortedGhosts;\n    },\n  },\n});\n\nexport const { resetGhosts, setActiveGhost, updateGhosts } = ghostsSlice.actions;\n\nexport const selectGhosts = (state) => state.ghosts.list;\nexport const selectSelected = (state) => state.ghosts.selected;\n\nexport default ghostsSlice.reducer;\n","export const photoValues = {\n  ghost: {\n    1: 70,\n    2: 85,\n    3: 100,\n  },\n  bone: {\n    1: 40,\n    2: 55,\n    3: 70,\n  },\n  ouijaboard: {\n    1: 30,\n    2: 45,\n    3: 60,\n  },\n  fingerprints: {\n    1: 15,\n    2: 30,\n    3: 50,\n  },\n  interaction: {\n    1: 20,\n    2: 30,\n    3: 40,\n  },\n  footsteps: {\n    1: 20,\n    2: 30,\n    3: 40,\n  },\n  dirtywater: {\n    1: 15,\n    2: 25,\n    3: 35,\n  },\n  deadbody: {\n    1: 10,\n    2: 20,\n    3: 30,\n  },\n};\n\nexport const photoDetails = [\n  {\n    id: \"ghost\",\n    i18nKey: \"labels.ghost\",\n    display: \"Ghost\",\n    limit: 1,\n  },\n  {\n    id: \"bone\",\n    i18nKey: \"labels.bone\",\n    display: \"Bone\",\n    limit: 1,\n  },\n  {\n    id: \"ouijaboard\",\n    i18nKey: \"labels.ouijaboard\",\n    display: \"Ouija Board\",\n    limit: 1,\n  },\n  {\n    id: \"fingerprints\",\n    i18nKey: \"labels.fingerprints\",\n    display: \"Fingerprints\",\n    limit: 10,\n  },\n  {\n    id: \"interaction\",\n    i18nKey: \"labels.interaction\",\n    display: \"Interaction\",\n    limit: 10,\n  },\n  {\n    id: \"footsteps\",\n    i18nKey: \"labels.footsteps\",\n    display: \"Footsteps\",\n    limit: 10,\n  },\n  {\n    id: \"dirtywater\",\n    i18nKey: \"labels.dirtywater\",\n    display: \"Dirty Water\",\n    limit: 10,\n  },\n  {\n    id: \"deadbody\",\n    i18nKey: \"labels.deadbody\",\n    display: \"Dead Body\",\n    limit: 3,\n  },\n].map((photo) => ({\n  ...photo,\n  count: 0,\n  enabled: true,\n}))\n\nexport const photoTypes = photoDetails.map((photo) => photo.id);\n\nexport const photoDistances = {\n  ghost: {\n    1: \"Taken from greater than 8 meters\",\n    2: \"Taken from between 4 and 8 meters\",\n    3: \"Taken from less than 4 meters\",\n  },\n  other: {\n    1: \"Taken from greater than 8 meters\",\n    2: \"Taken from between 1.5 and 8 meters\",\n    3: \"Taken from less than 1.5 meters\",\n  },\n};\n\nexport const initialState = {\n  counts: photoTypes.reduce(\n    (types, type) => ({\n      ...types,\n      [type]: 0,\n    }),\n    {}\n  ),\n  subtotals: photoTypes.reduce(\n    (types, type) => ({\n      ...types,\n      [type]: 0,\n    }),\n    {}\n  ),\n  photos: photoDetails,\n  collected: [],\n  count: 0,\n  totalValue: 0,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState, photoValues } from \"./constants\";\n\nexport const photoTotalConverter = (total) => {\n  if (total === 0) return 0;\n  if (total >= 1 && total <= 49) return 10;\n  if (total >= 50 && total <= 99) return 15;\n  if (total >= 100 && total <= 199) return 20;\n  if (total >= 200 && total <= 299) return 25;\n  if (total >= 300 && total <= 399) return 30;\n  if (total >= 400 && total <= 499) return 35;\n  if (total >= 500 && total <= 580) return 40;\n  if (total > 580) return 40;\n};\n\nexport const photoCalculatorSlice = createSlice({\n  name: \"photoCalculator\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    addPhoto: (state, action) => {\n      const {\n        payload: { id: photoTypeId, stars: photoTypeStars },\n      } = action;\n\n      // Current photo point values\n      const currentValue = state.collected.reduce(\n        (total, photo) => total + photoValues[photo.id][photo.stars],\n        0\n      );\n\n      // New photo point value\n      const newPhotoValue = photoValues[photoTypeId][photoTypeStars];\n\n      // Convert points to payout\n      state.totalValue = photoTotalConverter(currentValue + newPhotoValue);\n\n      // Calculate subtotals\n      state.subtotals = {\n        ...state.subtotals,\n        [photoTypeId]: state.subtotals[photoTypeId] + newPhotoValue,\n      };\n\n      state.collected = [...state.collected, { ...action.payload, points: newPhotoValue }];\n\n      state.counts = {\n        ...state.counts,\n        [photoTypeId]: state.counts[photoTypeId] + 1,\n      };\n\n      state.count += 1;\n\n      state.photos = state.photos.map((photo) => {\n        if (photo.id === photoTypeId) {\n          const count = photo.count + 1;\n\n          return {\n            ...photo,\n            count,\n            enabled: count < photo.limit,\n          };\n        }\n        return photo;\n      });\n    },\n    disablePhotoType: (state, action) => {\n      state.photos = state.photos.map((photo) => ({\n        ...photo,\n        count: photo.id === action.payload ? 0 : photo.count,\n        enabled: photo.id === action.payload ? false : photo.enabled,\n      }));\n    },\n    removePhoto: (state, action) => {\n      const {\n        payload: { id: photoTypeId, stars: photoTypeStars },\n      } = action;\n      state.collected = state.collected.filter(\n        (photo) => photo.stars !== photoTypeStars && photo.id !== photoTypeId\n      );\n    },\n  },\n});\n\nexport const { addPhoto, disablePhotoType, reset } = photoCalculatorSlice.actions;\n\nexport const selectCollectedPhotos = (state) => state.photoCalculator.collected;\nexport const selectTotalValue = (state) => state.photoCalculator.totalValue;\nexport const selectSubTotalPoints = (state) => state.photoCalculator.subtotals;\nexport const selectPhotoCounts = (state) => state.photoCalculator.counts;\nexport const selectPhotoCount = (state) => state.photoCalculator.count;\nexport const selectPhotos = (state) => state.photoCalculator.photos;\n\nexport default photoCalculatorSlice.reducer;\n","import { combineReducers } from \"redux\";\nimport { configureStore } from \"@reduxjs/toolkit\";\n\nimport appReducer from \"../appSlice\";\nimport challengesReducer from \"../features/randomizers/challenges/challengeRandomizerSlice\";\nimport evidenceReducer from \"../features/evidence/evidenceSlice\";\nimport ghostNameReducer from \"../features/ghostname/ghostNameSlice\";\nimport ghostsReducer from \"../features/ghosts/ghostsSlice\";\nimport jobsReducer from \"../features/randomizers/jobrandomizer/jobRandomizerSlice.js\";\nimport phasmoRPGReducer from \"../features/phasmorpg/phasmoRPGSlice\";\nimport photoCalculatorReducer from \"../features/photocalculator/photoCalculatorSlice\";\n\nconst randomizerReducers = combineReducers({\n  challenges: challengesReducer,\n  jobs: jobsReducer,\n});\n\nexport const store = configureStore({\n  reducer: {\n    app: appReducer,\n    evidence: evidenceReducer,\n    ghosts: ghostsReducer,\n    ghostName: ghostNameReducer,\n    phasmoRPG: phasmoRPGReducer,\n    photoCalculator: photoCalculatorReducer,\n    randomizers: randomizerReducers,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport React from \"react\";\n\nconst useStyles = (props) =>\n  makeStyles((theme) => ({\n    root: {\n      color: `${theme.palette.text[props.color]} !important`,\n      textTransform: props.transform,\n      fontSize: props.size\n    },\n  }));\n\nexport default function Accent({ children, color, size, className, transform, ...props }) {\n  const { root } = useStyles({ color, transform: transform || \"none\", size: size || \"1.0em\" })();\n\n  return (\n    <span className={clsx([root, className])} {...props}>\n      {children}\n    </span>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from 'clsx';\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    fontFamily: \"'Roboto', sans-serif !important\",\n  },\n}));\n\nexport default function Readable({ children, className, ...props }) {\n  const classes = useStyles();\n\n  return (\n    <span className={clsx([classes.root, className])} {...props}>\n      {children}\n    </span>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport { categories } from \"./constants\";\nimport { selectChallenges, toggleCategory, toggleChallenge } from \"./challengeRandomizerSlice\";\nimport Accent from \"../../../common/Accent\";\nimport Readable from \"../../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  category: {\n    backgroundColor: theme.palette.background.default,\n    padding: \"10px\",\n    margin: \"10px\",\n  },\n  categoryTitle: {\n    fontSize: \"1.4em\",\n    textTransform: \"capitalize\",\n  },\n  challengeText: {\n    fontSize: \"1.2em\",\n  },\n  listItem: {\n    \"&:hover\": {\n      color: theme.palette.primary.dark,\n    },\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 300,\n    minWidth: 300,\n    backgroundColor: theme.palette.secondary.dark,\n  },\n  titleBox: {\n    display: \"flex\",\n    \"& > * \": {\n      alignSelf: \"center\",\n    },\n  },\n}));\n\nexport default function ChallengesList() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const challenges = useSelector(selectChallenges);\n\n  const handleToggle = (challengeId) => () => {\n    dispatch(toggleChallenge(challengeId));\n  };\n\n  const handleToggleCategory = (categoryId) => (e) =>\n    dispatch(toggleCategory({ categoryId, enabled: e.target.checked }));\n\n  const categoryCheckedStatuses = React.useMemo(\n    () =>\n      Object.keys(categories).reduce((categories, categoryId) => {\n        const enabledInCategory = challenges.filter(\n          (challenge) => challenge.enabled && challenge.categoryId === categoryId\n        );\n        return {\n          ...categories,\n          [categoryId]: enabledInCategory.length > 0,\n        };\n      }, {}),\n    [challenges]\n  );\n\n  return Object.keys(categories).map((categoryId) => (\n    <Paper key={categoryId} className={classes.category}>\n      <div className={classes.titleBox}>\n        <Checkbox\n          edge=\"start\"\n          checked={categoryCheckedStatuses[categoryId]}\n          tabIndex={-1}\n          disableRipple\n          inputProps={{ \"aria-labelledby\": `checkbox-category-label-${categoryId}` }}\n          onClick={handleToggleCategory(categoryId)}\n        />\n        <Accent className={classes.categoryTitle}>{categoryId}</Accent>\n      </div>\n      <List className={classes.root}>\n        {challenges\n          .filter((challenge) => challenge.categoryId === categoryId)\n          .map((challenge) => {\n            const labelId = `checkbox-list-label-${challenge.id}`;\n\n            return (\n              <ListItem\n                key={challenge.id}\n                role={undefined}\n                dense\n                button\n                onClick={handleToggle(challenge.id)}\n                className={classes.listItem}\n                title={challenge.description}\n              >\n                <ListItemIcon>\n                  <Checkbox\n                    edge=\"start\"\n                    checked={challenge.enabled}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ \"aria-labelledby\": labelId }}\n                  />\n                </ListItemIcon>\n                <ListItemText\n                  className={classes.listItemText}\n                  id={labelId}\n                  primary={<Readable className={classes.challengeText}>{challenge.display}</Readable>}\n                />\n              </ListItem>\n            );\n          })}\n      </List>\n    </Paper>\n  ));\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { mdiSlotMachineOutline } from \"@mdi/js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Icon from \"@mdi/react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Drawer from \"@material-ui/core/Drawer\";\n\nimport ChallengesList from \"./ChallengesList\";\nimport Readable from \"../../../common/Readable\";\nimport Accent from \"../../../common/Accent\";\n\nimport {\n  resetUsed,\n  selectChallenges,\n  selectRandomizedChallenge,\n  setRandomChallenge,\n} from \"./challengeRandomizerSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  challengeText: {\n    fontSize: \"1.2em\",\n    display: \"flex\",\n    alignContent: \"center\",\n    gap: \"10px\",\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    },\n  },\n  editOptions: {\n    alignSelf: \"center\",\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    },\n  },\n  icon: {\n    alignSelf: \"center\",\n  },\n  iconGroup: {\n    display: \"flex\",\n    justifySelf: \"flex-start\",\n  },\n  iconHover: {\n    color: theme.palette.action.hover,\n  },\n  root: {\n    width: \"95vw\",\n    padding: \"10px 0 10px 0\",\n    display: \"flex\",\n  },\n  randomizer: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    paddingLeft: \"10px\",\n    justifyContent: \"space-between\",\n    width: \"95%\",\n  },\n  spinner: {\n    padding: \"0 0 0 10px\",\n    display: \"flex\",\n    width: \"100%\",\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n    justifyContent: \"center\",\n  },\n  randomChallenge: {\n    webkitAnimation: \"flip-in-hor-bottom 350ms ease-in-out 1 both\",\n    animation: \"flip-in-hor-bottom 350ms ease-in-out 1 both\",\n  },\n  used: {\n    color: theme.palette.text.disabled,\n  },\n}));\n\nexport default function ChallengeRandomizer() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const challenges = useSelector(selectChallenges);\n  const randomized = useSelector(selectRandomizedChallenge);\n  const [editOpen, setEditOpen] = React.useState(false);\n\n  const spinTheWheel = React.useCallback(\n    (e) => {\n      e.stopPropagation();\n      const remaining = challenges.filter(\n        (challenge) => challenge.enabled && !challenge.used\n      ).length;\n\n      dispatch(setRandomChallenge());\n\n      // Allow infinite random cycles\n      if (remaining === 1) {\n        dispatch(resetUsed());\n      }\n    },\n    [challenges, dispatch]\n  );\n\n  const toggleDrawer = (status) => (event) => {\n    if (event.type === \"keydown\" && (event.key === \"Tab\" || event.key === \"Shift\")) {\n      return;\n    }\n\n    setEditOpen(status);\n  };\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.root}>\n        <Typography component=\"span\" color=\"textPrimary\" className={classes.randomizer}>\n          <span className={classes.iconGroup}>\n            <EditIcon className={classes.editOptions} onClick={toggleDrawer(true)} />\n          </span>\n          <span className={classes.spinner} onClick={spinTheWheel}>\n            {randomized && randomized.display ? (\n              <span key={randomized.id} className={classes.randomChallenge}>\n                <Readable className={classes.challengeText}>\n                  <Accent>{randomized.display}</Accent> <div>{randomized.description}</div>\n                </Readable>\n              </span>\n            ) : (\n              <Readable className={classes.challengeText}>\n                <Icon className={classes.icon} path={mdiSlotMachineOutline} size={1} />\n                <Accent>{t(\"actions.randomChallenge\")}</Accent>\n              </Readable>\n            )}\n          </span>\n        </Typography>\n      </Paper>\n      <Drawer anchor=\"right\" open={editOpen} onClose={toggleDrawer(false)}>\n        <ChallengesList />\n      </Drawer>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { cycle, iconMap, selectEvidence, selectIncluded, selectExcluded } from \"./evidenceSlice\";\nimport { selectGhosts } from \"../ghosts/ghostsSlice\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport classNames from \"classnames\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"95vw\",\n    margin: \"10px 0 10px 0 \",\n  },\n  icon: {\n    float: \"left\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paperalt,\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    border: \"3px solid transparent\",\n    color: theme.palette.text.disabled,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n  impossible: {\n    opacity: 0.25,\n    cursor: \"default\",\n    \"&:hover\": {\n      pointerEvents: \"none !important\",\n    },\n  },\n  included: {\n    color: `${theme.palette.text.secondary}!important`,\n    border: `3px solid ${theme.palette.success.dark}`,\n    backgroundColor: theme.palette.success.dark,\n    \"&:hover\": {\n      color: theme.palette.success.light,\n      backgroundColor: theme.palette.success.main,\n    },\n  },\n  excluded: {\n    color: `${theme.palette.text.secondary}!important`,\n    border: `3px solid ${theme.palette.error.dark}`,\n    backgroundColor: theme.palette.error.dark,\n    \"&:hover\": {\n      color: theme.palette.error.light,\n      backgroundColor: theme.palette.error.main,\n    },\n  },\n}));\n\nexport default function Evidence() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const ghosts = useSelector(selectGhosts);\n  const evidence = useSelector(selectEvidence);\n  const included = useSelector(selectIncluded);\n  const excluded = useSelector(selectExcluded);\n\n  const isIncluded = React.useCallback((e) => included.find((s) => s.id === e.id), [included]);\n  const isExcluded = React.useCallback((e) => excluded.find((s) => s.id === e.id), [excluded]);\n\n  const isPossible = React.useCallback(\n    (e) => {\n      // Manually excluded by user ignored by isPossible logic for remaining evidences\n      if (!!isExcluded(e)) return true;\n      const includedGhostEvidence = [\n        ...new Set(\n          ghosts\n            .filter((ghost) => ghost.included)\n            .map((ghost) => ghost.evidence)\n            .flat()\n        ),\n      ];\n      return includedGhostEvidence.includes(e.id);\n    },\n    [ghosts, isExcluded]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={1}>\n        {evidence.map((e) => (\n          <Grid\n            key={e.id}\n            item\n            xs={12}\n            sm={6}\n            md={4}\n            onClick={() => isPossible(e) && dispatch(cycle(e))}\n          >\n            <Paper\n              className={classNames(classes.paper, {\n                [classes.included]: !!isIncluded(e),\n                [classes.excluded]: !!isExcluded(e),\n                [classes.impossible]: !isPossible(e),\n              })}\n            >\n              <span className={classes.icon}>{iconMap(e.id)}</span>\n              {/* {e.short} */}\n              {t(`phasmo.evidence.${e.id}.short`)}\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport {\n  setFirstname,\n  setFirstnames,\n  setLastnames,\n  setLastname,\n  selectFirstnameLetters,\n  selectFirstnames,\n  selectLastnameLetters,\n  selectLastnames,\n  selectIsVisible,\n  selectInstructions,\n  selectViews,\n} from \"./ghostNameSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    width: \"100vw\",\n    padding: \"10px\",\n    margin: \"0 0 15px 0\",\n    justifyContent: \"center\",\n  },\n  instructions: {\n    alignSelf: \"center\",\n    margin: \"0\",\n    padding: 0,\n    color: theme.palette.text.primary,\n    width: '100vw',\n  },\n  item: {\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.secondary.light,\n      backgroundColor: theme.palette.background.paper,\n    },\n    width: \"100%\",\n  },\n  name: {\n    fontSize: \"1.4rem\",\n  },\n}));\n\nexport default function GhostName({ ghost, handleClick }) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstnameLetters = useSelector(selectFirstnameLetters);\n  const lastnameLetters = useSelector(selectLastnameLetters);\n  const firstnames = useSelector(selectFirstnames);\n  const lastnames = useSelector(selectLastnames);\n  const isVisible = useSelector(selectIsVisible);\n  const instructions = useSelector(selectInstructions);\n  const views = useSelector(selectViews);\n\n  return isVisible ? (\n    <React.Fragment>\n      <Paper square elevation={0} className={classes.instructions}>{instructions}</Paper>\n      <div className={classes.container}>\n        {views.firstnameLetters &&\n          firstnameLetters.map((letter) => (\n            <span\n              key={`firstnameLetter_${letter}`}\n              onClick={() => dispatch(setFirstnames(letter))}\n              className={classes.item}\n            >\n              {letter}\n            </span>\n          ))}\n        {views.firstnames &&\n          firstnames.map((firstname) => (\n            <span\n              key={firstname}\n              onClick={() => dispatch(setFirstname(firstname))}\n              className={classes.item}\n            >\n              {firstname}\n            </span>\n          ))}\n        {views.lastnameLetters &&\n          lastnameLetters.map((letter) => (\n            <span\n              key={`lastnameLetter_${letter}`}\n              onClick={() => dispatch(setLastnames(letter))}\n              className={classes.item}\n            >\n              {letter}\n            </span>\n          ))}\n        {views.lastnames &&\n          lastnames.map((lastname) => (\n            <span\n              key={lastname}\n              onClick={() => dispatch(setLastname(lastname))}\n              className={classes.item}\n            >\n              {lastname}\n            </span>\n          ))}\n      </div>\n    </React.Fragment>\n  ) : null;\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport classNames from \"classnames\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { iconMap, selectIncluded } from \"../evidence/evidenceSlice\";\nimport { selectSelected } from \"../ghosts/ghostsSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  disabled: {\n    backgroundColor: \"#33415c\",\n  },\n  ghost: {\n    margin: \"5px 5px\",\n    fontSize: \"1.2rem\",\n  },\n  iconsValid: {\n    color: theme.palette.text.secondary,\n  },\n  iconsInvalid: {\n    color: theme.palette.text.disabled,\n  },\n  included: {\n    color: `${theme.palette.success.main} !important`,\n  },\n  invalid: {\n    color: theme.palette.text.disabled,\n  },\n  paper: {\n    backgroundColor: \"#3c1642\",\n    border: \"2px solid transparent\",\n    cursor: \"pointer\",\n    padding: \"5px\",\n    \"&:hover\": {\n      border: \"2px solid lightgrey\",\n    },\n  },\n  paperInvalid: {\n    backgroundColor: theme.palette.ghosts.invalid,\n  },\n  paperValid: {\n    backgroundColor: theme.palette.ghosts.valid,\n  },\n  selected: {\n    color: `${theme.palette.info.main} !important`,\n  },\n  valid: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function Ghost({ ghost, handleClick }) {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const included = useSelector(selectIncluded);\n  const selected = useSelector(selectSelected);\n\n  const evidenceIsIncluded = React.useCallback(\n    (ev) => included.some((i) => i.id === ev),\n    [included]\n  );\n\n  const isSelected = React.useMemo(() => selected && selected.name === ghost.name, [selected, ghost.name]);\n  return (\n    <Paper\n      className={classNames(classes.paper, ghost.included ? classes.paperValid : classes.paperInvalid)}\n      onClick={() => handleClick(ghost)}\n    >\n      <div\n        className={classNames(classes.ghost, ghost.included ? classes.valid : classes.invalid, {\n          [classes.selected]: isSelected,\n        })}\n      >\n        {t(`${ghost.i18nKey}.name`)}\n      </div>\n      <div className={ghost.included ? classes.iconsValid : classes.iconsInvalid}>\n        {ghost.evidence.map((ev) => (\n          <span key={ev} className={evidenceIsIncluded(ev) ? classes.included : \"\"} title={ev}>\n            {iconMap(ev)}\n          </span>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { iconMap, selectExcluded, selectIncluded } from \"../evidence/evidenceSlice\";\nimport { selectGhosts, selectSelected, setActiveGhost, updateGhosts } from \"./ghostsSlice\";\nimport Ghost from \"../ghost/Ghost\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n    cursor: \"pointer\",\n  },\n  root: {\n    margin: theme.spacing(0.5, 0, 1.5, 0),\n  },\n  description: {\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    textAlign: \"left\",\n    \"& > span\": {\n      width: \"100vw\",\n    },\n    margin: theme.spacing(1.5, -2, 1.5, -2),\n    padding: theme.spacing(0.5, 1.5, 0.5, 1.5),\n    backgroundColor: theme.palette.background.paperalt,\n    borderTop: `1px solid ${theme.palette.primary.main}`,\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n    display: \"block\",\n  },\n  ghostHeader: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    alignContent: \"center\",\n    margin: theme.spacing(0, -2, 0, -2),\n    \"& > span\": {\n      alignSelf: \"center\",\n    },\n  },\n  ghostName: {\n    justifySelf: \"flex-start\",\n    fontSize: \"1.2em\",\n  },\n  ghostIcons: {\n    \"& > span > svg\": {\n      margin: \"5px 10px 0 10px\",\n    },\n  },\n  ghosts: {\n    display: \"grid\",\n    margin: \"0 auto\",\n    backgroundColor: theme.palette.background.paper,\n    justifyItems: \"stretch\",\n    gap: \"10px\",\n    width: \"95vw\",\n    [theme.breakpoints.up(\"xs\")]: {\n      gridTemplateColumns: \"repeat(2, 1fr)\",\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      gridTemplateColumns: \"repeat(4, 1fr)\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"repeat(4, 1fr)\",\n    },\n  },\n  included: {\n    color: `${theme.palette.success.main} !important`,\n  },\n  labeled: {\n    display: \"flex\",\n    \"& > span\": {\n      width: \"50vw\",\n    },\n    \"& > span:first-child\": {\n      textAlign: \"left\",\n      fontWeight: \"bold\",\n    },\n    \"& > span:last-child\": {\n      textAlign: \"left\",\n    },\n    justifyContent: \"center\",\n  },\n  paper: {\n    display: \"flex\",\n    padding: \"10px\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(0.5),\n    },\n  },\n  selectedGhost: {\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(2),\n    color: theme.palette.text.primary,\n    border: `2px solid ${theme.palette.secondary.main}`,\n    width: \"90vw\",\n    margin: 0,\n    \"& > * \": {\n      fontFamily: \"Indie Flower !important\",\n    },\n  },\n}));\n\nexport default function Ghosts() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const ghosts = useSelector(selectGhosts);\n  const included = useSelector(selectIncluded);\n  const excluded = useSelector(selectExcluded);\n  const selectedGhost = useSelector(selectSelected);\n\n  const [open, setOpen] = React.useState(false);\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(setActiveGhost(null));\n  };\n\n  React.useEffect(() => {\n    dispatch(updateGhosts({ included, excluded }));\n  }, [dispatch, excluded, included]);\n\n  const handleClick = (ghost) => {\n    dispatch(setActiveGhost(ghost));\n    setOpen(true);\n  };\n\n  const evidenceIsIncluded = React.useCallback(\n    (ev) => included.some((i) => i.id === ev),\n    [included]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Paper square className={classes.ghosts}>\n        {ghosts.map((ghost) => {\n          return <Ghost key={ghost.id} ghost={ghost} handleClick={handleClick} />;\n        })}\n      </Paper>\n      <Backdrop className={classes.backdrop} open={open} onClick={handleClose}>\n        <Paper>\n          <div className={classes.selectedGhost}>\n            {selectedGhost && (\n              <div>\n                <div className={classes.ghostHeader}>\n                  <span className={classes.ghostName}>\n                    <Accent color=\"accent\">\n                      <Readable>{t(`${selectedGhost.i18nKey}.name`)}</Readable>\n                    </Accent>\n                  </span>\n                  <span className={classes.ghostIcons}>\n                    {selectedGhost.evidence.map((ev) => (\n                      <span\n                        key={ev}\n                        className={evidenceIsIncluded(ev) ? classes.included : \"\"}\n                        title={ev}\n                      >\n                        {iconMap(ev)}\n                      </span>\n                    ))}\n                  </span>\n                </div>\n                <div className={classes.description}>\n                  <Accent color=\"secondary\">{t(`${selectedGhost.i18nKey}.description`)}</Accent>\n                </div>\n                <div className={classes.labeled}>\n                  <Accent color=\"contrast\">{t('labels.uniquestrengths')}</Accent>\n                  <span>{t(`${selectedGhost.i18nKey}.strengths`)}</span>\n                </div>\n                <div className={classes.labeled}>\n                  <Accent color=\"contrast\">{t('labels.weaknesses')}</Accent>\n                  <span>{t(`${selectedGhost.i18nKey}.weaknesses`)}</span>\n                </div>\n                {selectedGhost.secondaryEvidencei18nKeys.map((secondaryEvidencei18nKey, index) => (\n                  <div key={`secondaryEvidence_${index}`} className={classes.labeled}>\n                    <Accent color=\"contrast\">{t('labels.secondaryevidence')}</Accent>\n                    <span>{t(`phasmo.secondaryEvidence.${secondaryEvidencei18nKey}`)}</span>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </Paper>\n      </Backdrop>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { mdiGhost } from \"@mdi/js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Icon from \"@mdi/react\";\nimport React from \"react\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Readable from \"../../common/Readable\";\n\nimport {\n  setFirstname,\n  setFirstnames,\n  setLastnames,\n  setLastname,\n  selectFirstnameLetters,\n  selectFirstnames,\n  selectLastnameLetters,\n  selectLastnames,\n  selectIsVisible,\n  selectInstructions,\n  selectViews as selectGhostNameViews,\n} from \"../ghostname/ghostNameSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: 0,\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n    },\n  },\n  button: {\n    margin: theme.spacing(1, 0, 0, 0),\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      background: \"none\",\n      color: theme.palette.text.accent,\n    },\n  },\n  cancelButton: {\n    color: theme.palette.error.main,\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n    },\n  },\n  disabled: {\n    opacity: 0.25,\n  },\n  label: {\n    fontSize: \"1.3rem\",\n    textAlign: \"center\",\n    padding: \"5px 0 10px 0\",\n  },\n  reset: {\n    margin: 0,\n    alignSelf: \"center\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      backgroundColor: \"transparent\",\n    },\n  },\n  list: {\n    width: \"300px\",\n    color: theme.palette.text.primary,\n  },\n  itemList: {\n    display: \"flex\",\n    cursor: \"pointer\",\n  },\n  letterList: {\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    fontSize: \"1.5em\",\n    \"& > span\": {\n      width: \"25%\",\n      \"&:hover\": {\n        color: theme.palette.action.hover,\n      },\n    },\n  },\n  nameList: {\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    fontSize: \"1.5em\",\n    \"& > span\": {\n      width: \"100%\",\n      \"&:hover\": {\n        color: theme.palette.action.hover,\n      },\n    },\n  },\n  container: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    padding: \"10px\",\n    margin: \"0 0 15px 0\",\n    justifyContent: \"center\",\n    userSelect: \"none\",\n  },\n  instructions: {\n    alignSelf: \"center\",\n    margin: \"0\",\n    padding: 0,\n    color: theme.palette.text.primary,\n  },\n  item: {\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.secondary.light,\n      backgroundColor: theme.palette.background.paper,\n    },\n  },\n  name: {\n    fontSize: \"1.4rem\",\n  },\n}));\n\nexport default function GhostNameMenu() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstnameLetters = useSelector(selectFirstnameLetters);\n  const lastnameLetters = useSelector(selectLastnameLetters);\n  const firstnames = useSelector(selectFirstnames);\n  const lastnames = useSelector(selectLastnames);\n  const isVisible = useSelector(selectIsVisible);\n  const instructions = useSelector(selectInstructions);\n  const ghostNameViews = useSelector(selectGhostNameViews);\n  const screenExtraSmall = useMediaQuery((theme) => theme.breakpoints.only(\"xs\"));\n\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\n\n  const list = ({ anchor = \"right\", data, keyName, onClick, letters }) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\n      })}\n      role=\"presentation\"\n    >\n      <div className={classes.label}>{instructions}</div>\n      <Divider />\n      <div\n        className={clsx(classes.itemList, {\n          [classes.letterList]: letters,\n          [classes.nameList]: !letters,\n        })}\n      >\n        {data.map((item) => (\n          <span key={`${keyName}_${item}`} onClick={() => onClick(item)}>\n            {item}\n          </span>\n        ))}\n      </div>\n      <Button\n        variant=\"text\"\n        className={classes.cancelButton}\n        onClick={() => setDrawerOpen(!drawerOpen)}\n      >\n        Cancel\n      </Button>\n    </div>\n  );\n\n  return (\n    <div>\n      <React.Fragment>\n        <Button\n          variant=\"text\"\n          color=\"primary\"\n          className={classes.button}\n          startIcon={<Icon aria-hidden={true} path={mdiGhost} title=\"Ghost Name\" size={1} />}\n          onClick={() => setDrawerOpen(!drawerOpen)}\n        >\n          <Readable>{screenExtraSmall ? t('actions.setName.short') : t('actions.setName.long')}</Readable>\n        </Button>\n        {isVisible && (\n          <Drawer anchor={\"left\"} open={drawerOpen} variant=\"persistent\">\n            <div className={classes.container}>\n              {ghostNameViews.firstnameLetters &&\n                list({\n                  keyName: \"firstnameLetters\",\n                  data: firstnameLetters,\n                  onClick: (x) => dispatch(setFirstnames(x)),\n                  letters: true,\n                })}\n              {ghostNameViews.firstnames &&\n                list({\n                  keyName: \"firstnames\",\n                  data: firstnames,\n                  onClick: (x) => dispatch(setFirstname(x)),\n                })}\n              {ghostNameViews.lastnameLetters &&\n                list({\n                  keyName: \"lastnameLetters\",\n                  data: lastnameLetters,\n                  onClick: (x) => dispatch(setLastnames(x)),\n                  letters: true,\n                })}\n              {ghostNameViews.lastnames &&\n                list({\n                  keyName: \"lastnames\",\n                  data: lastnames,\n                  onClick: (x) => dispatch(setLastname(x)),\n                })}\n            </div>\n          </Drawer>\n        )}\n      </React.Fragment>\n    </div>\n  );\n}\n","import CloseIcon from \"@material-ui/icons/Close\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport MoodBadIcon from \"@material-ui/icons/MoodBad\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SportsKabaddiIcon from \"@material-ui/icons/SportsKabaddi\";\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\";\nimport WorkIcon from \"@material-ui/icons/Work\";\nimport { mdiMagnifyClose } from \"@mdi/js\";\nimport Icon from \"@mdi/react\";\nimport clsx from \"clsx\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from \"react-select\";\nimport { resetApp, selectLanguage, selectViews, setLanguage, toggleModule, togglePhasmoRPG } from \"../../appSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\nimport { LOCAL_STORAGE_KEY } from \"../../constants\";\nimport { resetEvidence, selectIsPristine } from \"../evidence/evidenceSlice\";\nimport { resetGhostName } from \"../ghostname/ghostNameSlice\";\nimport { reset as resetPhasmoRPG } from \"../phasmorpg/phasmoRPGSlice\";\nimport { reset as resetPhotoCalculator } from \"../photocalculator/photoCalculatorSlice\";\nimport { reset as resetChallenges } from \"../randomizers/challenges/challengeRandomizerSlice\";\nimport { reset as resetJobRandomizer } from \"../randomizers/jobrandomizer/jobRandomizerSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > span\": {\n      alignSelf: \"baseline\",\n      margin: 0,\n    },\n  },\n  clearInactive: {\n    color: theme.palette.text.disabled,\n    pointerEvents: \"none\",\n  },\n  clearActive: {\n    color: theme.palette.error.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n    },\n  },\n  disabled: {\n    opacity: 0.25,\n  },\n  label: {\n    fontSize: \"1.3rem\",\n    textAlign: \"center\",\n    padding: \"5px 0 10px 0\",\n  },\n  languages: {\n    fontFamily: \"'Roboto', sans-serif !important\",\n    margin: \"5px 10px\",\n    \"& div.ls__control\": {\n      cursor: \"pointer\",\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: \"none\",\n      // border: `1px solid ${theme.palette.text.primary}`,\n    },\n    \"& div.ls__control:hover\": {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: \"none\",\n      // border: `1px solid ${theme.palette.text.accent}`,\n    },\n    \"& div.ls__single-value\": {\n      color: `${theme.palette.text.accent} !important`,\n    },\n    \"& div.ls__menu\": {\n      backgroundColor: theme.palette.background.paper,\n    },\n    \"& div.ls__option\": {\n      backgroundColor: theme.palette.background.paper,\n      color: `${theme.palette.text.accent} !important`,\n    },\n    \"& div.ls__option:hover\": {\n      backgroundColor: theme.palette.background.paperalt,\n      color: `${theme.palette.text.accent} !important`,\n    },\n  },\n  languagesContainer: {\n    backgroundColor: theme.palette.background.paperalt,\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"0px 0px 5px 0px\",\n    padding: \"5px 0px 10px 0px\",\n    borderTop: `2px solid ${theme.palette.action.hover}`,\n    borderBottom: `2px solid ${theme.palette.action.hover}`,\n  },\n  languagesHeader: {\n    justifyContent: \"center\",\n    display: \"flex\",\n    padding: \"5px\",\n  },\n  menu: {\n    margin: 0,\n    alignSelf: \"center\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n      backgroundColor: \"transparent\",\n    },\n  },\n  menuItem: {\n    // fontSize: \"1.2em\",\n  },\n  menuToggleItems: {\n    margin: \"0px\",\n    padding: \"0px\",\n  },\n  list: {\n    margin: \"0px\",\n    whiteSpace: \"nowrap\",\n    color: theme.palette.text.primary,\n    minWidth: \"calc(100vw / 4)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"100vw\",\n    },\n  },\n  fullList: {\n    width: \"auto\",\n  },\n}));\n\nexport default function SiteMenu() {\n  const { t, i18n } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const language = useSelector(selectLanguage);\n  const evidenceIsPristine = useSelector(selectIsPristine);\n  const views = useSelector(selectViews);\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const reset = () => {\n    dispatch(resetEvidence());\n    dispatch(resetGhostName());\n    dispatch(resetApp());\n    dispatch(resetChallenges());\n    dispatch(resetPhotoCalculator());\n    dispatch(resetJobRandomizer());\n    dispatch(resetPhasmoRPG());\n    setState({ ...state, right: false });\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    i18n.changeLanguage('en');\n  };\n\n  const clearEvidence = () => {\n    dispatch(resetEvidence());\n  };\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (event.type === \"keydown\" && (event.key === \"Tab\" || event.key === \"Shift\")) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  const menuToggleItems = React.useMemo(\n    () => [\n      {\n        id: \"evidence\",\n        i18nKey: \"labels.evidence\",\n        onClick: () => dispatch(toggleModule(\"evidence\")),\n        icon: <SearchIcon />,\n      },\n      {\n        id: \"ghosts\",\n        i18nKey: \"labels.ghosts\",\n        onClick: () => dispatch(toggleModule(\"ghosts\")),\n        icon: <MoodBadIcon />,\n      },\n      {\n        id: \"challenges\",\n        i18nKey: \"labels.challenges\",\n        onClick: () => dispatch(toggleModule(\"challenges\")),\n        icon: <SportsKabaddiIcon />,\n      },\n      {\n        id: \"jobs\",\n        i18nKey: \"labels.jobs\",\n        onClick: () => dispatch(toggleModule(\"jobs\")),\n        icon: <WorkIcon />,\n      },\n      {\n        id: \"photocalculator\",\n        i18nKey: \"labels.photocalculator.short\",\n        onClick: () => dispatch(toggleModule(\"photocalculator\")),\n        icon: <PhotoCameraIcon />,\n      },\n    ],\n    [dispatch]\n  );\n\n  const menuActionItems = [\n    {\n      id: \"phasmorpg\",\n      onClick: () => dispatch(togglePhasmoRPG()) && setState({ ...state, right: false }),\n      icon: <SupervisedUserCircleIcon />\n    },\n    {\n      id: \"resetapp\",\n      onClick: () => reset(),\n      icon: <ReplayIcon />,\n    },\n    {\n      id: \"close\",\n      onClick: () => setState({ ...state, right: false }),\n      icon: <CloseIcon />,\n    },\n  ];\n\n  const languageOptions = [\n    { value: \"en\", label: \"English\" },\n    { value: \"fr\", label: \"French\" },\n    { value: \"de\", label: \"German\" },\n  ];\n\n  const onSelectChange = (e) => {\n    dispatch(setLanguage(e.value));\n    i18n.changeLanguage(e.value);\n  };\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\n      })}\n      role=\"presentation\"\n      onKeyDown={toggleDrawer(anchor, false)}\n    >\n      <div className={classes.label}>\n        <Accent color=\"accent\">{t(\"apps.toolkit.name.short\")}</Accent>\n      </div>\n      <Divider />\n      {!views.phasmorpg && (\n        <List className={classes.menuToggleItems}>\n          {menuToggleItems.map((item) => (\n            <ListItem\n              className={clsx({ [classes.disabled]: !views[item.id] })}\n              button\n              key={item.id}\n              onClick={item.onClick}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText\n                primary={<Readable className={classes.menuItem}>{t(item.i18nKey)}</Readable>}\n              />\n              <Switch\n                checked={views[item.id]}\n                name={item.id}\n                inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n              />\n            </ListItem>\n          ))}\n        </List>\n      )}\n      <List className={classes.menuToggleItems}>\n        <span className={classes.languagesContainer}>\n          <Accent className={classes.languagesHeader} color=\"accent\" size=\"1.3em\">\n            <Readable>{t(\"labels.chooselanguage\")}</Readable>\n          </Accent>\n          <Select\n            id=\"language-select\"\n            name=\"language-select\"\n            className={classes.languages}\n            classNamePrefix=\"ls\"\n            defaultValue={languageOptions.find((l) => l.value === language)}\n            onChange={onSelectChange}\n            options={languageOptions}\n          />\n        </span>\n        {menuActionItems.map((item) => (\n          <ListItem button key={item.id} onClick={item.onClick}>\n            <ListItemIcon>{item.icon}</ListItemIcon>\n            <ListItemText\n              primary={<Readable className={classes.menuItem}>{t(`labels.${item.id}`)}</Readable>}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      {views.evidence && (\n        <span\n          title=\"Clear Evidence\"\n          onClick={clearEvidence}\n          className={clsx({\n            [classes.clearActive]: evidenceIsPristine,\n            [classes.clearInactive]: !evidenceIsPristine,\n          })}\n        >\n          <Icon path={mdiMagnifyClose} size={1} />\n        </span>\n      )}\n      <IconButton\n        className={classes.menu}\n        color=\"default\"\n        aria-label=\"side drawer\"\n        component=\"span\"\n        onClick={toggleDrawer(\"right\", true)}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Drawer anchor={\"right\"} open={state[\"right\"]} onClose={toggleDrawer(\"right\", false)}>\n        {list(\"right\")}\n      </Drawer>\n    </div>\n  );\n}\n","import IconButton from \"@material-ui/core/IconButton\";\nimport React from \"react\";\n\nexport default function IconButtonWrapper({ children, ...props }) {\n  return <IconButton {...props}>{children}</IconButton>;\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BuildIcon from \"@material-ui/icons/Build\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTranslation } from \"react-i18next\";\n\nimport {\n  selectFirstname,\n  selectLastname,\n  selectIsVisible,\n  resetGhostName,\n} from \"../ghostname/ghostNameSlice\";\nimport GhostNameMenu from \"../ghostnamemenu/GhostNameMenu\";\nimport SiteMenu from \"../sitemenu/SiteMenu\";\nimport Readable from \"../../common/Readable\";\nimport Accent from \"../../common/Accent\";\nimport { selectViews, togglePhasmoRPG } from \"../../appSlice\";\nimport IconButton from \"../../common/IconButton\";\nimport { selectHasActiveCharacter, toggleMissionDrawerOpen } from \"../phasmorpg/phasmoRPGSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.error.dark,\n    },\n  },\n  toggleAppButton: {\n    color: theme.palette.secondary.light,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.primary.light,\n    },\n  },\n  container: {\n    fontSize: \"1.0em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto 1fr\",\n    margin: theme.spacing(0, 0, 0.5, 0),\n    width: \"100vw\",\n    maxHeight: theme.spacing(8),\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n      textAlign: \"left\",\n    },\n  },\n  containerRPG: {\n    fontSize: \"1.0em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    justifyContent: \"space-between\",\n    margin: theme.spacing(0, 0, 0.5, 0),\n    width: \"100vw\",\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n      textAlign: \"left\",\n    },\n  },\n  ghostname: {\n    borderRadius: \"5px\",\n    display: \"flex\",\n    alignContent: \"center\",\n    cursor: \"pointer\",\n    margin: 0,\n    backgroundColor: theme.palette.info.dark,\n    \"&:hover\": {\n      color: theme.palette.error.main,\n    },\n  },\n  icon: {\n    float: \"right\",\n    alignSelf: \"center\",\n  },\n  logMission: {\n    padding: theme.spacing(0, 1, 0, 1),\n    margin: 0,\n    color: theme.palette.text.accent,\n  },\n  logShort: {\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  logLong: {\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  reset: {\n    marginLeft: \"10px\",\n  },\n  title: {\n    fontFamily: \"Indie Flower !important\",\n    justifySelf: \"flex-start\",\n    color: theme.palette.text.accent,\n    \"& > span\": {\n      fontSize: \"0.6em\",\n      color: theme.palette.text.disabled,\n    },\n  },\n  menu: {\n    justifySelf: \"flex-end\",\n    paddingRight: theme.spacing(2),\n  },\n  appName: {\n    minWidth: \"165px\",\n    justifySelf: \"flex-start\",\n  },\n  buttonBar: {\n    justifySelf: \"center\",\n  },\n}));\n\nexport default function Header() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstname = useSelector(selectFirstname);\n  const lastname = useSelector(selectLastname);\n  const isVisible = useSelector(selectIsVisible);\n  const views = useSelector(selectViews);\n  const hasActiveCharacter = useSelector(selectHasActiveCharacter);\n  const screenExtraSmall = useMediaQuery((theme) => theme.breakpoints.only(\"xs\"));\n\n  const handleTogglePhasmoRPG = () => {\n    dispatch(togglePhasmoRPG());\n  };\n\n  return (\n    <Paper\n      square\n      className={clsx({\n        [classes.container]: !views.phasmorpg,\n        [classes.containerRPG]: views.phasmorpg,\n      })}\n      component=\"h1\"\n    >\n      <span className={classes.appName}>\n        {views.phasmorpg ? (\n          <React.Fragment>\n            <IconButton\n              onClick={() => handleTogglePhasmoRPG()}\n              aria-label=\"Toggle Phasmo RPG\"\n              title=\"Toggle Phasmo RPG\"\n              className={classes.toggleAppButton}\n            >\n              <SupervisedUserCircleIcon />\n            </IconButton>\n            <Accent size=\"0.8em\" color=\"primary\">\n              {t('apps.rpg.name')}\n            </Accent>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <IconButton\n              onClick={() => handleTogglePhasmoRPG()}\n              aria-label=\"Toggle Phasmo RPG\"\n              title=\"Toggle Phasmo RPG\"\n              className={classes.toggleAppButton}\n            >\n              <BuildIcon />\n            </IconButton>\n            <Accent size=\"0.8em\" color=\"primary\">\n              {screenExtraSmall ? t('apps.toolkit.name.short') : t('apps.toolkit.name.long')}\n            </Accent>\n          </React.Fragment>\n        )}\n      </span>\n      <span className={classes.buttonBar}>\n        {views.evidence && (\n          <React.Fragment>\n            {!isVisible ? (\n              <Button\n                variant=\"text\"\n                color=\"primary\"\n                className={classes.button}\n                onClick={() => dispatch(resetGhostName())}\n                startIcon={<DeleteIcon />}\n              >\n                <Readable>\n                  {firstname} {lastname}\n                </Readable>\n              </Button>\n            ) : (\n              <GhostNameMenu />\n            )}\n          </React.Fragment>\n        )}\n        {views.phasmorpg && hasActiveCharacter && (\n          <Button\n            className={classes.logMission}\n            onClick={() => dispatch(toggleMissionDrawerOpen())}\n            variant=\"outlined\"\n          >\n            <span className={classes.logShort}>Log</span>\n            <span className={classes.logLong}>Log Mission</span>\n          </Button>\n        )}\n      </span>\n      <span className={classes.menu}>\n        <SiteMenu />\n      </span>\n    </Paper>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Icon from \"@mdi/react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport { useTranslation } from \"react-i18next\";\n\nimport {\n  randomizeJob,\n  resetSection,\n  selectRandomized,\n  selectRandomizedCounts,\n  selectSectionItems,\n  updateRandomizerTypeCount,\n} from \"./jobRandomizerSlice\";\nimport { randomizerSections } from \"./constants\";\n\n// import Accent from \"../../../common/Accent\";\nimport Readable from \"../../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  jobGrid: {\n    [theme.breakpoints.up(\"md\")]: {\n      gap: \"20px\",\n      gridTemplateColumns: \"repeat(2, 1fr)\",\n    },\n    \"& > div.section\": {\n      \"& > .header\": {\n        backgroundColor: theme.palette.background.paperalt,\n        borderTopLeftRadius: \"5px\",\n        borderTopRightRadius: \"5px\",\n        color: theme.palette.text.secondary,\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(3, 1fr)\",\n        gap: \"10px\",\n        padding: \"5px 20px 5px 20px\",\n        width: \"100%\",\n        \"& > .selectBox\": {\n          justifySelf: \"flex-end\",\n        },\n        \"& > .headerIcon\": {\n          alignSelf: \"center\",\n          margin: 0,\n          padding: 0,\n          verticalAlign: \"middle\",\n        },\n        \"& > .sectionTitle\": {\n          justifySelf: \"center\",\n        },\n      },\n      backgroundColor: theme.palette.background.paper,\n      borderRadius: \"5px\",\n      display: \"inline\",\n    },\n    display: \"grid\",\n    gap: \"10px\",\n    gridTemplateColumns: \"repeat(1, 1fr)\",\n  },\n  randomizeAll: {\n    \"&:active\": {\n      backgroundColor: theme.palette.background.paperalt,\n      color: theme.palette.text.secondary,\n    },\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    },\n    cursor: \"pointer\",\n    margin: \"0 0 10px 0\",\n  },\n  resultsList: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  root: {\n    margin: \"10px 0 10px 0\",\n    width: \"95vw\",\n  },\n}));\n\nconst RandomizerResult = ({ results }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.resultsList}>\n      {results.map((r) => (\n        <div key={r.id}>{r.display}</div>\n      ))}\n    </div>\n  );\n};\n\nconst SectionCountSelect = ({ context, currentValue, handleChange }) => {\n  const options = [1, 2, 3, 4, 5, 6];\n\n  return (\n    <FormControl className={\"selectBox\"}>\n      <Select\n        value={currentValue}\n        onChange={handleChange}\n        inputProps={{\n          name: `${context}-itemcount`,\n          id: `item-count-${context}`,\n        }}\n      >\n        {options.map((optionValue) => (\n          <MenuItem key={`optionItem-${context}-${optionValue}`} value={optionValue}>\n            {optionValue}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n\nexport default function JobRandomizer() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const randomized = useSelector(selectRandomized);\n  const randomizedCounts = useSelector(selectRandomizedCounts);\n  const sectionItems = useSelector(selectSectionItems);\n\n  const remainingSectionItems = React.useMemo(() => {\n    return Object.keys(sectionItems).reduce(\n      (sections, section) => ({\n        ...sections,\n        [section]: sectionItems[section].filter((x) => !x.used).length,\n      }),\n      {}\n    );\n  }, [sectionItems]);\n\n  const spinTheWheel = React.useCallback(() => {\n    // Reset any sections with insufficient un-used items left\n    for (const sectionItemKey in sectionItems) {\n      if (remainingSectionItems[sectionItemKey] < randomizedCounts[sectionItemKey]) {\n        dispatch(resetSection(sectionItemKey));\n      }\n    }\n    // Generate a new batch\n    dispatch(randomizeJob());\n  }, [dispatch, randomizedCounts, remainingSectionItems, sectionItems]);\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.randomizeAll} onClick={spinTheWheel}>\n        {t('actions.generateRandomizedJob')}\n      </Paper>\n      <div className={classes.jobGrid}>\n        {randomizerSections.map((section) => (\n          <div key={section.display} className=\"section\">\n            <span className=\"header\">\n              <Icon aria-hidden=\"true\" className={\"headerIcon\"} path={section.iconPath} size={1} />\n              <Readable className=\"sectionTitle\">{t(`labels.${section.id}`)}</Readable>\n              {[\"evidence\", \"random\"].includes(section.id) ? (\n                <SectionCountSelect\n                  context={section.id}\n                  currentValue={randomizedCounts[section.id]}\n                  handleChange={(e) =>\n                    dispatch(updateRandomizerTypeCount({ ...section, count: e.target.value }))\n                  }\n                />\n              ) : (\n                <span> </span>\n              )}\n            </span>\n            <div>\n              {randomized[section.id].length > 0 ? (\n                <RandomizerResult results={randomized[section.id]} />\n              ) : (\n                Array.from(Array(randomizedCounts[section.id]).keys()).map((key) => (\n                  <div key={`ph_${key}`}>&nbsp;</div>\n                ))\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Avatar from \"boring-avatars\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\n\nimport {\n  selectActiveCharacter,\n  selectCharacters,\n  setCharacterActive,\n} from \"../phasmorpg/phasmoRPGSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    alignSelf: \"center\",\n  },\n  renderedAvatar: {\n    alignSelf: \"center\",\n    margin: \"0 5px 0 0\",\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n  },\n  characterName: {\n    color: theme.palette.secondary.light,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    width: \"180px\",\n    [theme.breakpoints.up(\"md\")]: {\n      minWidth: \"300px\",\n    },\n  },\n  formControl: {\n    minWidth: \"250px\",\n    [theme.breakpoints.up(\"md\")]: {\n      minWidth: \"350px\",\n    },\n    alignSelf: \"center\",\n    \"& > div > div\": {\n      display: \"grid\",\n      gridTemplateColumns: \"25px 1fr\",\n      gap: theme.spacing(2),\n    },\n  },\n  menuItem: {\n    display: \"grid\",\n    gridTemplateColumns: \"25px 1fr\",\n    gap: theme.spacing(2),\n  },\n  renderedMenuItem: {\n    display: \"grid\",\n    gridTemplateColumns: \"25px 1fr\",\n    gap: theme.spacing(2),\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  select: {\n    \"&:focus\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n}));\n\nexport default function CharacterSelect() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const characters = useSelector(selectCharacters);\n  const activeCharacter = useSelector(selectActiveCharacter);\n\n  const handleCharacterSelect = (event) => {\n    const character = event.target.value;\n    dispatch(setCharacterActive(character || null));\n  };\n\n  const getCharacterById = (characterId) =>\n    characters.find((character) => character.id === characterId);\n\n  return (\n    characters &&\n    characters.length > 0 && (\n      <FormControl className={classes.formControl}>\n        <Select\n          labelId=\"character-select-label\"\n          id=\"character-select\"\n          value={(activeCharacter && activeCharacter.id) || \"AddNew\"}\n          onChange={handleCharacterSelect}\n          label=\"Character Select\"\n          disableUnderline\n          inputProps={{\n            classes: { select: classes.select },\n          }}\n          renderValue={(characterId) => {\n            const character = getCharacterById(characterId);\n            return (\n              <span className={classes.renderedMenuItem} value={character.id}>\n                <span>\n                  <Avatar\n                    key={`key_${character.name}`}\n                    name={character.name}\n                    variant=\"beam\"\n                    size=\"30px\"\n                    colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n                    className={classes.renderedAvatar}\n                  />\n                </span>\n                <span className={classes.characterName}>{character.name}</span>\n              </span>\n            );\n          }}\n        >\n          {characters.map((character) => (\n            <MenuItem key={character.id} className={classes.menuItem} value={character.id}>\n              <span>\n                <Avatar\n                  key={`key_${character.name}`}\n                  name={character.name}\n                  variant=\"beam\"\n                  size=\"25px\"\n                  colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n                  className={classes.avatar}\n                />\n              </span>\n              <span className={classes.characterName}>{character.name}</span>\n            </MenuItem>\n          ))}\n          <MenuItem className={classes.menuItem} value=\"AddNew\">\n            Add New\n          </MenuItem>\n        </Select>\n      </FormControl>\n    )\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Avatar from \"boring-avatars\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\n\nimport uniqBy from \"lodash.uniqby\";\n\nimport { data, Acts } from \"./constants\";\n\nimport {\n  addRandomLoot,\n  addRandomTrait,\n  selectActiveCharacter,\n  toggleMissionDrawerOpen,\n  updateCharacter,\n} from \"./phasmoRPGSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\nimport { addAlert } from \"../../appSlice\";\nimport { randomNumberInRange, randomizeArray } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  characterName: {\n    alignItems: \"center\",\n    display: \"grid\",\n    gap: theme.spacing(2),\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    justifyContent: \"space-around\",\n    backgroundColor: theme.palette.background.default,\n    margin: theme.spacing(0, -1.5, 0, -1.5),\n    padding: theme.spacing(1.25, 0, 1.25, 0),\n    \"& > span:first-child\": {\n      margin: theme.spacing(0, 0, -1, 0),\n    },\n    \"& > span:last-child\": {\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      [theme.breakpoints.up(\"xs\")]: {\n        width: \"80px\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"100px\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"120px\",\n      },\n      [theme.breakpoints.up(\"lg\")]: {\n        width: \"320px\",\n      },\n      [theme.breakpoints.up(\"xl\")]: {\n        width: \"320px\",\n      },\n    },\n  },\n  difficulty: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"80%\",\n    },\n    width: \"60%\",\n  },\n  formControl: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"90%\",\n    },\n    margin: theme.spacing(1),\n    whiteSpace: \"nowrap\",\n    width: \"90%\",\n  },\n  mapSelect: {\n    width: \"100%\",\n  },\n  missionDetails: {\n    display: \"grid\",\n    gap: theme.spacing(1.5),\n    gridTemplateColumns: \"1fr\",\n    justifyContent: \"center\",\n    justifyItems: \"center\",\n  },\n  missionObjectives: {\n    [theme.breakpoints.down(\"sm\")]: {\n      \"& > label\": {\n        minWidth: \"200px\",\n      },\n      gridTemplateColumns: \"1fr\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      \"& > label:nth-child(even)\": {\n        \"& > span:last-child\": {\n          minWidth: \"145px\",\n        },\n        justifySelf: \"flex-end\",\n      },\n      \"& > label:nth-child(odd)\": {\n        justifySelf: \"flex-start\",\n      },\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n    borderRadius: theme.spacing(0.75),\n    display: \"grid\",\n    gap: theme.spacing(1),\n    gridTemplateColumns: \"1fr\",\n    justifyItems: \"center\",\n    padding: theme.spacing(1),\n    whiteSpace: \"nowrap\",\n  },\n  missionObjectivesContainer: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(1),\n  },\n  root: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"45vw\",\n    },\n    textAlign: \"center\",\n    width: \"80vw\",\n  },\n}));\n\nconst renderMapSelectOptions = (act, maps) => {\n  const options = maps\n    .filter((map) => map.unlocked && map.act === act.id)\n    .map((map) => (\n      <MenuItem key={map.id} value={map.id}>\n        {map.display}\n      </MenuItem>\n    ));\n\n  return [<ListSubheader key={act.id}>{act.display}</ListSubheader>, options];\n};\n\nexport default function LogMission() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const activeCharacter = useSelector(selectActiveCharacter);\n  const [missionMap, setMissionMap] = React.useState(activeCharacter.maps[0]);\n  const [missionDifficulty, setMissionDifficulty] = React.useState(activeCharacter.difficulty);\n  const [missionObjectives, setMissionObjectives] = React.useState({\n    foundBone: {\n      checked: true,\n      display: \"Found Bone\",\n      pointValue: 5,\n    },\n    foundOuijaBoard: {\n      checked: false,\n      display: \"Found Ouija Board\",\n      pointValue: 10,\n    },\n    identifiedGhost: {\n      checked: true,\n      display: \"Identified Ghost\",\n      pointValue: 5,\n    },\n    maxPhotoReward: {\n      checked: false,\n      display: \"Max Photo Reward \",\n      pointValue: 15,\n    },\n    survivedHunt: {\n      checked: false,\n      display: \"Survived Hunt\",\n      pointValue: 2,\n    },\n    survivedMission: {\n      checked: true,\n      display: \"Survived Mission\",\n      pointValue: 5,\n    },\n  });\n\n  // Always default to the highest unlocked map\n  React.useEffect(() => {\n    const unlockedMaps = activeCharacter.maps.filter((m) => m.unlocked);\n    setMissionMap(unlockedMaps[unlockedMaps.length - 1]);\n  }, [activeCharacter.maps]);\n\n  const handleMapChange = (event) => {\n    const map = activeCharacter.maps.find((map) => map.id === event.target.value);\n    if (map) setMissionMap(map);\n  };\n\n  const handleDifficultyChange = (event) =>\n    event.target.value && setMissionDifficulty(event.target.value);\n\n  const handleObjectiveSettings = (event) =>\n    setMissionObjectives({\n      ...missionObjectives,\n      [event.target.name]: {\n        ...missionObjectives[event.target.name],\n        checked: event.target.checked,\n      },\n    });\n\n  const handleRandomTrait = () => {\n    // Flip a weighted coin to decide if we even get a trait this time\n    const acquiredTrait = Math.random() < 0.3;\n\n    // Stop here if we didn't get a trait this time\n    if (!acquiredTrait) {\n      return dispatch(\n        addAlert({ severity: \"success\", message: \"Successfully avoided acquiring new trait!\" })\n      );\n    }\n\n    // Figure out what traits we have left\n    const availableTraits = data.traits.filter(\n      (trait) => !activeCharacter.traits.some((t) => t.display === trait.display)\n    );\n\n    // Do nothing if we have no traits left to choose from\n    if (availableTraits.length === 0) {\n      return;\n    }\n\n    // Otherwise get a random trait from what's left\n    const randomTrait = randomizeArray(availableTraits).slice(0, 1)[0];\n\n    dispatch(addRandomTrait(randomTrait));\n\n    dispatch(addAlert({ severity: \"warning\", message: `Added Trait: ${randomTrait.display}` }));\n  };\n\n  const handleRandomLoot = () => {\n    const newRandomLoot = data.items\n      .filter(\n        (item) =>\n          [\"hqloot\", \"lqloot\"].includes(item.type) &&\n          item.allowedMaps.includes(missionMap.id) &&\n          Math.random() < item.dropChance\n      )\n      .slice(0, randomNumberInRange(3, 5));\n\n    const newRandomItems = data.items.filter(\n      (item) =>\n        [\"light\", \"junk\"].includes(item.type) &&\n        item.allowedMaps.includes(missionMap.id) &&\n        Math.random() < item.dropChance\n    );\n\n    const allItems = [...activeCharacter.items, ...newRandomLoot, ...newRandomItems];\n\n    // De-duplicate non-loot\n    const nonLoot = uniqBy(\n      allItems.filter((item) => ![\"lqloot\", \"hqloot\"].includes(item.type)),\n      \"display\"\n    );\n\n    // Separate out the loot\n    const justLoot = allItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type));\n\n    // Notify on rare loot\n    if (justLoot.find((item) => item.dropChance <= 0.3)) {\n      dispatch(addAlert({ severity: \"success\", message: \"Rare loot found!\" }));\n    }\n\n    const finalItems = [...justLoot, ...nonLoot];\n\n    dispatch(addRandomLoot(finalItems));\n\n    const newLootCount = finalItems.length - activeCharacter.items.length;\n\n    dispatch(\n      addAlert({\n        severity: \"info\",\n        message: `Found ${newLootCount} ${newLootCount === 1 ? \"item\" : \"items\"}`,\n      })\n    );\n  };\n\n  const calculateMissionPoints = (mission) => {\n    const multiplier = mission.difficulty / 10;\n    const basePoints = mission.map.pointValue;\n    let objectivePoints = 0;\n\n    for (const objective in mission.objectives) {\n      if (mission.objectives[objective].checked) {\n        objectivePoints += mission.objectives[objective].pointValue;\n      }\n    }\n\n    return (basePoints + objectivePoints) * multiplier;\n  };\n\n  const handleUpdateCharacter = () => {\n    const mission = {\n      difficulty: missionDifficulty,\n      map: missionMap,\n      objectives: missionObjectives,\n    };\n\n    const missionPoints = calculateMissionPoints(mission);\n    const totalPoints = missionPoints + activeCharacter.bankedPoints;\n\n    const nextLockedMap = activeCharacter.maps.find((map) => !map.unlocked);\n\n    const traits = activeCharacter.traits\n      .map((trait) => ({\n        ...trait,\n        remaining: trait.duration !== -1 && trait.remaining > 0 ? trait.remaining - 1 : -1,\n      }))\n      .filter((trait) => (trait.duration !== -1 && trait.remaining > 0) || trait.duration === -1);\n\n    const expiredTraitCount = activeCharacter.traits.length - traits.length;\n\n    if (expiredTraitCount > 0) {\n      dispatch(\n        addAlert({\n          severity: \"info\",\n          message: `${expiredTraitCount} ${\n            expiredTraitCount > 1 ? \"effects\" : \"effect\"\n          } has expired! `,\n        })\n      );\n    }\n\n    const updatedCharacter = {\n      ...activeCharacter,\n      difficulty: missionDifficulty,\n      bankedPoints: totalPoints,\n      maps: activeCharacter.maps.map((map) => ({\n        ...map,\n        unlockable: nextLockedMap && nextLockedMap.id === map.id && totalPoints >= map.pointCost,\n      })),\n      traits,\n    };\n\n    dispatch(updateCharacter(updatedCharacter));\n\n    dispatch(\n      addAlert({\n        severity: \"info\",\n        message: `Completed ${missionMap.display} for $${missionPoints}!`,\n      })\n    );\n  };\n\n  const handleMissionComplete = () => {\n    // Close the mission log\n    dispatch(toggleMissionDrawerOpen());\n\n    // Log the mission outcomes\n    handleUpdateCharacter();\n\n    // Randomly acquire 0-1 traits\n    handleRandomTrait();\n\n    // Randomly acquire 1-many loot items\n    handleRandomLoot();\n  };\n\n  const difficultyOptions = [\n    {\n      value: 10,\n      display: \"Amateur\",\n    },\n    {\n      value: 20,\n      display: \"Intermediate\",\n    },\n    {\n      value: 30,\n      display: \"Professional\",\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n      <Readable>\n        <Accent className={classes.characterName} size=\"1.2em\" color=\"accent\">\n          <span>\n            <Avatar\n              key={`key_${activeCharacter.name}`}\n              name={activeCharacter.name}\n              variant=\"beam\"\n              size=\"30px\"\n              colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n            />\n          </span>\n          <Accent size=\"1.2em\" color=\"accent\" transform=\"uppercase\">\n            Details\n          </Accent>\n          <span title={activeCharacter.name}>{activeCharacter.name}</span>\n        </Accent>\n      </Readable>\n      <div className={classes.missionDetails}>\n        <div className={classes.mapSelect}>\n          <FormControl className={classes.formControl}>\n            <InputLabel id=\"mission-details-log-map\">Location</InputLabel>\n            <Select\n              labelId=\"mission-details-log-map\"\n              value={missionMap.id}\n              id=\"mission-details-log-map-select\"\n              onChange={handleMapChange}\n            >\n              {Acts.map((act) => renderMapSelectOptions(act, activeCharacter.maps))}\n            </Select>\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <InputLabel id=\"mission-details-log-map\">Difficulty</InputLabel>\n            <Select\n              labelId=\"mission-details-log-map\"\n              value={missionDifficulty}\n              id=\"mission-details-log-map-select\"\n              onChange={handleDifficultyChange}\n            >\n              {difficultyOptions.map((difficulty) => (\n                <MenuItem key={difficulty.display} value={difficulty.value}>\n                  {difficulty.display}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div className={classes.missionObjectivesContainer}>\n          <FormControl component=\"fieldset\" className={classes.formControl}>\n            <FormLabel component=\"legend\">\n              <Accent size=\"1.1em\" color=\"accent\" transform=\"uppercase\">\n                Completed Objectives\n              </Accent>\n            </FormLabel>\n            <FormGroup className={classes.missionObjectives}>\n              {Object.keys(missionObjectives).map((objectiveKey) => (\n                <FormControlLabel\n                  key={objectiveKey}\n                  control={\n                    <Checkbox\n                      checked={missionObjectives[objectiveKey].checked}\n                      onChange={handleObjectiveSettings}\n                      name={objectiveKey}\n                    />\n                  }\n                  label={missionObjectives[objectiveKey].display}\n                />\n              ))}\n            </FormGroup>\n            <FormHelperText>On Your Honor!</FormHelperText>\n          </FormControl>\n        </div>\n        <Button onClick={() => handleMissionComplete()} variant=\"outlined\">\n          Complete Mission\n        </Button>\n      </div>\n    </div>\n  );\n}\n","export const randomizeArray = (array) => array.sort(() => Math.random() - 0.5);\n\nexport const randomNumberInRange = (min, max) => Math.floor(Math.random() * (max - min) + min);\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport sortBy from \"lodash.sortby\";\n\nimport { addAlert } from \"../../appSlice\";\nimport { buyItem, sellItem, selectActiveCharacter } from \"./phasmoRPGSlice\";\nimport { data } from \"./constants\";\nimport Readable from \"../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  accordion: {\n    backgroundColor: theme.palette.background.default,\n  },\n  accordionDetails: {\n    display: \"block\",\n  },\n  accordionSummary: {\n    \"&:hover\": {\n      color: `${theme.palette.text.secondary} !important`,\n    },\n  },\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  hasHQLoot: {\n    color: theme.palette.text.accent,\n  },\n  characterTraitsDetails: {\n    padding: theme.spacing(0, 1, 0, 1),\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyItems: \"space-between\",\n    justifyContent: \"space-between\",\n    textAlign: \"left\",\n    \"& > span\": {\n      fontSize: \"0.8em\",\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"0.7em !important\",\n      },\n    },\n  },\n  buyItem: {\n    color: theme.palette.error.main,\n  },\n  sellItem: {\n    color: theme.palette.success.main,\n  },\n  toggleStoreMode: {\n    cursor: \"pointer\",\n    textTransform: \"uppercase\",\n    fontSize: \"0.6em\",\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"0.4em\",\n    },\n  },\n  itemTypeJunk: {\n    color: theme.palette.text.disabled,\n  },\n  itemTypeEvidence: {\n    color: theme.palette.text.secondary,\n  },\n  itemTypeLQLoot: {\n    color: theme.palette.success.dark,\n  },\n  itemTypeHQLoot: {\n    color: theme.palette.text.accent,\n  },\n  itemTypeObjectives: {\n    color: theme.palette.text.secondary,\n  },\n  storeHeader: {\n    display: \"grid\",\n    justifyContent: \"space-between\",\n    justifyItems: \"space-between\",\n    gridTemplateColumns: \"1fr auto\",\n    \"& > span\": {\n      justifySelf: \"flex-start\",\n      alignSelf: \"center\",\n      color: theme.palette.text.secondary,\n      fontWeight: \"bold\",\n    },\n  },\n  storeModeSelected: {\n    color: theme.palette.secondary.light,\n  },\n  flipAnimation: {\n    webkitAnimation: \"flip-vertical-right 0.4s cubic-bezier(0.455, 0.030, 0.515, 0.955) both\",\n    animation: \"flip-vertical-right 0.4s cubic-bezier(0.455, 0.030, 0.515, 0.955) both\",\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(1, 1, 1, 1),\n    borderRadius: theme.spacing(0.5),\n    margin: theme.spacing(1, 0, 0, 0),\n  },\n  sellLootHover: {\n    backgroundColor: `${theme.palette.action.disabledBackground} !important`,\n  },\n  storeButtons: {\n    display: \"flex\",\n    \"& > *\": {\n      alignSelf: \"center\",\n    },\n  },\n}));\n\nexport default function Equipment() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n  const [storeMode, setStoreMode] = React.useState(\"sell\");\n  const [sellLootHover, setSellLootHover] = React.useState(false);\n\n  const characterItems = React.useMemo(() => sortBy(character.items, [\"sortWeight\"]), [character]);\n  const sellableLoot = React.useMemo(\n    () => characterItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type)),\n    [characterItems]\n  );\n\n  const sellableLootTotal = React.useMemo(\n    () => sellableLoot.reduce((totalValue, item) => totalValue + item.pointValues.sell, 0),\n    [sellableLoot]\n  );\n\n  const handleStoreModeToggle = () => setStoreMode((prev) => (prev === \"sell\" ? \"buy\" : \"sell\"));\n  const handleSellJunk = () => {\n    const junk = characterItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type));\n    if (junk.length > 0) {\n      let totalValue = 0;\n      for (const item of junk) {\n        totalValue += item.pointValues.sell;\n        dispatch(sellItem(item));\n      }\n\n      dispatch(\n        addAlert({\n          severity: \"success\",\n          message: `Sold ${junk.length} loot items for $${totalValue}`,\n        })\n      );\n    }\n  };\n\n  const characterHasHQLoot = React.useMemo(\n    () => characterItems.find((item) => item.type === \"hqloot\"),\n    [characterItems]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Accordion className={classes.accordion}>\n        <AccordionSummary\n          className={clsx(classes.accordionSummary, { [classes.hasHQLoot]: characterHasHQLoot })}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography className={classes.heading}>Equipment ({characterItems.length})</Typography>\n        </AccordionSummary>\n        <AccordionDetails className={classes.accordionDetails}>\n          <div className={classes.storeHeader}>\n            <span className={classes.storeButtons}>\n              <Readable onClick={handleStoreModeToggle} className={classes.toggleStoreMode}>\n                <span className={clsx({ [classes.storeModeSelected]: storeMode === \"sell\" })}>\n                  Inventory\n                </span>\n                <Switch\n                  checked={storeMode === \"buy\"}\n                  name=\"storeMode\"\n                  inputProps={{ \"aria-label\": \"store inventory checkbox\" }}\n                  color=\"default\"\n                />\n\n                <span className={clsx({ [classes.storeModeSelected]: storeMode === \"buy\" })}>\n                  Store\n                </span>\n              </Readable>\n            </span>\n            {storeMode === \"sell\" && (\n              <Button\n                onMouseEnter={() => setSellLootHover(true)}\n                onMouseLeave={() => setSellLootHover(false)}\n                variant=\"text\"\n                className={classes.toggleStoreMode}\n                onClick={() => handleSellJunk()}\n                disabled={sellableLoot.length === 0}\n              >\n                Sell Loot (${sellableLootTotal})\n              </Button>\n            )}\n          </div>\n          {storeMode === \"sell\" ? (\n            <div key=\"inventory_items\" className={classes.flipAnimation}>\n              {characterItems.map((item, index) => (\n                <div\n                  key={`${character.id}_owned_${item.id}_${index}`}\n                  className={clsx(classes.characterTraitsDetails, {\n                    [classes.sellLootHover]:\n                      [\"hqloot\", \"lqloot\"].includes(item.type) && sellLootHover,\n                  })}\n                >\n                  <Readable\n                    className={clsx({\n                      [classes.itemTypeJunk]: item.type === \"junk\",\n                      [classes.itemTypeLQLoot]: item.type === \"lqloot\",\n                      [classes.itemTypeHQLoot]: item.type === \"hqloot\",\n                      [classes.itemTypeEvidence]: item.type === \"evidence\",\n                      [classes.itemTypeObjectives]: item.type === \"objectives\",\n                    })}\n                  >\n                    {item.display}\n                  </Readable>\n                  {[\"hqloot\", \"lqloot\"].includes(item.type) && (\n                    <Readable className={classes.sellItem}>+${item.pointValues.sell}</Readable>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div key=\"store_items\" className={classes.flipAnimation}>\n              {data.items\n                .filter(\n                  (item) =>\n                    [\"evidence\", \"objectives\", \"light\"].includes(item.type) &&\n                    !characterItems.find((i) => i.display === item.display)\n                )\n                .sort((a, b) => b.pointValues.buy - a.pointValues.buy)\n                .map((item, index) => (\n                  <div\n                    className={classes.characterTraitsDetails}\n                    key={`${character.id}_store_${item.id}_${index}`}\n                  >\n                    <Readable\n                      className={clsx({\n                        [classes.itemTypeJunk]: item.type === \"junk\",\n                        [classes.itemTypeEvidence]: item.type === \"evidence\",\n                        [classes.itemTypeObjectives]: item.type === \"objectives\",\n                      })}\n                    >\n                      {item.display}\n                    </Readable>\n                    <Button\n                      disabled={character.bankedPoints < item.pointValues.buy}\n                      onClick={() => dispatch(buyItem(item))}\n                      className={classes.buyItem}\n                      variant=\"text\"\n                    >\n                      -${item.pointValues.buy}\n                    </Button>\n                  </div>\n                ))}\n            </div>\n          )}\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport { addAlert } from \"../../appSlice\";\nimport { removeTrait, selectActiveCharacter } from \"./phasmoRPGSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\nimport Filter1Icon from \"@material-ui/icons/Filter1\";\nimport Filter2Icon from \"@material-ui/icons/Filter2\";\nimport Filter3Icon from \"@material-ui/icons/Filter3\";\n\nconst useStyles = makeStyles((theme) => ({\n  accordion: {\n    backgroundColor: theme.palette.background.default,\n  },\n  accordionDetails: {\n    display: \"block\",\n    \"& > div\": {\n      padding: theme.spacing(1),\n      borderRadius: \"5px\",\n    },\n    \"& > div:nth-child(odd)\": {\n      backgroundColor: theme.palette.background.paper,\n    }\n  },\n  accordionSummary: {\n    \"&:hover\": {\n      color: theme.palette.text.secondary,\n    },\n  },\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  removeTrait: {\n    color: theme.palette.error.main,\n  },\n  characterTraitsDetails: {\n    fontSize: \"0.6em\",\n    display: \"grid\",\n    gridTemplateColumns: \"auto 1fr auto\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyItems: \"space-between\",\n    gap: theme.spacing(1.5),\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Traits() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n\n  const handleRemoveTrait = (trait) => {\n    dispatch(removeTrait(trait));\n    dispatch(\n      addAlert({\n        severity: \"success\",\n        message: `Removed Trait: ${trait.display}`,\n      })\n    );\n    dispatch(\n      addAlert({\n        severity: \"error\",\n        message: `Lost: $${trait.category.removalCost}`,\n      })\n    );\n  };\n\n  const renderRemainingRoundsIcon = (duration) => {\n    switch (duration) {\n      case -1:\n        return (\n          <Accent color=\"error\">\n            <TimerOffIcon />\n          </Accent>\n        );\n      case 1:\n        return (\n          <Accent color=\"accent\">\n            <Filter1Icon />\n          </Accent>\n        );\n      case 2:\n        return (\n          <Accent color=\"accent\">\n            <Filter2Icon />\n          </Accent>\n        );\n      case 3:\n        return (\n          <Accent color=\"accent\">\n            <Filter3Icon />\n          </Accent>\n        );\n      default:\n        return (\n          <Accent color=\"disabled\">\n            <TimerOffIcon />\n          </Accent>\n        );\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion className={classes.accordion}>\n        <AccordionSummary\n          className={classes.accordionSummary}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography className={classes.heading}>Effects ({character.traits.length})</Typography>\n        </AccordionSummary>\n        <AccordionDetails className={classes.accordionDetails}>\n          {character.traits.map((trait) => (\n            <div className={classes.characterTraitsDetails} key={trait.id}>\n              <Readable>{renderRemainingRoundsIcon(trait.remaining)}</Readable>\n              <Readable>\n                <Accent color=\"contrast\">{trait.display}</Accent>: {trait.description}\n              </Readable>\n              <Button\n                onClick={() => handleRemoveTrait(trait)}\n                disabled={character.bankedPoints < trait.removalCost}\n                className={classes.removeTrait}\n                variant=\"text\"\n              >\n                <span>-${trait.removalCost}</span>\n              </Button>\n            </div>\n          ))}\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Xarrow from \"react-xarrows\";\nimport CharacterSelect from \"./CharacterSelect\";\n\nimport { addAlert } from \"../../appSlice\";\nimport { data, Acts } from \"./constants\";\n\nimport {\n  deleteCharacter,\n  selectActiveCharacter,\n  selectMissionDrawerOpen,\n  setNextUnlockableMap,\n  toggleMissionDrawerOpen,\n  unlockMap,\n} from \"./phasmoRPGSlice\";\nimport LogMission from \"./LogMission\";\nimport Readable from \"../../common/Readable\";\nimport Equipment from \"./Equipment\";\nimport Traits from \"./Traits\";\n\nconst useStyles = makeStyles((theme) => ({\n  act: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.background.papercontrast,\n    height: \"100%\",\n    borderRadius: \"5px\",\n    padding: theme.spacing(1),\n  },\n  actsContainer: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    alignItems: \"flex-start\",\n    alignContent: \"flex-start\",\n    gap: theme.spacing(2),\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n  },\n  actTitle: {\n    fontSize: \"1.2em\",\n    textTransform: \"uppercase\",\n  },\n  bankedPoints: {\n    color: theme.palette.success.main,\n  },\n  characterIcons: {\n    display: \"flex\",\n    gap: theme.spacing(1.5),\n  },\n  characterSheetHeader: {\n    alignContent: \"center\",\n    color: theme.palette.secondary.light,\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    gap: theme.spacing(1.5),\n    justifyContent: \"center\",\n    justifyItems: \"center\",\n  },\n  characterMoney: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1.5),\n  },\n  characterPanel: {\n    borderRadius: theme.spacing(0.5),\n    padding: theme.spacing(2, 1, 2, 1),\n    margin: theme.spacing(1, 0, 1, 0),\n  },\n  characterProperties: {\n    display: \"grid\",\n    gap: theme.spacing(2),\n    gridTemplateColumns: \"1fr\",\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n    margin: theme.spacing(1, 0, 1.5, 0),\n  },\n  characterTraitsTitle: {\n    backgroundColor: theme.palette.background.paperalt,\n    color: theme.palette.secondary.light,\n  },\n  characterTraitsDetails: {\n    fontSize: \"0.6em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto\",\n    alignItems: \"flex-start\",\n    textAlign: \"left\",\n  },\n  firstMap: {\n    backgroundColor: theme.palette.secondary.dark,\n    color: theme.palette.text.accent,\n  },\n  mapArrow: {\n    zIndex: 999,\n  },\n  firstMapArrow: {\n    color: theme.palette.text.accent,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 115,\n  },\n  mapIcon: {\n    margin: 0,\n    padding: 0,\n    marginTop: theme.spacing(1),\n  },\n  mapLocked: {\n    color: theme.palette.error.dark,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.error.light,\n    },\n  },\n  mapButton: {\n    border: \"2px solid transparent\",\n    fontFamily: \"Indie Flower; cursive\",\n    fontSize: \"0.9em\",\n    display: \"grid\",\n    justifyContent: \"stretch\",\n    gridTemplateColumns: \"1fr\",\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"0.6em\",\n    },\n  },\n  mapButtonUnlocked: {\n    backgroundColor: theme.palette.success.dark,\n  },\n  mapButtonLocked: {\n    backgroundColor: `${theme.palette.background.default} !important`,\n    color: theme.palette.error.dark,\n  },\n  mapButtonUnlockable: {\n    border: `2px solid ${theme.palette.success.main}`,\n    \"&:hover\": {\n      backgroundColor: `${theme.palette.background.paper} !important`,\n    },\n  },\n  mapName: {\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    display: \"flex\",\n    padding: theme.spacing(0.5),\n    justifyContent: \"space-between\",\n    border: \"2px solid transparent\",\n    borderRadius: \"5px\",\n  },\n  mapUnlocked: {\n    color: theme.palette.success.light,\n  },\n  mapWidget: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.disabled,\n  },\n  characterButtons: {\n    display: \"flex\",\n    gap: theme.spacing(1.5),\n    justifyContent: \"center\",\n  },\n  deleteCharacter: {\n    margin: theme.spacing(2, 0, 0, 0),\n    padding: theme.spacing(1),\n    color: theme.palette.error.dark,\n    \"&:hover\": {\n      color: theme.palette.text.secondary,\n      backgroundColor: theme.palette.error.main,\n    },\n  },\n  root: {\n    margin: theme.spacing(1, 0, 0, 0),\n    width: \"95vw\",\n  },\n  removeTrait: {\n    color: theme.palette.error.main,\n  },\n  mapWrapper: {\n    \"& > button\": {\n      width: \"100%\",\n      marginBottom: theme.spacing(3),\n    }\n  },\n}));\n\nexport default function CharacterPreview() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n  const missionDrawerOpen = useSelector(selectMissionDrawerOpen);\n  const [actsByMap, setActsByMap] = React.useState();\n\n  React.useEffect(() => {\n    if (character) {\n      const actsByMap = {\n        act1: character.maps.filter((m) => m.act === \"act1\"),\n        act2: character.maps.filter((m) => m.act === \"act2\"),\n        act3: character.maps.filter((m) => m.act === \"act3\"),\n      };\n      setActsByMap(actsByMap);\n    }\n  }, [character]);\n\n  const mapRefs = {\n    tanglewood: React.useRef(null),\n    ridgeview: React.useRef(null),\n    edgefield: React.useRef(null),\n    willow: React.useRef(null),\n    bleasdale: React.useRef(null),\n    grafton: React.useRef(null),\n    maplelodge: React.useRef(null),\n    brownstone: React.useRef(null),\n    prison: React.useRef(null),\n    asylum: React.useRef(null),\n  };\n\n  const handleUnlockAttempt = (map) => {\n    dispatch(unlockMap(map.id));\n    dispatch(setNextUnlockableMap());\n\n    dispatch(\n      addAlert({\n        severity: \"success\",\n        message: `Unlocked Map: ${map.display}`,\n      })\n    );\n    dispatch(\n      addAlert({\n        severity: \"error\",\n        message: `Lost: $${map.pointCost}`,\n      })\n    );\n  };\n\n  return actsByMap && character ? (\n    <Paper elevation={3} className={clsx(classes.root, classes.characterPanel)} component=\"div\">\n      <div className={classes.characterSheetHeader}>\n        <div className={classes.characterIcons}>\n          <span>\n            <CharacterSelect />\n          </span>\n          <Readable className={classes.characterMoney}>\n            <span className={classes.bankedPoints}>${character.bankedPoints}</span>\n          </Readable>\n        </div>\n      </div>\n      {Object.keys(character).length > 0 && (\n        <Drawer\n          anchor={\"right\"}\n          open={missionDrawerOpen}\n          onClose={() => dispatch(toggleMissionDrawerOpen())}\n        >\n          <LogMission character={character} />\n        </Drawer>\n      )}\n      <span className={classes.characterProperties}>\n        <Equipment />\n        <Traits />\n      </span>\n      <div className={classes.actsContainer}>\n        {Acts.map((act) => (\n          <Paper key={`level_${act.id}`} className={classes.act}>\n            <Readable className={classes.actTitle}>{act.display}</Readable>\n            {actsByMap[act.id].map((map, index) => {\n              const nextIndex = index + 1 === actsByMap[act.id].length ? null : index + 1;\n              return (\n                <Paper\n                  key={map.id}\n                  component={({ children }) => (\n                    <span className={classes.mapWrapper}>\n                      <Button\n                        onClick={() => handleUnlockAttempt(map)}\n                        disabled={map.unlocked || !map.unlockable}\n                        variant=\"contained\"\n                        className={clsx(classes.mapButton, {\n                          [classes.mapButtonLocked]: !map.unlocked,\n                          [classes.mapButtonUnlocked]: map.unlocked,\n                          [classes.mapButtonUnlockable]: map.unlockable,\n                        })}\n                      >\n                        {children}\n                      </Button>\n                    </span>\n                  )}\n                >\n                  <span>\n                    <span ref={mapRefs[map.id]} className={classes.mapName}>\n                      {map.unlocked ? (\n                        <LockOpenIcon className={classes.mapUnlocked} />\n                      ) : (\n                        <LockIcon />\n                      )}\n                      {map.display} {!map.unlocked && <Readable>-${map.pointCost}</Readable>}\n                      <span className={classes.mapIcon}>{data.iconMapMap[map.id]}</span>\n                    </span>\n                    {nextIndex && (\n                      <Xarrow\n                        startAnchor=\"bottom\"\n                        endAnchor=\"top\"\n                        start={mapRefs[map.id]}\n                        end={mapRefs[actsByMap[act.id][nextIndex].id]}\n                        color={map.unlocked ? \"orange\" : \"grey\"}\n                        className={clsx(classes.mapArrow, {\n                          [classes.firstMapArrow]: map.unlocked,\n                        })}\n                      />\n                    )}\n                  </span>\n                </Paper>\n              );\n            })}\n          </Paper>\n        ))}\n      </div>\n      <Button\n        className={classes.deleteCharacter}\n        onClick={() => dispatch(deleteCharacter(character))}\n      >\n        Delete Character\n      </Button>\n    </Paper>\n  ) : null;\n}\n","import { debounce } from \"lodash-es\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport Avatar from \"boring-avatars\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { data } from \"./constants\";\n\nimport {\n  selectActiveCharacter,\n  selectCharacters,\n  setCharacterActive,\n  saveCharacter,\n} from \"./phasmoRPGSlice\";\nimport CharacterPreview from \"./CharacterPreview\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {},\n  characterCreator: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n  },\n  createCharacter: {\n    width: 200,\n    justifySelf: \"center\",\n  },\n  cancelButton: {\n    color: theme.palette.error.main,\n  },\n  existingCharacters: {\n    display: \"flex\",\n    gap: theme.spacing(1),\n    justifyContent: \"center\",\n    padding: theme.spacing(2),\n    width: \"95vw\",\n    borderRadius: \"5px\",\n    alignContent: \"center\",\n    \"& > .existingCharacterButton\": {\n      padding: 0,\n      margin: 0,\n    },\n  },\n  isActive: {\n    border: `2px solid ${theme.palette.text.accent} !important`,\n  },\n  existingCharacterTile: {\n    backgroundColor: theme.palette.background.papercontrast,\n    border: \"2px solid transparent\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.background.paperalt,\n      cursor: \"pointer\",\n    },\n    \"&:active\": {\n      backgroundColor: theme.palette.background.default,\n      cursor: \"pointer\",\n    },\n  },\n  newCharacter: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"50vw\",\n    },\n    borderRadius: \"5px\",\n    justifySelf: \"center\",\n    padding: \"20px\",\n    width: \"350px\",\n  },\n  root: {\n    margin: theme.spacing(0, 1, 0, 1),\n  },\n}));\n\nconst randomize = (array) => array.sort(() => Math.random() - 0.5);\n\nconst getRandomChunkFromRange = (start, end, splitBy) => {\n  const range = end - start;\n  const chunkCount = Math.floor(range / splitBy);\n  const chunkSize = range / chunkCount;\n\n  let chunks = [start];\n  for (let i = 0; i < chunkCount; i++) {\n    chunks = [...chunks, chunkSize + chunks[chunks.length - 1]];\n  }\n\n  return chunks.sort(() => Math.random() - 0.5)[0];\n};\n\nconst CreateCharacter = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const characters = useSelector(selectCharacters);\n  const [characterName, setCharacterName] = React.useState(\"\");\n\n  const handleKeyUp = debounce((e) => {\n    if (e.code === \"Enter\") {\n      handleClick();\n    } else {\n      setCharacterName(e.target.value.trim());\n    }\n  }, 100);\n\n  const handleClick = () => {\n    if (characterName.length > 0) {\n      const starterItems = data.items.filter((item) => item.category.id === \"starter\");\n\n      const items = [...starterItems];\n      const traits = [...data.traits];\n\n      const randomItems = randomize(items).slice(0, 2);\n      const randomTraits = randomize(traits).slice(0, 1);\n\n      const actRangeMap = {\n        act1: [1000, 2500],\n        act2: [2500, 4000],\n        act3: [4000, 5500],\n      };\n\n      let maps = data.maps\n        .map((map) => ({\n          ...map,\n          pointCost: getRandomChunkFromRange(actRangeMap[map.act][0], actRangeMap[map.act][1], 250),\n        }))\n        .sort((a, b) => {\n          return a.pointCost - b.pointCost;\n        });\n\n      // Unlock the first map\n      maps[0] = {\n        ...maps[0],\n        unlocked: true,\n      };\n\n      dispatch(\n        saveCharacter({\n          money: 0,\n          items: randomItems,\n          traits: randomTraits,\n          maps,\n          difficulty: 30,\n          name: characterName,\n        })\n      );\n    }\n  };\n\n  return (\n    <div className={classes.characterCreator}>\n      <TextField\n        autoFocus={true}\n        className={classes.newCharacter}\n        id=\"filled-basic\"\n        margin=\"dense\"\n        helperText=\"New Character Name\"\n        variant=\"standard\"\n        onKeyUp={handleKeyUp}\n      />\n      <span>\n        <Button className={classes.createCharacter} onClick={() => handleClick()}>\n          Create Character\n        </Button>\n        {characters.length > 0 && (\n          <Button\n            className={classes.cancelButton}\n            onClick={() => dispatch(setCharacterActive(characters[0].id))}\n          >\n            Cancel\n          </Button>\n        )}\n      </span>\n      <CharacterPreview />\n    </div>\n  );\n};\n\nexport const CharacterButton = ({ character }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  // Set a character active or set none which shows the add new character input\n  const handleClick = () => dispatch(setCharacterActive((character && character.id) || null));\n\n  return (\n    <Button className=\"existingCharacterButton\" onClick={() => handleClick()}>\n      {character ? (\n        <Paper\n          title={character.name}\n          className={clsx(classes.existingCharacterTile, {\n            [classes.isActive]: character.isActive,\n          })}\n          component=\"span\"\n        >\n          <Avatar\n            key={`key_${character.name}`}\n            name={character.name}\n            variant=\"beam\"\n            size=\"25px\"\n            colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n            className={classes.avatar}\n          />\n        </Paper>\n      ) : (\n        <Paper title=\"Add New Character\" className={classes.existingCharacterTile} component=\"span\">\n          <AddBoxIcon />\n        </Paper>\n      )}\n    </Button>\n  );\n};\n\nexport default function PhasmoRPG() {\n  const classes = useStyles();\n  const activeCharacter = useSelector(selectActiveCharacter);\n\n  return (\n    <div className={classes.root}>\n      {activeCharacter ? <CharacterPreview /> : <CreateCharacter />}\n    </div>\n  );\n}\n","import Button from \"@material-ui/core/Button\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MoneyOffIcon from \"@material-ui/icons/MoneyOff\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\nimport clsx from \"clsx\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Accent from \"../../common/Accent\";\nimport IconButton from \"../../common/IconButton\";\nimport Readable from \"../../common/Readable\";\nimport { photoDistances } from \"./constants\";\nimport {\n  addPhoto,\n  reset as resetPhotoCalculator,\n\n\n  selectPhotoCount,\n  // selectCollectedPhotos,\n  selectPhotos,\n\n  selectTotalValue\n} from \"./photoCalculatorSlice\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  disabled: {\n    opacity: \"0.5\",\n    pointerEvents: \"none\",\n  },\n  disablePhotoType: {\n    gridArea: \"disablePhotoType\",\n    justifySelf: \"flex-end\",\n    margin: 0,\n    padding: 0,\n  },\n  disablePhotoTypeButton: {\n    color: theme.palette.error.main,\n    margin: 0,\n    padding: 0,\n    \"&:hover\": {\n      background: \"none\",\n      color: theme.palette.error.dark,\n    },\n  },\n  photoTypes: {\n    justifySelf: \"flex-end\",\n    gridArea: \"photoTypes\",\n    color: theme.palette.secondary.light,\n  },\n  photoStars: {\n    gridArea: \"photoStars\",\n    justifySelf: \"center\",\n  },\n  photoTypeCount: {\n    gridArea: \"photoTypeCount\",\n    justifySelf: \"flex-start\",\n  },\n  photoTotalValue: {\n    gridArea: \"photoTotalValue\",\n  },\n  photoDetails: {\n    padding: 0,\n    margin: 0,\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    justifyContent: \"center\",\n    justifyItems: \"center\",\n    justifySelf: \"center\",\n    width: \"100vw\",\n  },\n  photoTypeContainer: {\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n    margin: 0,\n    width: \"90vw\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    gridTemplateAreas: '\"photoTypes photoStars photoTypeCount\"',\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    gap: \"10px\",\n  },\n  resetButton: {\n    opacity: \"0.5\",\n    \"&:hover\": {\n      background: \"none\",\n    },\n  },\n  resetButtonActive: {\n    opacity: 1,\n    color: theme.palette.error.main,\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n      background: \"none\",\n    },\n  },\n  root: {\n    padding: \"10px 0 10px 0\",\n  },\n  starIcons: {\n    \"& > button\": {\n      color: theme.palette.text.accent,\n    },\n  },\n  subtitle: {\n    fontSize: \"0.85em\",\n    margin: \"-10px 0 10px 0 \",\n  },\n  title: {\n    margin: \"10px 0 0 0\",\n    fontSize: \"1.4em\",\n  },\n}));\n\nexport default function PhotoCalculator() {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  // const collectedPhotos = useSelector(selectCollectedPhotos);\n  const totalValue = useSelector(selectTotalValue);\n  const photos = useSelector(selectPhotos);\n  const collectedPhotoCount = useSelector(selectPhotoCount);\n\n  const collectPhoto = (photo) => () => {\n    dispatch(addPhoto(photo));\n  };\n\n  const isBookFull = React.useMemo(() => collectedPhotoCount >= 10, [collectedPhotoCount]);\n\n  // const collectedPhotoPoints = React.useMemo(\n  //   () =>\n  //     collectedPhotos.reduce((points, photo) => {\n  //       return points + photo.points;\n  //     }, 0),\n  //   [collectedPhotos]\n  // );\n\n  // const maxPossible = React.useMemo(() => {\n  //   const enabled = photos.filter((photo) => photo.enabled);\n  //   const missed = photos.filter((photo) => !photo.enabled && photo.count < photo.limit);\n  //   let photoLimit = 10 - collectedPhotos.length;\n  //   let photoCount = 0;\n  //   console.log(enabled);\n  //   const remainingPhotoPoints = enabled.reduce((total, photoType) => {\n  //     // Stop counting past the remaining allowed photos\n  //     if (photoCount >= photoLimit) return total;\n\n  //     // How many of this type can we collect?\n  //     let photoTypeLimit = photoType.limit - photoType.count;\n\n  //     // If we would exceed our limit, take the difference for the available photos remaining\n  //     if (photoTypeLimit + photoCount >= photoLimit) {\n  //       photoTypeLimit = photoTypeLimit - photoCount;\n  //     }\n\n  //     photoCount += photoTypeLimit;\n\n  //     return total + photoValues[photoType.id][3] * photoTypeLimit;\n  //   }, 0);\n\n  //   // Account for missed (disabled) photos (ex, ouija board)\n  //   const unavailablePhotoPoints = missed.reduce((total, photoType) => {\n  //     return total + photoValues[photoType.id][3] * (photoType.limit - photoType.count);\n  //   }, 0);\n\n  //   // Return max possible value, capped at 40\n  //   return photoTotalConverter(\n  //     collectedPhotoPoints + remainingPhotoPoints - unavailablePhotoPoints\n  //   );\n  // }, [collectedPhotos.length, photos, collectedPhotoPoints]);\n\n  const handleResetClick = () => dispatch(resetPhotoCalculator());\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>\n        {t('labels.photocalculator.long')}\n        <IconButton\n          className={clsx(classes.resetButton, { [classes.resetButtonActive]: totalValue > 0 })}\n          onClick={handleResetClick}\n          aria-label=\"reset photos\"\n          title=\"Reset Photos\"\n        >\n          <MoneyOffIcon />\n        </IconButton>\n      </div>\n      <div className={classes.subtitle}>\n        <Readable>\n          {t('labels.photocalculatorsubheading')} |{\" \"}\n          <Accent>\n            ${totalValue}\n          </Accent>{\" \"}\n          | <Accent>{collectedPhotoCount} photos</Accent>\n        </Readable>\n      </div>\n      <div className={classes.photoDetails}>\n        {photos.map((photoType) => (\n          <span\n            className={clsx(classes.photoTypeContainer, {\n              [classes.disabled]: !photoType.enabled || isBookFull,\n            })}\n            key={photoType.id}\n          >\n            <span className={classes.photoTypes}>{t(photoType.i18nKey)}</span>\n            {/* <span className={classes.disablePhotoType}>\n              {[\"bone\", \"ouijaboard\"].includes(photoType.id) && (\n                <IconButton\n                  className={classes.disablePhotoTypeButton}\n                  onClick={() => dispatch(disablePhotoType(photoType.id))}\n                  title={`Click if you could not find the ${photoType.display}`}\n                >\n                  <NotInterestedIcon />\n                </IconButton>\n              )}\n            </span> */}\n            <span className={classes.photoStars}>\n              <ButtonGroup\n                key={photoType.id}\n                color=\"primary\"\n                aria-label={`${photoType.id} button group`}\n                variant=\"text\"\n                className={classes.starIcons}\n              >\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[1] : photoDistances.other[1]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 1, ...photoType })} />\n                </Button>\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[2] : photoDistances.other[2]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 2, ...photoType })} />\n                </Button>\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[3] : photoDistances.other[3]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 3, ...photoType })} />\n                </Button>\n              </ButtonGroup>\n            </span>\n            <span className={classes.photoTypeCount}>\n              <Readable>{photoType.count}</Readable>\n            </span>\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","export const palettes = {\n  dark: {\n    palette: {\n      type: \"dark\",\n      action: {\n        hover: \"#15527a\",\n      },\n      primary: {\n        main: \"#0582ca\",\n        light: \"#00a6fb\",\n        dark: \"#006494\",\n      },\n      background: {\n        default: \"#272733\",\n        paper: \"#2b2d42\",\n        paperalt: \"#402f4a\",\n        papercontrast: \"#3d2033\",\n        paperhighlight: \"#5728a1\",\n      },\n      secondary: {\n        main: \"#5e548e\",\n        dark: \"#231942\",\n        light: \"#9f86c0\",\n      },\n      ghostName: {\n        background: \"#2b2d42\",\n      },\n      ghosts: {\n        background: \"#2b2d42\",\n        invalid: \"#5c677d\",\n        valid: \"#2a628f\",\n      },\n      info: {\n        main: \"#5aa9e6\",\n      },\n      text: {\n        primary: \"#5fa8d3\",\n        secondary: \"#cae9ff\",\n        contrast: \"#8ac926\",\n        accent: \"#ffbc0a\",\n        error: \"#ff0000\",\n      },\n    },\n  },\n  light: {\n    palette: {\n      type: \"light\",\n      action: {\n        hover: \"#33a1fd\",\n      },\n      background: {\n        default: \"#e8decf\",\n        paper: \"#b1cf9f\",\n        paperalt: \"#6897b0\",\n        papercontrast: \"#c5d86d\",\n      },\n      primary: {\n        main: \"#c8d5b9\",\n        light: \"#faf3dd\",\n        dark: \"#8fc0a9\",\n      },\n      secondary: {\n        main: \"#d3bccc\",\n        dark: \"#a167a5\",\n        light: \"#604e69\",\n      },\n      ghostName: {\n        background: \"#b8bedd\",\n      },\n      ghosts: {\n        background: \"#4f6d7a\",\n        invalid: \"#4f6d7a\",\n        valid: \"#4872b5\",\n      },\n      info: {\n        main: \"#1957db\",\n      },\n      text: {\n        primary: \"#3d718f\",\n        secondary: \"#cae9ff\",\n        contrast: \"#8ac926\",\n        accent: \"#33a1fd\",\n      },\n    },\n  },\n};\n\nexport const initialState = {\n  themeTypes: [\"dark\", \"light\"],\n  themeType: \"dark\",\n  themes: palettes,\n};\n","import React from \"react\";\n\nimport {\n  unstable_createMuiStrictModeTheme as createMuiTheme,\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { palettes } from \"./constants\";\n\nexport default function Theme({ children, themeName }) {\n  const palette = React.useMemo(() => palettes[themeName], [themeName]);\n\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        ...palette,\n      }),\n    [palette]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </ThemeProvider>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport { removeAlert, selectAlerts } from \"../appSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    gap: theme.spacing(2),\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function Alerts() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const alerts = useSelector(selectAlerts);\n  const [activeAlerts, setActiveAlerts] = React.useState([]);\n\n  const handleClose = (alertId, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setActiveAlerts(activeAlerts.filter((alert) => alert.id !== alertId));\n    dispatch(removeAlert(alertId));\n  };\n\n  // Maintain a maximum of 4 active alerts\n  React.useEffect(() => {\n    if (alerts && alerts.length > 0) {\n      return setActiveAlerts((prev) => [...prev, ...alerts.slice(0, 4).map((a) => a.id)]);\n    }\n    setActiveAlerts([]);\n  }, [alerts]);\n\n  return alerts && alerts.length > 0 ? (\n    <div className={classes.root}>\n      {alerts.map((alert) => (\n        <Snackbar\n          key={alert.id}\n          open={activeAlerts.includes(alert.id)}\n          autoHideDuration={3000}\n          onClose={(_, reason) => handleClose(alert.id, reason)}\n          anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n          disableWindowBlurListener={true}\n        >\n          <Alert onClick={() => handleClose(alert.id)} severity={alert.severity}>\n            {alert.message}\n          </Alert>\n        </Snackbar>\n      ))}\n    </div>\n  ) : null;\n}\n","import { useSelector } from \"react-redux\";\nimport React, { Suspense } from \"react\";\n\nimport { selectThemeName, selectViews } from \"./appSlice\";\nimport ChallengeRandomizer from \"./features/randomizers/challenges/ChallengeRandomizer\";\nimport Evidence from \"./features/evidence/Evidence\";\nimport GhostName from \"./features/ghostname/GhostName\";\nimport Ghosts from \"./features/ghosts/Ghosts\";\nimport Header from \"./features/header/Header\";\nimport JobRandomizer from \"./features/randomizers/jobrandomizer/JobRandomizer\";\nimport PhasmoRPG from \"./features/phasmorpg/PhasmoRPG\";\nimport PhotoCalculator from \"./features/photocalculator/PhotoCalculator\";\nimport Theme from \"./features/theme/Theme\";\nimport Alerts from \"./common/Alerts\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const views = useSelector(selectViews);\n  const themeName = useSelector(selectThemeName);\n  return (\n    <Theme themeName={themeName}>\n      <Suspense fallback=\"loading\">\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Header />\n            {views.ghostName && <GhostName />}\n          </header>\n          <main className=\"App-main\">\n            {views.evidence && <Evidence />}\n            {views.ghosts && <Ghosts />}\n            {views.phasmorpg && <PhasmoRPG />}\n            {views.challenges && <ChallengeRandomizer />}\n            {views.jobs && <JobRandomizer />}\n            {views.photocalculator && <PhotoCalculator />}\n            <Alerts />\n          </main>\n        </div>\n      </Suspense>\n    </Theme>\n  );\n}\n\nexport default App;\n","import { Provider } from \"react-redux\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./i18n\";\nimport { addAlert } from \"./appSlice\";\nimport { hydrate as hydrateAppState } from \"./appSlice\";\nimport { hydrate as hydrateJobsState } from \"./features/randomizers/jobrandomizer/jobRandomizerSlice\";\nimport { hydrate as hydratePhasmoRPGState } from \"./features/phasmorpg/phasmoRPGSlice\";\nimport { LOCAL_STORAGE_KEY } from \"./constants\";\nimport { store } from \"./app/store\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\nimport semver from \"semver\";\n\nimport \"./index.css\";\nimport * as pkgJson from \"../package.json\";\n\nstore.subscribe(() => {\n  localStorage.setItem(\n    LOCAL_STORAGE_KEY,\n    JSON.stringify({ ...store.getState(), version: pkgJson.version })\n  );\n});\n\nlet initAlerts = [];\nlet forceReload = false;\n\nconst getAppStateFromLocalStorage = () => {\n  try {\n    const persistedState = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (persistedState) {\n      const parsed = JSON.parse(persistedState);\n      const prevMajor = semver.major(parsed.version);\n      const prevMinor = semver.minor(parsed.version);\n      const currentMinor = semver.minor(pkgJson.version);\n      const currentMajor = semver.major(pkgJson.version);\n\n      // Force expire for major/minor version but not for patch versions\n      if (currentMajor > prevMajor || (currentMajor === prevMajor && currentMinor > prevMinor)) {\n        initAlerts.push({\n          severity: \"error\",\n          message: `(App Reset) Upgraded to new version: ${parsed.version} => ${pkgJson.version}`,\n        });\n        forceReload = true;\n        localStorage.removeItem(LOCAL_STORAGE_KEY);\n      }\n\n      return parsed;\n    }\n  } catch (e) {\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    initAlerts.push({\n      severity: \"error\",\n      message: `(App Reset) Application Error (${pkgJson.version}): ${e.message}`,\n    });\n  }\n};\n\nconst appState = getAppStateFromLocalStorage();\n\n// Only restore if we didn't have to start over with minor/major bump\nif (appState && !forceReload) {\n  store.dispatch(hydrateAppState(appState.app));\n  store.dispatch(hydrateJobsState(appState.randomizers.jobs));\n  store.dispatch(hydratePhasmoRPGState(appState.phasmoRPG));\n}\n\nif (initAlerts.length > 0) {\n  initAlerts.forEach((alert) => {\n    store.dispatch(addAlert(alert));\n  });\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}