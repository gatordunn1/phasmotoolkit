{"version":3,"sources":["constants.js","appSlice.js","features/randomizers/jobrandomizer/constants.js","features/randomizers/jobrandomizer/jobRandomizerSlice.js","features/phasmorpg/data/items/categories.js","features/phasmorpg/data/items/types.js","features/phasmorpg/data/maps/index.js","features/phasmorpg/data/items/index.js","features/phasmorpg/data/traits/categories.js","features/phasmorpg/constants.js","features/phasmorpg/data/traits/index.js","features/phasmorpg/phasmoRPGSlice.js","features/randomizers/challenges/constants.js","features/randomizers/challenges/challengeRandomizerSlice.js","features/evidence/constants.js","features/evidence/evidenceSlice.js","features/ghostname/constants.js","features/ghostname/ghostNameSlice.js","features/ghosts/constants.js","features/ghosts/ghostsSlice.js","features/photocalculator/constants.js","features/photocalculator/photoCalculatorSlice.js","app/store.js","serviceWorker.js","common/Accent.js","common/Readable.js","features/randomizers/challenges/ChallengesList.js","features/randomizers/challenges/ChallengeRandomizer.js","features/evidence/Evidence.js","features/ghostname/GhostName.js","features/ghost/Ghost.js","features/ghosts/Ghosts.js","features/ghostnamemenu/GhostNameMenu.js","features/sitemenu/SiteMenu.js","common/IconButton.js","features/header/Header.js","features/randomizers/jobrandomizer/JobRandomizer.js","features/phasmorpg/CharacterSelect.js","features/phasmorpg/LogMission.js","utils.js","features/phasmorpg/Equipment.js","features/phasmorpg/Traits.js","features/phasmorpg/CharacterPreview.js","features/phasmorpg/PhasmoRPG.js","features/photocalculator/PhotoCalculator.js","features/theme/constants.js","features/theme/Theme.js","common/Alerts.js","App.js","index.js"],"names":["initialState","alerts","theme","views","challenges","evidence","ghostName","ghosts","jobs","phasmorpg","photocalculator","LOCAL_STORAGE_KEY","appSlice","createSlice","name","reducers","hydrate","_","action","payload","resetApp","addAlert","state","currentAlerts","Array","isArray","id","nanoid","removeAlert","filter","alert","toggleModule","togglePhasmoRPG","visible","Object","keys","reduce","view","toggleTheme","actions","selectViews","app","selectThemeName","selectAlerts","randomizerSections","display","iconPath","mdiHomeCity","mdiFlashlight","mdiMagnify","mdiCrosshairsQuestion","sectionTypes","location","light","other","hidden","itemCategories","onsite","description","starter","store","truck","itemTypes","objectives","tools","junk","photos","itemList","displayShort","category","type","section","map","x","enabled","used","locationTypes","farm","size","institution","road","school","street","sectionItems","randomizedCounts","randomized","randomize","array","sort","Math","random","jobRandomizerSlice","reset","resetSection","randomizeJob","availableLocations","availableLights","availableEvidence","availableOther","slice","getRandomizedItems","sectionType","item","includes","updateRandomizerTypeCount","count","selectRandomized","randomizers","selectRandomizedCounts","selectSectionItems","categories","loot","types","dropChance","pointValues","buy","sell","sortWeight","lqloot","hqloot","mapTypes","pointValue","iconMapMap","tanglewood","edgefield","ridgeview","grafton","path","mdiTractor","title","aria-hidden","bleasdale","brownstone","prison","asylum","maps","unlocked","act","unlockable","allMapIds","items","allowedMaps","allItems","collector","removalCost","duration","obsessive","nervous","reckless","silly","temporary","data","mapCategories","easy","medium","hard","mapActList","act1","act2","act3","traits","remaining","maxItemLootChances","characters","missionDrawerOpen","Acts","getActiveCharacter","find","character","isActive","getUpdatedMapUnlocks","realBankedPoints","activeCharacter","nextLockedMap","pointCost","phasmoRPGSlice","updateCharacter","activeCharacterIndex","findIndex","c","addRandomTrait","addRandomLoot","buyItem","bankedPoints","sellItem","removeTrait","traitCost","trait","updatedCharacterTraits","deleteCharacter","saveCharacter","characterDetails","setCharacterActive","setNextUnlockableMap","toggleMissionDrawerOpen","unlockMap","didSpendPoints","mapCost","updatedCharacter","setPreviewCharacter","selectCharacters","phasmoRPG","selectActiveCharacter","selectMissionDrawerOpen","selectHasActiveCharacter","length","atmospheric","categoryId","categoryDisplay","categoryDescription","collections","insane","roleplaying","list","challenge","challengeRandomizerSlice","resetUsed","setRandomChallenge","validChallenges","floor","getRandomChallenge","toggleCategory","toggleChallenge","selectRandomizedChallenge","selectChallenges","included","excluded","all","long","short","iconMap","emflevel5","fingerprints","freezingtemperatures","ghostorbs","ghostwriting","spiritbox","mdiRadioHandheld","evidenceSlice","cycle","isIncluded","s","isExcluded","Set","ev","resetEvidence","selectIncluded","selectExcluded","selectEvidence","selectIsPristine","GHOST_NAMES","firstnames","lastnames","FIRSTNAME_FIRST_LETTERS","LASTNAME_FIRST_LETTERS","ref","firstnameLetters","lastnameLetters","firstname","lastname","instructions","step","falseViews","fullname","enableView","ghostNameSlice","resetGhostName","setFirstnames","setFirstname","setLastnames","setLastname","selectIsVisible","selectFirstname","selectLastname","selectFirstnames","selectLastnames","selectFirstnameLetters","selectLastnameLetters","selectInstructions","secondaryEvidence","strengths","weaknesses","ghost","selected","ghostsSlice","setActiveGhost","resetGhosts","updateGhosts","updatedGhosts","some","sortedGhosts","a","b","selectGhosts","selectSelected","photoValues","1","2","3","bone","ouijaboard","interaction","footsteps","dirtywater","deadbody","photoDetails","limit","photo","photoTypes","photoDistances","counts","subtotals","collected","totalValue","photoCalculatorSlice","addPhoto","total","photoTypeId","photoTypeStars","stars","currentValue","newPhotoValue","points","disablePhotoType","removePhoto","selectTotalValue","photoCalculator","selectPhotoCount","selectPhotos","randomizerReducers","combineReducers","challengesReducer","jobsReducer","configureStore","reducer","appReducer","evidenceReducer","ghostsReducer","ghostNameReducer","phasmoRPGReducer","photoCalculatorReducer","Boolean","window","hostname","match","Accent","children","color","className","transform","props","root","makeStyles","palette","text","textTransform","fontSize","useStyles","clsx","fontFamily","Readable","classes","backgroundColor","background","default","padding","margin","categoryTitle","challengeText","listItem","primary","dark","width","maxWidth","minWidth","secondary","titleBox","alignSelf","ChallengesList","dispatch","useDispatch","useSelector","handleToggleCategory","e","target","checked","categoryCheckedStatuses","React","useMemo","enabledInCategory","Paper","Checkbox","edge","tabIndex","disableRipple","inputProps","onClick","List","challengeId","labelId","ListItem","role","undefined","dense","button","ListItemIcon","ListItemText","listItemText","alignContent","gap","hover","editOptions","icon","iconGroup","justifySelf","iconHover","randomizer","cursor","flexWrap","paddingLeft","justifyContent","spinner","randomChallenge","webkitAnimation","animation","disabled","ChallengeRandomizer","useState","editOpen","setEditOpen","spinTheWheel","useCallback","stopPropagation","toggleDrawer","status","event","key","Fragment","Typography","component","mdiSlotMachineOutline","Drawer","anchor","open","onClose","float","paper","paperalt","spacing","textAlign","border","impossible","opacity","pointerEvents","success","main","error","Evidence","isPossible","flat","Grid","container","xs","sm","classNames","borderRadius","GhostName","handleClick","isVisible","square","elevation","letter","iconsValid","iconsInvalid","invalid","paperInvalid","paperValid","valid","info","Ghost","evidenceIsIncluded","i","isSelected","backdrop","zIndex","drawer","borderTop","borderBottom","ghostHeader","ghostIcons","justifyItems","gridTemplateColumns","breakpoints","up","labeled","fontWeight","selectedGhost","Ghosts","setOpen","useEffect","Backdrop","index","accent","cancelButton","label","letterList","nameList","flexDirection","userSelect","GhostNameMenu","ghostNameViews","selectGhostNameViews","screenExtraSmall","useMediaQuery","only","drawerOpen","setDrawerOpen","keyName","letters","fullList","Divider","Button","variant","startIcon","mdiGhost","clearInactive","clearActive","menu","menuItem","whiteSpace","SiteMenu","evidenceIsPristine","top","left","bottom","right","setState","menuToggleItems","menuActionItems","resetChallenges","resetPhotoCalculator","resetJobRandomizer","resetPhasmoRPG","localStorage","removeItem","mdiMagnifyClose","IconButton","aria-label","onKeyDown","Switch","IconButtonWrapper","toggleAppButton","maxHeight","containerRPG","ghostname","logMission","marginLeft","paddingRight","appName","buttonBar","Header","hasActiveCharacter","handleTogglePhasmoRPG","jobGrid","borderTopLeftRadius","borderTopRightRadius","verticalAlign","randomizeAll","resultsList","RandomizerResult","results","r","SectionCountSelect","context","handleChange","FormControl","Select","value","onChange","optionValue","MenuItem","JobRandomizer","remainingSectionItems","sections","sectionItemKey","from","avatar","renderedAvatar","position","characterName","overflow","textOverflow","formControl","renderedMenuItem","selectEmpty","marginTop","select","CharacterSelect","disableUnderline","renderValue","characterId","getCharacterById","colors","missionDetails","difficulty","mapSelect","missionObjectives","LogMission","missionMap","setMissionMap","missionDifficulty","setMissionDifficulty","foundBone","foundOuijaBoard","identifiedGhost","maxPhotoReward","survivedHunt","survivedMission","setMissionObjectives","unlockedMaps","m","handleObjectiveSettings","handleRandomTrait","severity","message","availableTraits","t","randomTrait","handleRandomLoot","min","max","newRandomLoot","newRandomItems","nonLoot","uniqBy","justLoot","finalItems","newLootCount","handleMissionComplete","missionPoints","mission","multiplier","basePoints","objectivePoints","objective","calculateMissionPoints","totalPoints","expiredTraitCount","handleUpdateCharacter","InputLabel","options","ListSubheader","renderMapSelectOptions","FormLabel","FormGroup","objectiveKey","FormControlLabel","control","FormHelperText","accordion","accordionDetails","accordionSummary","heading","typography","pxToRem","fontWeightRegular","hasHQLoot","characterTraitsDetails","alignItems","toggleStoreMode","itemTypeJunk","itemTypeEvidence","itemTypeLQLoot","itemTypeHQLoot","itemTypeObjectives","storeHeader","storeModeSelected","flipAnimation","sellLootHover","disabledBackground","storeButtons","Equipment","storeMode","setStoreMode","setSellLootHover","characterItems","sortBy","sellableLoot","sellableLootTotal","characterHasHQLoot","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","prev","onMouseEnter","onMouseLeave","handleSellJunk","Traits","renderRemainingRoundsIcon","handleRemoveTrait","papercontrast","height","actsContainer","actTitle","characterIcons","characterSheetHeader","characterMoney","characterPanel","characterProperties","characterTraitsTitle","firstMap","mapArrow","firstMapArrow","mapIcon","mapLocked","mapButton","mapButtonUnlocked","mapButtonLocked","mapButtonUnlockable","mapName","mapTile","mapUnlocked","mapWidget","characterButtons","CharacterPreview","actsByMap","setActsByMap","mapRefs","useRef","nextIndex","handleUnlockAttempt","startAnchor","endAnchor","start","end","characterCreator","createCharacter","existingCharacters","existingCharacterTile","newCharacter","getRandomChunkFromRange","splitBy","range","chunkCount","chunkSize","chunks","CreateCharacter","setCharacterName","handleKeyUp","debounce","code","trim","starterItems","randomItems","randomTraits","actRangeMap","money","TextField","autoFocus","helperText","onKeyUp","PhasmoRPG","gridArea","disablePhotoTypeButton","photoStars","photoTypeCount","photoTotalValue","photoTypeContainer","gridTemplateAreas","resetButton","resetButtonActive","starIcons","subtitle","PhotoCalculator","collectedPhotoCount","collectPhoto","isBookFull","photoType","ButtonGroup","palettes","paperhighlight","contrast","Theme","themeName","createMuiTheme","ThemeProvider","CssBaseline","Alerts","activeAlerts","setActiveAlerts","handleClose","alertId","reason","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","disableWindowBlurListener","Alert","App","subscribe","setItem","JSON","stringify","getState","version","pkgJson","initAlerts","forceReload","appState","persistedState","getItem","parsed","parse","prevMajor","semver","major","prevMinor","minor","currentMinor","currentMajor","push","getAppStateFromLocalStorage","hydrateAppState","hydrateJobsState","hydratePhasmoRPGState","forEach","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ec2d538f.chunk.js","sourcesContent":["export const initialState = {\n  alerts: [],\n  theme: \"dark\",\n  views: {\n    challenges: true,\n    evidence: true,\n    ghostName: false,\n    ghosts: true,\n    jobs: true,\n    phasmorpg: false,\n    photocalculator: true,\n  },\n};\n\nexport const LOCAL_STORAGE_KEY = \"phasmoToolkit_state\";\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { nanoid } from \"nanoid\";\n\nimport { initialState } from \"./constants\";\n\nexport const appSlice = createSlice({\n  name: \"app\",\n  initialState,\n  reducers: {\n    hydrate: (_, action) => {\n      return action.payload;\n    },\n    resetApp: () => initialState,\n    addAlert: (state, action) => {\n      const currentAlerts = (state.alerts && Array.isArray(state.alerts)) ? state.alerts : [];\n      state.alerts = [...currentAlerts, { ...action.payload, id: nanoid() }];\n    },\n    removeAlert: (state, action) => {\n      state.alerts = state.alerts.filter((alert) => alert.id !== action.payload);\n    },\n    toggleModule: (state, action) => ({\n      ...state,\n      views: {\n        ...state.views,\n        [action.payload]: !state.views[action.payload],\n      },\n    }),\n    togglePhasmoRPG: (state) => {\n      const visible = state.views.phasmorpg;\n      if (!visible) {\n        state.views = Object.keys(initialState.views).reduce(\n          (views, view) => ({\n            ...views,\n            [view]: view === \"phasmorpg\",\n          }),\n          {}\n        );\n      } else {\n        state.views = initialState.views;\n      }\n    },\n    toggleTheme: (state) => {\n      state.theme = state.theme === \"dark\" ? \"light\" : \"dark\";\n    },\n  },\n});\n\nexport const {\n  hydrate,\n  resetApp,\n  addAlert,\n  removeAlert,\n  toggleModule,\n  togglePhasmoRPG,\n  toggleTheme,\n} = appSlice.actions;\n\nexport const selectViews = (state) => state.app.views;\nexport const selectThemeName = (state) => state.app.theme;\nexport const selectAlerts = (state) => state.app.alerts;\n\nexport default appSlice.reducer;\n","import { nanoid } from \"nanoid\";\nimport { mdiCrosshairsQuestion, mdiFlashlight, mdiHomeCity, mdiMagnify } from \"@mdi/js\";\n\nexport const randomizerSections = [\n  {\n    id: \"location\",\n    display: \"Location\",\n    iconPath: mdiHomeCity,\n  },\n  {\n    id: \"light\",\n    display: \"Lights\",\n    iconPath: mdiFlashlight,\n  },\n  {\n    id: \"evidence\",\n    display: \"Evidence\",\n    iconPath: mdiMagnify,\n  },\n  {\n    id: \"other\",\n    display: \"Random\",\n    iconPath: mdiCrosshairsQuestion,\n  },\n];\n\nexport const sectionTypes = {\n  location: {\n    id: \"location\",\n    display: \"Location\",\n  },\n  light: {\n    id: \"light\",\n    display: \"Light\",\n  },\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n  },\n  other: {\n    id: \"other\",\n    display: \"other\",\n  },\n  hidden: {\n    id: \"hidden\",\n    display: \"hidden\",\n  },\n};\n\nexport const itemCategories = {\n  onsite: {\n    description: \"Random spawn items located within the haunted building.\",\n    display: \"Building Items\",\n  },\n  starter: {\n    description: \"Free items you always start with.\",\n    display: \"Starter Items\",\n  },\n  store: {\n    description: \"Items that cost money to purchase before the job.\",\n    display: \"Store items\",\n  },\n  truck: {\n    description: \"Tools secured within the truck. Ex, monitors and camera view.\",\n    display: \"Truck Gear\",\n  },\n};\n\nexport const itemTypeDescriptions = {\n  evidence: \"Items used for gathering direct evidence\",\n  objectives: \"Items used for completing objectives\",\n  photos: \"Items worth photo money\",\n  junk: \"Useless crap or favored treasure?\",\n  light: \"Light sources\",\n  tools: \"Items that are useful for general gameplay\",\n  other: \"Everything else!\",\n};\n\nexport const itemTypes = {\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n    description: itemTypeDescriptions.evidence,\n  },\n  objectives: {\n    id: \"objectives\",\n    display: \"Objectives\",\n    description: itemTypeDescriptions.objectives,\n  },\n  tools: {\n    id: \"tools\",\n    display: \"Tools\",\n    description: itemTypeDescriptions.tools,\n  },\n  light: {\n    id: \"light\",\n    display: \"Lights\",\n    description: itemTypeDescriptions.light,\n  },\n  junk: {\n    id: \"junk\",\n    display: \"Junk\",\n    description: itemTypeDescriptions.junk,\n  },\n  photos: {\n    id: \"photos\",\n    display: \"Photos\",\n    description: itemTypeDescriptions.photos,\n  },\n  other: {\n    id: \"other\",\n    display: \"Other\",\n    description: itemTypeDescriptions.other,\n  },\n};\n\nexport const itemList = [\n  {\n    display: \"Spirit Box\",\n    displayShort: \"Spirit Box\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Ghost Writing Book\",\n    displayShort: \"Ghost Book\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Photo Camera\",\n    displayShort: \"Photo\",\n    category: itemCategories.starter,\n    type: itemTypes.objectives,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"EMF Reader\",\n    displayShort: \"EMF\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Video Camera\",\n    displayShort: \"Video\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"UV Flashlight\",\n    displayShort: \"UV Light\",\n    category: itemCategories.starter,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Flashlight\",\n    displayShort: \"Light\",\n    category: itemCategories.starter,\n    type: itemTypes.light,\n    section: sectionTypes.light,\n  },\n  {\n    display: \"Objective Board\",\n    displayShort: \"Objective Board\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Site Map\",\n    displayShort: \"Site Map\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Sanity Monitor\",\n    displayShort: \"Sanity Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Site Activity Monitor\",\n    displayShort: \"Activity Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Sound Monitor\",\n    displayShort: \"Sound Monitor\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Camera System\",\n    displayShort: \"Camera System\",\n    category: itemCategories.truck,\n    type: itemTypes.tools,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Ouija Board\",\n    displayShort: \"Ouija\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Bone Evidence\",\n    displayShort: \"Bone\",\n    category: itemCategories.onsite,\n    type: itemTypes.photos,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Candle\",\n    displayShort: \"Candle\",\n    category: itemCategories.store,\n    type: itemTypes.light,\n    section: sectionTypes.light,\n  },\n  {\n    display: \"Crucifix\",\n    displayShort: \"Crucifix\",\n    category: itemCategories.store,\n    type: itemTypes.tools,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Glow Stick\",\n    displayShort: \"Glow Stick\",\n    category: itemCategories.store,\n    type: itemTypes.evidence,\n    section: sectionTypes.light,\n  },\n  {\n    display: \"Head Mounted Camera\",\n    displayShort: \"Head Cam\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Infrared Light Sensor\",\n    displayShort: \"Light Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Lighter\",\n    displayShort: \"Lighter\",\n    category: itemCategories.store,\n    type: itemTypes.light,\n    section: sectionTypes.hidden,\n  },\n  {\n    display: \"Motion Sensor\",\n    displayShort: \"Motion Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Parabolic Microphone\",\n    displayShort: \"Parabolic\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Salt Shaker\",\n    displayShort: \"Salt\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Sanity Pills\",\n    displayShort: \"Pills\",\n    category: itemCategories.store,\n    type: itemTypes.tools,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Smudge Sticks\",\n    displayShort: \"Smudge\",\n    category: itemCategories.store,\n    type: itemTypes.objectives,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Sound Sensor\",\n    displayShort: \"Sound Sensor\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"Strong Flashlight\",\n    displayShort: \"Strong Light\",\n    category: itemCategories.store,\n    type: itemTypes.light,\n    section: sectionTypes.light,\n  },\n  {\n    display: \"Thermometer\",\n    displayShort: \"Thermo\",\n    category: itemCategories.store,\n    type: itemTypes.evidence,\n    section: sectionTypes.evidence,\n  },\n  {\n    display: \"Tripod\",\n    displayShort: \"Tripod\",\n    category: itemCategories.store,\n    type: itemTypes.junk,\n    section: sectionTypes.other,\n  },\n  {\n    display: \"None\",\n    displayShort: \"None\",\n    category: itemCategories.hidden,\n    type: itemTypes.junk,\n    section: sectionTypes.light,\n  },\n].map((x) => ({\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const locationTypes = {\n  farm: {\n    display: \"Farmhouse\",\n    size: \"Small\",\n  },\n  institution: {\n    display: \"\",\n    size: \"Large\",\n  },\n  road: {\n    display: \"Road House\",\n    size: \"Small\",\n  },\n  school: {\n    display: \"School\",\n    size: \"Medium\",\n  },\n  street: {\n    display: \"Street House\",\n    size: \"Small\",\n  },\n};\n\nexport const locationList = [\n  {\n    display: \"Tanglewood Street House\",\n    type: locationTypes.street,\n  },\n  {\n    display: \"Edgefield Street House\",\n    type: locationTypes.street,\n  },\n  {\n    display: \"Ridgeview Road House\",\n    type: locationTypes.road,\n  },\n  {\n    display: \"Grafton Farmhouse\",\n    type: locationTypes.farm,\n  },\n  {\n    display: \"Bleasdale Farmhouse\",\n    type: locationTypes.farm,\n  },\n  {\n    display: \"Brownstone High\",\n    type: locationTypes.school,\n  },\n  {\n    display: \"Prison\",\n    type: locationTypes.institution,\n  },\n  {\n    display: \"Asylum\",\n    type: locationTypes.institution,\n  },\n].map((x) => ({\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const initialState = {\n  sectionItems: {\n    location: locationList,\n    light: itemList.filter((x) => x.section.id === \"light\"),\n    evidence: itemList.filter((x) => x.section.id === \"evidence\"),\n    other: itemList.filter((x) => x.section.id === \"other\"),\n  },\n  randomizedCounts: {\n    location: 1,\n    light: 1,\n    evidence: 2,\n    other: 4,\n  },\n  randomized: {\n    location: [],\n    light: [],\n    evidence: [],\n    other: [],\n  },\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState } from \"./constants\";\n\nconst randomize = (array) => array.sort(() => Math.random() - 0.5);\n\nconst getRandomizedItems = (state) => {\n  const availableLocations = state.sectionItems.location.filter((x) => x.enabled && !x.used);\n\n  const availableLights = state.sectionItems.light.filter((x) => x.enabled && !x.used);\n\n  const availableEvidence = state.sectionItems.evidence.filter((x) => x.enabled && !x.used);\n\n  const availableOther = state.sectionItems.other.filter((x) => x.enabled && !x.used);\n\n  return {\n    location: randomize(availableLocations).slice(0, state.randomizedCounts.location),\n    light: randomize(availableLights).slice(0, state.randomizedCounts.light),\n    evidence: randomize(availableEvidence).slice(0, state.randomizedCounts.evidence),\n    other: randomize(availableOther).slice(0, state.randomizedCounts.other),\n  };\n};\n\nexport const jobRandomizerSlice = createSlice({\n  name: \"jobs\",\n  initialState,\n  reducers: {\n    hydrate: (state, action) => {\n      return {\n        ...state,\n        randomizedCounts: action.payload.randomizedCounts,\n      };\n    },\n    reset: () => initialState,\n    resetSection: (state, action) => {\n      state.sectionItems[action.payload] = initialState.sectionItems[action.payload];\n    },\n    randomizeJob: (state) => {\n      // Generate random items for each section\n      const randomized = getRandomizedItems(state);\n      state.randomized = randomized;\n\n      // Update the list of items to mark the newly generated items as used\n      for (const sectionType of [\"location\", \"light\", \"evidence\", \"other\"]) {\n        state.sectionItems[sectionType] = state.sectionItems[sectionType].map((item) => ({\n          ...item,\n          used: randomized[sectionType].map((x) => x.id).includes(item.id) ? true : item.used,\n        }));\n      }\n    },\n    updateRandomizerTypeCount: (state, action) => {\n      state.randomizedCounts = {\n        ...state.randomizedCounts,\n        [action.payload.id]: action.payload.count,\n      };\n    },\n  },\n});\n\nexport const { hydrate, randomizeJob, reset, resetSection, updateRandomizerTypeCount } =\n  jobRandomizerSlice.actions;\n\nexport const selectRandomized = (state) => state.randomizers.jobs.randomized;\nexport const selectRandomizedCounts = (state) => state.randomizers.jobs.randomizedCounts;\nexport const selectSectionItems = (state) => state.randomizers.jobs.sectionItems;\n\nexport default jobRandomizerSlice.reducer;\n","const categories = {\n  onsite: {\n    id: \"onsite\",\n    description: \"Random spawn items located within the haunted building.\",\n    display: \"Building Items\",\n  },\n  starter: {\n    id: \"starter\",\n    description: \"Free items you always start with.\",\n    display: \"Starter Items\",\n  },\n  store: {\n    id: \"store\",\n    description: \"Items that cost money to purchase before the job.\",\n    display: \"Store items\",\n  },\n  truck: {\n    id: \"truck\",\n    description: \"Tools secured within the truck. Ex, monitors and camera view.\",\n    display: \"Truck Gear\",\n  },\n  hidden: {\n    id: \"hidden\",\n  },\n  loot: {\n    id: \"loot\",\n    description: \"Items taken from the map to sell for money\",\n    display: \"Loot Items\",\n  }\n};\n\nexport default categories;\n","const descriptions = {\n  evidence: \"Items used for gathering direct evidence\",\n  objectives: \"Items used for completing objectives\",\n  photos: \"Items worth photo money\",\n  junk: \"Useless crap or favored treasure?\",\n  light: \"Light sources\",\n  tools: \"Items that are useful for general gameplay\",\n  other: \"Everything else!\",\n  lqloot: \"Low quality loot items to sell for a small amount of cash.\",\n  hqloot: \"High quality loot items to sell for a large amount of cash.\",\n};\n\nexport const types = {\n  evidence: {\n    id: \"evidence\",\n    display: \"Evidence\",\n    description: descriptions.evidence,\n    dropChance: 0.15,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 100,\n  },\n  objectives: {\n    id: \"objectives\",\n    display: \"Objectives\",\n    description: descriptions.objectives,\n    dropChance: 0.15,\n    pointValues: {\n      buy: 750,\n      sell: 250,\n    },\n    sortWeight: 110,\n  },\n  tools: {\n    id: \"tools\",\n    display: \"Tools\",\n    description: descriptions.tools,\n    dropChance: 0.10,\n    pointValues: {\n      buy: 500,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  light: {\n    id: \"light\",\n    display: \"Lights\",\n    description: descriptions.light,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1500,\n      sell: 100,\n    },\n    sortWeight: 120,\n  },\n  junk: {\n    id: \"junk\",\n    display: \"Junk\",\n    description: descriptions.junk,\n    dropChance: 0.55,\n    pointValues: {\n      buy: 100,\n      sell: 100,\n    },\n    sortWeight: 130,\n  },\n  photos: {\n    id: \"photos\",\n    display: \"Photos\",\n    description: descriptions.photos,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  other: {\n    id: \"other\",\n    display: \"Other\",\n    description: descriptions.other,\n    dropChance: 0.25,\n    pointValues: {\n      buy: 1000,\n      sell: 250,\n    },\n    sortWeight: 0,\n  },\n  lqloot: {\n    id: \"lqloot\",\n    description: descriptions.lqloot,\n    display: \"Low Quality Loot\",\n    dropChance: 0.55,\n    pointValues: {\n      buy: 99999,\n      sell: 50,\n    },\n    sortWeight: 10,\n  },\n  hqloot: {\n    id: \"hqloot\",\n    description: descriptions.hqloot,\n    display: \"High Quality Loot\",\n    dropChance: 0.30,\n    pointValues: {\n      buy: 99999,\n      sell: 250,\n    },\n    sortWeight: 0,\n  }\n};\n\nexport default types;\n","import SchoolIcon from \"@material-ui/icons/School\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport { mdiTractor } from \"@mdi/js\";\nimport LocalHospitalIcon from \"@material-ui/icons/LocalHospital\";\nimport Icon from \"@mdi/react\";\n\nconst mapTypes = {\n  street: {\n    display: \"Street House\",\n    size: \"Small\",\n    pointValue: 100,\n  },\n  road: {\n    display: \"Road House\",\n    size: \"Small\",\n    pointValue: 150,\n  },\n  farm: {\n    display: \"Farmhouse\",\n    size: \"Small\",\n    pointValue: 200,\n  },\n  school: {\n    display: \"School\",\n    size: \"Medium\",\n    pointValue: 300,\n  },\n  institution: {\n    display: \"\",\n    size: \"Large\",\n    pointValue: 400,\n  },\n};\n\nexport const iconMapMap = {\n  tanglewood: <HomeIcon />,\n  edgefield: <HomeIcon />,\n  ridgeview: <HomeIcon />,\n  grafton: <Icon path={mdiTractor} title=\"Spirit Box\" size={1} aria-hidden={true} />,\n  bleasdale: <Icon path={mdiTractor} title=\"Spirit Box\" size={1} aria-hidden={true} />,\n  brownstone: <SchoolIcon />,\n  prison: <GavelIcon />,\n  asylum: <LocalHospitalIcon />,\n};\n\nconst maps = [\n  {\n    id: \"tanglewood\",\n    display: \"Tanglewood\",\n    type: \"street\",\n    unlocked: false,\n    act: \"act1\",\n  },\n  {\n    id: \"edgefield\",\n    display: \"Edgefield\",\n    type: \"street\",\n    act: \"act1\",\n  },\n  {\n    id: \"ridgeview\",\n    display: \"Ridgeview\",\n    type: \"road\",\n    act: \"act1\",\n  },\n  {\n    id: \"grafton\",\n    display: \"Grafton\",\n    type: \"farm\",\n    act: \"act2\",\n  },\n  {\n    id: \"bleasdale\",\n    display: \"Bleasdale\",\n    type: \"farm\",\n    act: \"act2\",\n  },\n  {\n    id: \"brownstone\",\n    display: \"High School\",\n    type: \"school\",\n    act: \"act2\",\n  },\n  {\n    id: \"prison\",\n    display: \"Prison\",\n    type: \"institution\",\n    act: \"act3\",\n  },\n  {\n    id: \"asylum\",\n    display: \"Asylum\",\n    type: \"institution\",\n    act: \"act3\",\n  },\n].map((map) => ({\n  ...map,\n  unlocked: false,\n  unlockable: false,\n  pointValue: mapTypes[map.type].pointValue,\n}))\n\nexport const mapCategories = {\n  easy: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  medium: [\"grafton\", \"bleasdale\", \"brownstone\"],\n  hard: [\"prison\", \"asylum\"],\n};\n\nexport const mapActList = {\n  act1: [\"tanglewood\", \"edgefield\", \"grafton\"],\n  act2: [\"ridgeview\", \"bleasdale\", \"brownstone\"],\n  act3: [\"prison\", \"asylum\"],\n};\n\nexport default maps;\n","import { nanoid } from \"nanoid\";\nimport categories from \"./categories\";\nimport types from \"./types\";\nimport maps from \"../maps/\";\n\nconst allMapIds = maps.map((map) => map.id);\n\nconst items = [\n  {\n    display: \"Spirit Box\",\n    displayShort: \"Spirit Box\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Ghost Writing Book\",\n    displayShort: \"Ghost Book\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Photo Camera\",\n    displayShort: \"Photo\",\n    category: categories.starter,\n    type: \"objectives\",\n  },\n  {\n    display: \"EMF Reader\",\n    displayShort: \"EMF\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Video Camera\",\n    displayShort: \"Video\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"UV Flashlight\",\n    displayShort: \"UV Light\",\n    category: categories.starter,\n    type: \"evidence\",\n  },\n  {\n    display: \"Flashlight\",\n    displayShort: \"Light\",\n    category: categories.starter,\n    type: \"other\",\n  },\n  {\n    display: \"Objective Board\",\n    displayShort: \"Objective Board\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Site Map\",\n    displayShort: \"Site Map\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Sanity Monitor\",\n    displayShort: \"Sanity Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Site Activity Monitor\",\n    displayShort: \"Activity Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Sound Monitor\",\n    displayShort: \"Sound Monitor\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Camera System\",\n    displayShort: \"Camera System\",\n    category: categories.truck,\n    type: \"tools\",\n  },\n  {\n    display: \"Ouija Board\",\n    displayShort: \"Ouija\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Bone Evidence\",\n    displayShort: \"Bone\",\n    category: categories.onsite,\n    type: \"photos\",\n  },\n  {\n    display: \"Candle\",\n    displayShort: \"Candle\",\n    category: categories.store,\n    type: \"light\",\n  },\n  {\n    display: \"Crucifix\",\n    displayShort: \"Crucifix\",\n    category: categories.store,\n    type: \"tools\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Glow Stick\",\n    displayShort: \"Glow Stick\",\n    category: categories.store,\n    type: \"light\",\n  },\n  {\n    display: \"Head Mounted Camera\",\n    displayShort: \"Head Cam\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Infrared Light Sensor\",\n    displayShort: \"Light Sensor\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Lighter\",\n    displayShort: \"Lighter\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Motion Sensor\",\n    displayShort: \"Motion Sensor\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Parabolic Microphone\",\n    displayShort: \"Parabolic\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Salt Shaker\",\n    displayShort: \"Salt\",\n    category: categories.store,\n    type: \"objectives\",\n  },\n  {\n    display: \"Sanity Pills\",\n    displayShort: \"Pills\",\n    category: categories.store,\n    type: \"tools\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Smudge Sticks\",\n    displayShort: \"Smudge\",\n    category: categories.store,\n    type: \"objectives\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Sound Sensor\",\n    displayShort: \"Sound Sensor\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"Strong Flashlight\",\n    displayShort: \"Strong Light\",\n    category: categories.store,\n    type: \"light\",\n    enabled: false, // Only enabled after certain conditions met\n  },\n  {\n    display: \"Thermometer\",\n    displayShort: \"Thermo\",\n    category: categories.store,\n    type: \"evidence\",\n  },\n  {\n    display: \"Tripod\",\n    displayShort: \"Tripod\",\n    category: categories.store,\n    type: \"junk\",\n  },\n  {\n    display: \"None\",\n    displayShort: \"None\",\n    category: categories.hidden,\n    type: \"other\",\n  },\n].map((x) => ({\n  // Globals (can be overwritten)\n  enabled: true,\n  used: false,\n  allowedMaps: allMapIds,\n  pointValues: types[x.type].pointValues,\n  dropChance: types[x.type].dropChance,\n  sortWeight: types[x.type].sortWeight,\n  ...x,\n  // Forced default\n  id: nanoid(),\n}));\n\nconst loot = [\n  {\n    display: \"Mobile Phone\",\n    displayShort: \"Mobile\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  },\n  {\n    display: \"Dirty Wallet\",\n    displayShort: \"Dirty Wallet\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Cheap Necklace\",\n    displayShort: \"Cheap Necklace\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Copper Wiring\",\n    displayShort: \"Copper Wiring\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Fancy Ring\",\n    displayShort: \"Fancy Ring\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: allMapIds,\n  },\n  {\n    display: \"Laptop\",\n    displayShort: \"Laptop\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  },\n  {\n    display: \"Dinner Plates\",\n    displayShort: \"Plates\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  },\n  {\n    display: \"Old Donut\",\n    displayShort: \"Old Donut\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"prison\", \"asylum\"],\n  },\n  {\n    display: \"Moon Lamp\",\n    displayShort: \"Moon Lamp\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"ridgeview\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Set of Mugs\",\n    displayShort: \"Mugs\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"tanglewood\", \"edgefield\", \"ridgeview\"],\n  },\n  {\n    display: \"Voodoo Doll\",\n    displayShort: \"Voodoo Doll\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"grafton\", \"bleasdale\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Rusty Shiv\",\n    displayShort: \"Shiv\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    pointValues: {\n      buy: 99999,\n      sell: 75,\n    },\n  },\n  {\n    display: \"Billy Club\",\n    displayShort: \"Club\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    pointValues: {\n      buy: 99999,\n      sell: 250,\n    },\n  },\n  {\n    display: \"Warden's Keyring\",\n    displayShort: \"Keyring\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"prison\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Doctor's Wallet\",\n    displayShort: \"Wallet\",\n    category: categories.loot,\n    type: \"lqloot\",\n    allowedMaps: [\"asylum\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n  {\n    display: \"Antique Clock\",\n    displayShort: \"Clock\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"grafton\", \"bleasdale\"],\n    dropChance: 0.20,\n    pointValues: {\n      buy: 99999,\n      sell: 1500,\n    },\n  },\n  {\n    display: \"Bloody Mascot Outfit\",\n    displayShort: \"Mascot Outfit\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"brownstone\"],\n    dropChance: 0.20,\n    pointValues: {\n      buy: 99999,\n      sell: 1800,\n    },\n  },\n  {\n    display: \"Contraband Stash\",\n    displayShort: \"Contraband\",\n    category: categories.loot,\n    type: \"hqloot\",\n    allowedMaps: [\"asylum\", \"prison\"],\n    dropChance: 0.15,\n    pointValues: {\n      buy: 99999,\n      sell: 2000,\n    },\n  },\n].map((x) => ({\n  // Globals (can be overwritten)\n  enabled: true,\n  used: false,\n  dropChance: types[x.type].dropChance,\n  pointValues: types[x.type].pointValues,\n  sortWeight: types[x.type].sortWeight,\n  ...x,\n  // Forced default\n  id: nanoid(),\n}));\n\nconst allItems = [...items, ...loot];\n\nexport default allItems;\n\nexport const maxItemLootChances = {\n  junk: 3,\n  evidence: 1,\n  objectives: 1,\n  lqloot: 3,\n  hqloot: 2,\n  light: 1,\n};\n","const categories = {\n  collector: {\n    display: \"Collector\",\n    description: \"Collects things. All the things.\",\n    removalCost: 250,\n    duration: -1\n  },\n  obsessive: {\n    display: \"Obsessive\",\n    description: \"Ritualistic, repetitive behaviors.\",\n    removalCost: 1250,\n    duration: -1,\n  },\n  nervous: {\n    display: \"Nervous\",\n    description: \"Accident-prone, high-strung behaviors.\",\n    removalCost: 750,\n    duration: -1,\n  },\n  reckless: {\n    display: \"Reckless\",\n    description: \"Impulsive behaviors and tendencies.\",\n    removalCost: 1000,\n    duration: 3,\n  },\n  silly: {\n    display: \"Silly\",\n    description: \"Silly and ludicrous behaviors\",\n    removalCost: 500,\n    duration: 3,\n  },\n  temporary: {\n    display: \"Temporary\",\n    description: \"Temporary effects and events that end on their own.\",\n    duration: 1, // Number of missions, default to 1\n    removalCost: 1000,\n  }\n};\n\nexport default categories;\n","import items, { maxItemLootChances } from \"./data/items\";\nimport traits from \"./data/traits\";\nimport maps, { mapCategories, mapActList, iconMapMap } from \"./data/maps\";\n\nexport const data = {\n  items,\n  maps,\n  mapCategories,\n  mapActList,\n  iconMapMap,\n  traits,\n  maxItemLootChances,\n};\n\nexport const initialState = {\n  characters: [],\n  missionDrawerOpen: false,\n};\n\nexport const Acts = [\n  {\n    id: \"act1\",\n    display: \"Act One\",\n  },\n  {\n    id: \"act2\",\n    display: \"Act Two\",\n  },\n  {\n    id: \"act3\",\n    display: \"Act Three\",\n  },\n];\n","import { nanoid } from \"nanoid\";\nimport categories from \"./categories\";\n\nconst traits = [\n  {\n    display: \"Chatterbox\",\n    description: \"Must speak into the mic during hunts until you reach a hiding spot.\",\n    category: \"reckless\",\n  },\n  {\n    display: \"Manic Skeptic\",\n    description: \"If found, must immediately ask the Ouija board five questions.\",\n    category: \"reckless\",\n    duration: 3,\n  },\n  {\n    display: \"Moonwalker\",\n    description: \"Must move backwards at all times.\",\n    category: \"silly\",\n    duration: 1,\n  },\n  {\n    display: \"Krusty Locomotion\",\n    description: \"Must always crouch and move side-to-side only (crab walk).\",\n    category: \"silly\",\n  },\n  {\n    display: \"Microbladder\",\n    description: \"Upon entering any bathroom, must flush all flushable toilets.\",\n    category: \"obsessive\",\n  },\n  {\n    display: \"Clumsy\",\n    description: \"Must drop all items at the start of every hunt.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Dead or Alive\",\n    description: \"Must spin in place for two full circles at the start of a hunt.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Creeper\",\n    description: \"Must collect all photos within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Krampus\",\n    description:\n      \"Must collect all toys, dolls, balls, blocks, etc within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Ebay Specialist\",\n    description: \"Must collect all cell phones and laptops within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Dinner Time\",\n    description:\n      \"Must collect all plates, cups, and silverware within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Aspiring Artist\",\n    description: \"Must collect all spraypaint cans within the building before leaving.\",\n    category: \"collector\",\n  },\n  {\n    display: \"Nyctalopian\",\n    description: \"Must turn on the lights in every room they enter and keep them on.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Photophobian\",\n    description: \"Must turn off the lights in every room they enter and keep them off.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Chandler Bing\",\n    description: \"Must always carry a lighted candle except to pick up and drop evidence items.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Sheet Inspector\",\n    description: \"May only use the UV Flashlight or Glowsticks for a light source.\",\n    category: \"nervous\",\n  },\n  {\n    display: \"Leibovitz Mania\",\n    description: \"Must get full book of 3-star photos or the mission is failed.\",\n    category: \"obsessive\",\n  },\n  {\n    display: \"Downed Powerlines\",\n    description: \"Unable to turn on the building power.\",\n    category: \"temporary\",\n  },\n].map((x) => ({\n  removalCost: categories[x.category].removalCost,\n  duration: categories[x.category].duration || -1,\n  remaining: categories[x.category].duration || -1,\n  ...x,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport default traits;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { initialState } from \"./constants\";\nimport { nanoid } from \"nanoid\";\n\nconst getActiveCharacter = (state) => state.characters.find((character) => character.isActive);\n\nconst getUpdatedMapUnlocks = (state, realBankedPoints) => {\n  const activeCharacter = getActiveCharacter(state);\n  const nextLockedMap = activeCharacter.maps.find((map) => !map.unlocked);\n\n  return activeCharacter.maps.map((map) => ({\n    ...map,\n    unlockable: nextLockedMap && nextLockedMap.id === map.id && realBankedPoints >= map.pointCost,\n  }));\n};\n\nexport const phasmoRPGSlice = createSlice({\n  name: \"phasmoRPG\",\n  initialState,\n  reducers: {\n    updateCharacter: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n\n      state.characters[activeCharacterIndex] = {\n        ...state.characters[activeCharacterIndex],\n        ...action.payload,\n      };\n    },\n    addRandomTrait: (state, action) => {\n      const activeCharacter = getActiveCharacter(state);\n\n      state.characters = state.characters.map((character) => ({\n        ...character,\n        traits:\n          character.id === activeCharacter.id\n            ? [...character.traits, action.payload]\n            : character.traits,\n      }));\n    },\n    addRandomLoot: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        items: action.payload,\n      };\n    },\n    buyItem: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n      const bankedPoints = activeCharacter.bankedPoints - action.payload.pointValues.buy;\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        bankedPoints,\n        items: [...activeCharacter.items, action.payload],\n        maps: getUpdatedMapUnlocks(state, bankedPoints),\n      };\n    },\n    sellItem: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const activeCharacter = getActiveCharacter(state);\n      const bankedPoints = activeCharacter.bankedPoints + action.payload.pointValues.sell;\n\n      state.characters[activeCharacterIndex] = {\n        ...activeCharacter,\n        bankedPoints,\n        items: activeCharacter.items.filter((item) => item.id !== action.payload.id),\n        maps: getUpdatedMapUnlocks(state, bankedPoints),\n      };\n    },\n    removeTrait: (state, action) => {\n      const activeCharacter = getActiveCharacter(state);\n\n      const traitCost = activeCharacter.traits.find(\n        (trait) => trait.display === action.payload.display\n      ).removalCost;\n\n      // Verify funds\n      if (activeCharacter.bankedPoints >= traitCost) {\n        const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n\n        const updatedCharacterTraits = activeCharacter.traits.filter(\n          (trait) => trait.display !== action.payload.display\n        );\n\n        state.characters[activeCharacterIndex] = {\n          ...state.characters[activeCharacterIndex],\n          traits: updatedCharacterTraits,\n          bankedPoints: activeCharacter.bankedPoints - traitCost,\n        };\n      }\n    },\n    deleteCharacter: (state, action) => {\n      state.characters = state.characters.filter((character) => character.id !== action.payload.id);\n    },\n    saveCharacter: (state, action) => {\n      const character = state.characters.find(\n        (character) => character.name === action.payload.name\n      );\n\n      const characterDetails = {\n        ...action.payload,\n        isActive: true,\n        bankedPoints: (character && character.bankedPoints) || 0,\n        id: (character && character.id) || nanoid(),\n      };\n\n      if (character) {\n        state.characters = state.characters.map((character) => {\n          if (character.id === action.payload.id) {\n            return characterDetails;\n          }\n          return character;\n        });\n      } else {\n        state.characters = [...state.characters, characterDetails];\n      }\n    },\n    setCharacterActive: (state, action) => {\n      state.characters = state.characters.map((character) => ({\n        ...character,\n        isActive: character.id === action.payload,\n      }));\n    },\n    setNextUnlockableMap: (state) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const maps = state.characters[activeCharacterIndex].maps;\n      const bankedPoints = state.characters[activeCharacterIndex].bankedPoints;\n      const nextLockedMap = maps.find((map) => !map.unlocked);\n\n      if (nextLockedMap) {\n        state.characters[activeCharacterIndex].maps = maps.map((map) => ({\n          ...map,\n          unlockable: nextLockedMap.id === map.id && bankedPoints >= map.pointCost && !map.unlocked,\n        }));\n      }\n    },\n    toggleMissionDrawerOpen: (state) => {\n      state.missionDrawerOpen = !state.missionDrawerOpen;\n    },\n    unlockMap: (state, action) => {\n      const activeCharacterIndex = state.characters.findIndex((c) => c.isActive);\n      const bankedPoints = state.characters[activeCharacterIndex].bankedPoints;\n      const maps = state.characters[activeCharacterIndex].maps;\n\n      let didSpendPoints = false;\n      let mapCost = 0;\n      let updatedCharacter = {\n        ...state.characters[activeCharacterIndex],\n        maps: maps.map((map) => {\n          if (map.id === action.payload && bankedPoints >= map.pointCost) {\n            didSpendPoints = true;\n            mapCost = map.pointCost;\n            return {\n              ...map,\n              unlocked: true,\n              unlockable: false,\n            };\n          }\n\n          return map;\n        }),\n      };\n      if (didSpendPoints) {\n        updatedCharacter = {\n          ...updatedCharacter,\n          bankedPoints: bankedPoints - mapCost,\n        };\n      }\n      state.characters[activeCharacterIndex] = updatedCharacter;\n    },\n    hydrate: (state, action) => {\n      return {\n        ...state,\n        characters: action.payload.characters,\n      };\n    },\n    reset: () => initialState,\n  },\n});\n\nexport const {\n  hydrate,\n  reset,\n  buyItem,\n  sellItem,\n  addRandomTrait,\n  deleteCharacter,\n  removeTrait,\n  saveCharacter,\n  setCharacterActive,\n  setNextUnlockableMap,\n  setPreviewCharacter,\n  toggleMissionDrawerOpen,\n  addRandomLoot,\n  unlockMap,\n  updateCharacter,\n} = phasmoRPGSlice.actions;\n\nexport const selectCharacters = (state) => state.phasmoRPG.characters;\nexport const selectActiveCharacter = (state) =>\n  state.phasmoRPG.characters.find((character) => character.isActive);\n\nexport const selectMissionDrawerOpen = (state) => state.phasmoRPG.missionDrawerOpen;\nexport const selectHasActiveCharacter = (state) =>\n  state.phasmoRPG.characters.filter((c) => c.isActive).length > 0;\n\nexport default phasmoRPGSlice.reducer;\n","import { nanoid } from \"nanoid\";\n\nexport const categories = {\n  atmospheric: {\n    categoryId: \"atmospheric\",\n    categoryDisplay: \"Atmospheric\",\n    categoryDescription: \"Lighting, sound, and other ambience related challenges.\",\n  },\n  collections: {\n    categoryId: \"collections\",\n    categoryDisplay: \"Collections\",\n    categoryDescription: \"Scavenger hunting for different sorts of items found in the buildings.\",\n  },\n  evidence: {\n    categoryId: \"evidence\",\n    categoryDisplay: \"Evidence\",\n    categoryDescription: \"Evidence and tool related challenges.\",\n  },\n  insane: {\n    categoryId: \"insane\",\n    categoryDisplay: \"Insane\",\n    categoryDescription: \"Challenges for those with a deathwish!\",\n  },\n  roleplaying: {\n    categoryId: \"roleplaying\",\n    categoryDisplay: \"Role-Playing\",\n    categoryDescription: \"Add some random spice to your team!\",\n  },\n  silly: {\n    categoryId: \"silly\",\n    categoryDisplay: \"Silly\",\n    categoryDescription: \"Silly and ridiculous challenges.\",\n  },\n};\n\nconst challenges = [\n  {\n    display: \"Starter Items Only\",\n    description: \"Play a round with only the starting items.\",\n    ...categories.evidence,\n  },\n  {\n    display: \"Candle Only (Easy)\",\n    description: \"Use only the candle and interior house lights.\",\n    ...categories.atmospheric,\n  },\n  {\n    display: \"Candle Only (Hard)\",\n    description: \"Use only the candle for illumination, no interior house lights.\",\n    ...categories.atmospheric,\n  },\n  {\n    display: \"No Evidence\",\n    description: \"Use secondary evidence only. No primary evidence tools allowed.\",\n    ...categories.evidence,\n  },\n  {\n    display: \"Crab Walk\",\n    description: \"Must crouch and strafe side-to-side. No straight forward/back walking.\",\n    ...categories.silly,\n  },\n  {\n    display: \"Walk Backwards\",\n    description: \"Only walk backwards (sprint allowed).\",\n    ...categories.silly,\n  },\n  {\n    display: \"No Sprinting\",\n    description: \"Walk, do not run, to an early grave!\",\n    ...categories.insane,\n  },\n  {\n    display: \"Ghost Hunt Photo\",\n    description: \"You must obtain the ghost photo during a hunt.\",\n    ...categories.insane,\n  },\n  {\n    display: \"No Hunt Indicators\",\n    description: \"No flashlights, UV lights, interior lights, or global-talk checks!\",\n    ...categories.insane,\n  },\n  {\n    display: \"Collect: Electronics\",\n    description: \"You must bring all electronic items from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Toys\",\n    description:\n      \"You must bring all bears, bunnies, blocks, dolls, etc from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Dining Items\",\n    description:\n      \"You must bring all plates, silverware, cups, teapots, etc from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Collect: Spray Paint\",\n    description: \"You must bring all spray paint bottles from the building to the truck.\",\n    ...categories.collections,\n  },\n  {\n    display: \"Behavior: Hunt Freakout\",\n    description: \"Drop all your items immediately when a hunt starts.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Behavior: Reckless\",\n    description: \"If found, ask the Ouija Board five questions.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Behavior: Chatterbox\",\n    description: \"You must speak over the mic during a hunt until you reach a hiding spot.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Obsessive: Doors\",\n    description: \"Close every door behind you when inside the building.\",\n    ...categories.roleplaying,\n  },\n  {\n    display: \"Obsessive: Bathrooms\",\n    description: \"Flush the toilet and run the sink in every bathroom you pass by.\",\n    ...categories.roleplaying,\n  },\n].map((challenge) => ({\n  ...challenge,\n  id: nanoid(),\n  enabled: true,\n  used: false,\n}));\n\nexport const initialState = {\n  list: challenges,\n  random: null,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState } from \"./constants\";\n\nconst getRandomChallenge = (state) => {\n  const validChallenges = state.list.filter((challenge) => challenge.enabled && !challenge.used);\n  return validChallenges[Math.floor(Math.random() * validChallenges.length)];\n};\n\nexport const challengeRandomizerSlice = createSlice({\n  name: \"challenges\",\n  initialState,\n  reducers: {\n    resetUsed: (state) => {\n      state.list = state.list.map((challenge) => ({\n        ...challenge,\n        used: false,\n      }));\n    },\n    reset: () => initialState,\n    setRandomChallenge: (state) => {\n      const random = getRandomChallenge(state);\n      const list = state.list.map((challenge) => {\n        if (challenge.id === random.id) {\n          return {\n            ...challenge,\n            used: true,\n          };\n        }\n        return challenge;\n      });\n\n      return {\n        list,\n        random,\n      };\n    },\n    toggleCategory: (state, action) => {\n      state.list = state.list.map((challenge) => {\n        if (challenge.categoryId === action.payload.categoryId) {\n          return {\n            ...challenge,\n            enabled: action.payload.enabled,\n          };\n        }\n        return challenge;\n      });\n    },\n    toggleChallenge: (state, action) => {\n      state.list = state.list.map((challenge) => {\n        if (challenge.id === action.payload) {\n          return {\n            ...challenge,\n            enabled: !challenge.enabled,\n            used: false,\n          };\n        }\n        return challenge;\n      });\n    },\n  },\n});\n\nexport const { reset, resetUsed, setRandomChallenge, toggleCategory, toggleChallenge } =\n  challengeRandomizerSlice.actions;\n\nexport const selectRandomizedChallenge = (state) => state.randomizers.challenges.random;\nexport const selectChallenges = (state) => state.randomizers.challenges.list;\n\nexport default challengeRandomizerSlice.reducer;\n","const evidence = [\n  {\n    id: \"emflevel5\",\n    long: \"EMF Level 5\",\n    short: \"EMF 5\",\n  },\n  {\n    id: \"fingerprints\",\n    long: \"Fingerprints\",\n    short: \"Fingerprints\",\n  },\n  {\n    id: \"freezingtemperatures\",\n    long: \"Freezing Temperatures\",\n    short: \"Freezing\",\n  },\n  {\n    id: \"ghostorbs\",\n    long: \"Ghost Orbs\",\n    short: \"Orbs\",\n  },\n  {\n    id: \"ghostwriting\",\n    long: \"Ghost Writing\",\n    short: \"Writing\",\n  },\n  {\n    id: \"spiritbox\",\n    long: \"Spirit Box\",\n    short: \"Spirit Box\",\n  },\n];\n\nexport const initialState = {\n  included: [],\n  excluded: [],\n  all: evidence,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { mdiRadioHandheld } from \"@mdi/js\";\nimport AcUnitIcon from \"@material-ui/icons/AcUnit\";\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\";\nimport Icon from '@mdi/react'\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\nimport SettingsInputAntennaIcon from \"@material-ui/icons/SettingsInputAntenna\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\n\nimport { initialState } from \"./constants\";\n\nexport const iconMap = (id) => {\n  const map = {\n    emflevel5: () => <SettingsInputAntennaIcon />,\n    fingerprints: () => <FingerprintIcon />,\n    freezingtemperatures: () => <AcUnitIcon />,\n    ghostorbs: () => <VideocamIcon />,\n    ghostwriting: () => <MenuBookIcon />,\n    spiritbox: () => (\n      <Icon path={mdiRadioHandheld} title=\"Spirit Box\" size={1} aria-hidden={true} />\n    ),\n  };\n\n  return map[id]();\n};\n\nexport const evidenceSlice = createSlice({\n  name: \"evidence\",\n  initialState,\n  reducers: {\n    cycle: (state, action) => {\n      const isIncluded = state.included.find((s) => s.id === action.payload.id);\n      const isExcluded = state.excluded.find((s) => s.id === action.payload.id);\n\n      if (!isExcluded && !isIncluded) {\n        state.included = [...new Set([...state.included, action.payload])];\n      }\n\n      if (isIncluded) {\n        state.excluded = [...new Set([...state.excluded, action.payload])];\n        state.included = state.included.filter((ev) => ev.id !== action.payload.id);\n      }\n\n      if (isExcluded) {\n        state.excluded = state.excluded.filter((ev) => ev.id !== action.payload.id);\n      }\n    },\n    resetEvidence: (state) => {\n      state.included = [];\n      state.excluded = [];\n    },\n  },\n});\n\nexport const { cycle, resetEvidence } = evidenceSlice.actions;\n\nexport const selectIncluded = (state) => state.evidence.included;\nexport const selectExcluded = (state) => state.evidence.excluded;\nexport const selectEvidence = (state) => state.evidence.all;\nexport const selectIsPristine = (state) => state.evidence.included.length > 0 || state.evidence.excluded.length > 0;\n\nexport default evidenceSlice.reducer;\n","export const GHOST_NAMES = {\n  firstnames: [\n    \"Charles\",\n    \"Christopher\",\n    \"Daniel\",\n    \"David\",\n    \"Donald\",\n    \"George\",\n    \"James\",\n    \"John\",\n    \"Joseph\",\n    \"Kenneth\",\n    \"Mark\",\n    \"Michael\",\n    \"Paul\",\n    \"Richard\",\n    \"Robert\",\n    \"Steven\",\n    \"Thomas\",\n    \"William\",\n    \"Barbara\",\n    \"Betty\",\n    \"Carol\",\n    \"Donna\",\n    \"Dorothy\",\n    \"Elizabeth\",\n    \"Helen\",\n    \"Jennifer\",\n    \"Karen\",\n    \"Linda\",\n    \"Lisa\",\n    \"Margaret\",\n    \"Maria\",\n    \"Mary\",\n    \"Nancy\",\n    \"Patricia\",\n    \"Ruth\",\n    \"Sandra\",\n    \"Susan\",\n  ],\n  lastnames: [\n    \"Anderson\",\n    \"Brown\",\n    \"Clark\",\n    \"Davis\",\n    \"Garcia\",\n    \"Harris\",\n    \"Jackson\",\n    \"Johnson\",\n    \"Jones\",\n    \"Martin\",\n    \"Martinez\",\n    \"Miller\",\n    \"Moore\",\n    \"Robinson\",\n    \"Smith\",\n    \"Taylor\",\n    \"Thomas\",\n    \"Thompson\",\n    \"Williams\",\n    \"Wilson\",\n    \"White\",\n  ],\n};\n\nexport const FIRSTNAME_FIRST_LETTERS = [\n  ...new Set(GHOST_NAMES.firstnames.map((name) => name.slice(0, 1))),\n].sort();\nexport const LASTNAME_FIRST_LETTERS = [\n  ...new Set(GHOST_NAMES.lastnames.map((name) => name.slice(0, 1))),\n].sort();\n\nexport const INSTRUCTIONS = {\n  firstnameLetters: \"First Letter of First Name\",\n  firstnames: \"Ghost's First Name\",\n  lastnameLetters: \"First Letter of Last Name\",\n  lastnames: \"Ghost's Last Name\",\n};\n\nexport const initialState = {\n  ref: {\n    firstnames: GHOST_NAMES.firstnames,\n    lastnames: GHOST_NAMES.lastnames,\n  },\n  firstnames: [],\n  lastnames: [],\n  firstnameLetters: FIRSTNAME_FIRST_LETTERS,\n  lastnameLetters: LASTNAME_FIRST_LETTERS,\n  firstname: \"\",\n  lastname: \"\",\n  instructions: INSTRUCTIONS,\n  step: 'firstnameLetters',\n  views: {\n    firstnameLetters: true,\n    firstnames: false,\n    lastnameLetters: false,\n    firstname: false,\n    lastname: false,\n    lastnames: false,\n  },\n  visible: true,\n};\n\nexport const falseViews = {\n  firstnameLetters: false,\n  firstnames: false,\n  lastnameLetters: false,\n  firstname: false,\n  lastname: false,\n  lastnames: false,\n  fullname: false,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { falseViews, initialState } from \"./constants\";\n\nconst enableView = (view) => ({\n  ...falseViews,\n  [view]: true,\n});\n\nexport const ghostNameSlice = createSlice({\n  name: \"ghostName\",\n  initialState,\n  reducers: {\n    resetGhostName: () => initialState,\n    setFirstnames: (state, action) => {\n      state.firstnames = state.ref.firstnames.filter(\n        (firstname) => firstname[0] === action.payload\n      );\n      // Skip name selection if there's only one match\n      if (state.firstnames.length === 1) {\n        state.firstname = state.firstnames[0];\n        state.views = enableView(\"lastnameLetters\");\n        state.step = \"lastnameLetters\";\n        return;\n      }\n      state.views = enableView(\"firstnames\");\n      state.step = \"firstnames\";\n    },\n    setFirstname: (state, action) => {\n      state.firstname = action.payload;\n      state.views = enableView(\"lastnameLetters\");\n      state.step = \"lastnameLetters\";\n    },\n    setLastnames: (state, action) => {\n      state.lastnames = state.ref.lastnames.filter((lastname) => lastname[0] === action.payload);\n\n      // Skip name selection if there's only one match\n      if (state.lastnames.length === 1) {\n        state.lastname = state.lastnames[0];\n        state.views = enableView(\"fullname\");\n        state.step = \"lastname\";\n        state.visible = false;\n        return;\n      }\n\n      state.views = enableView(\"lastnames\");\n      state.step = \"lastnames\";\n    },\n    setLastname: (state, action) => {\n      state.lastname = action.payload;\n      state.step = \"lastname\";\n      state.visible = false;\n    },\n  },\n});\n\nexport const { resetGhostName, setFirstnames, setFirstname, setLastnames, setLastname } =\n  ghostNameSlice.actions;\n\nexport const selectIsVisible = (state) => state.ghostName.visible;\nexport const selectFirstname = (state) => state.ghostName.firstname;\nexport const selectLastname = (state) => state.ghostName.lastname;\nexport const selectFirstnames = (state) => state.ghostName.firstnames;\nexport const selectLastnames = (state) => state.ghostName.lastnames;\nexport const selectFirstnameLetters = (state) => state.ghostName.firstnameLetters;\nexport const selectLastnameLetters = (state) => state.ghostName.lastnameLetters;\nexport const selectViews = (state) => state.ghostName.views;\nexport const selectInstructions = (state) => state.ghostName.instructions[state.ghostName.step];\n\nexport default ghostNameSlice.reducer;\n","export const ghostNames = [\n  \"Banshee\",\n  \"Demon\",\n  \"Hantu\",\n  \"Jinn\",\n  \"Mare\",\n  \"Oni\",\n  \"Phantom\",\n  \"Poltergeist\",\n  \"Revenant\",\n  \"Shade\",\n  \"Spirit\",\n  \"Wraith\",\n  \"Yokai\",\n  \"Yurei\",\n];\n\nexport const ghosts = [\n  {\n    name: \"Banshee\",\n    description:\n      \"A Banshee is a natural hunter and will attack anything. It has been known to stalk its prey one at a time until making its kill.\",\n    evidence: [\"emflevel5\", \"fingerprints\", \"freezingtemperatures\"],\n    secondaryEvidence: [\"May hunt above 65% Average Sanity\"],\n    strengths: \"A Banshee will only target one person at a time.\",\n    weaknesses: \"Banshees fear the Crucifix and will be less aggressive when near one.\",\n  },\n  {\n    name: \"Demon\",\n    evidence: [\"ghostwriting\", \"freezingtemperatures\", \"spiritbox\"],\n    description:\n      \"A Demon is one of the worst Ghosts you can encounter. It has been known to attack without a reason.\",\n    secondaryEvidence: [\n      \"May hunt up to 65% Average Sanity.\",\n      \"Successful Ouija board questions do not lower sanity.\",\n    ],\n    strengths: \"Demons will attack more often than any other Ghost.\",\n    weaknesses:\n      \"Asking a Demon successful questions on the Ouija Board won't lower the user's sanity.\",\n  },\n  {\n    name: \"Hantu\",\n    evidence: [\"fingerprints\", \"ghostorbs\", \"ghostwriting\"],\n    description:\n      \"A Hantu is a rare ghost that can be found in hot climates. They are known to attack often during cold weather.\",\n    secondaryEvidence: [],\n    strengths: \"Lower temperatures can cause the Hantu to move at faster speeds.\",\n    weaknesses: \"A Hantu will move slower in warmer areas.\",\n  },\n  {\n    name: \"Jinn\",\n    evidence: [\"emflevel5\", \"ghostorbs\", \"spiritbox\"],\n    description:\n      \"A Jinn is a territorial ghost that will attack when threatened. It has also been known to be able to travel at significant speed.\",\n    secondaryEvidence: [\"Moves faster with breaker on.\", \"Moves normal speed with breaker off.\"],\n    strengths: \" A Jinn will travel at a faster speed if its victim is far away.\",\n    weaknesses:\n      \"Turning off the locations power source will prevent the Jinn from using its ability.\",\n  },\n  {\n    name: \"Mare\",\n    evidence: [\"freezingtemperatures\", \"ghostorbs\", \"spiritbox\"],\n    description: \"A Mare is the source of all nightmares, making it most powerful in the dark.\",\n    secondaryEvidence: [\n      \"May hunt up to 60% Average Sanity in the dark.\",\n      \"Can not hunt until 40% Average Sanity in the light.\",\n    ],\n    strengths: \"A Mare will have an increased chance to attack in the dark.\",\n    weaknesses: \"Turning the lights on around the Mare will lower its chance to attack.\",\n  },\n  {\n    name: \"Oni\",\n    evidence: [\"emflevel5\", \"ghostwriting\", \"spiritbox\"],\n    description:\n      \"Oni's are a cousin to the Demon and possess extreme strength. There have been rumours that they become more active around their prey.\",\n    secondaryEvidence: [\"May throw objects at high speed and great distances.\"],\n    strengths:\n      \"Oni's are more active when people are nearby and have been seen moving objects at great speed.\",\n    weaknesses: \"Being more active make the Oni easier to find and identify\",\n  },\n  {\n    name: \"Phantom\",\n    evidence: [\"emflevel5\", \"freezingtemperatures\", \"ghostorbs\"],\n    description:\n      \"A Phantom is a ghost that can possess the living, most commonly summoned by a Ouija Board. It also induces fear into those around it.\",\n    secondaryEvidence: [\n      \"Will disappear when photo is taken outside of a hunt but continue manifesting.\",\n      \"Blinks approximately twice as slow as other ghosts during hunts.\",\n    ],\n    strengths: \"Looking at a Phantom will considerably drop your sanity.\",\n    weaknesses: \"Taking a photo of the Phantom will make it temporarily disappear.\",\n  },\n  {\n    name: \"Poltergeist\",\n    evidence: [\"fingerprints\", \"ghostorbs\", \"spiritbox\"],\n    description:\n      \"One of the most famous Ghosts, a Poltergeist, also known as a noisy ghost can manipulate objects around it to spread fear into its victims.\",\n    secondaryEvidence: [\"May throw multiple objects at once.\"],\n    strengths: \"A Poltergeist can throw huge amounts of objects at once.\",\n    weaknesses: \"A Poltergeist is almost ineffective in an empty room.\",\n  },\n  {\n    name: \"Revenant\",\n    evidence: [\"emflevel5\", \"fingerprints\", \"ghostwriting\"],\n    description:\n      \"A Revenant is a slow but violent ghost that will attack indiscriminately. It has been rumoured to travel at a significantly high speed when hunting.\",\n    secondaryEvidence: [\n      \"Moves very quickly while it has line of sight on player during hunt.\",\n      \"Moves very slowly during hunt when not targetting a player.\",\n    ],\n\n    strengths: \"A Revenant will travel at a significantly faster speed when hunting a victim.\",\n    weaknesses: \"Hiding from the Revenant will cause it to move very slowly.\",\n  },\n  {\n    name: \"Shade\",\n    evidence: [\"emflevel5\", \"ghostorbs\", \"ghostwriting\"],\n    description:\n      \"A Shade is known to be a Shy Ghost. There is evidence that a Shade will stop all paranormal activity if there are multiple people nearby.\",\n    secondaryEvidence: [],\n    strengths: \"Being shy means the Ghost will be harder to find.\",\n    weaknesses: \"The Ghost will not enter hunting mode if there is multiple people nearby.\",\n  },\n  {\n    name: \"Spirit\",\n    evidence: [\"fingerprints\", \"ghostwriting\", \"spiritbox\"],\n    description:\n      \"A Spirit is the most common Ghost you will come across however it is still very powerful and dangerous. They are usually discovered at one of their hunting grounds after an unexplained death.\",\n    secondaryEvidence: [\n      \"Smudging prevents a hunt for 180 seconds (3 minutes) instead of 90 seconds like normal ghosts.\",\n    ],\n    strengths: \"Nothing.\",\n    weaknesses:\n      \"Using Smudge Sticks on a spirit will stop it attacking for a long period of time.\",\n  },\n  {\n    name: \"Wraith\",\n    evidence: [\"fingerprints\", \"freezingtemperatures\", \"spiritbox\"],\n    description:\n      \"A wraith is one of the most dangerous ghosts you will find. It is also the only known Ghost that has the ability of flight and has sometimes been known to travel through walls.\",\n    secondaryEvidence: [\n      \"After stepping in salt, may make footstep sounds but will never leave glowing footprints.\",\n    ],\n    strengths: \"Wraiths almost never touch the ground meaning it can't be tracked by footsteps.\",\n    weaknesses: \"Wraiths have a toxic reaction to Salt.\",\n  },\n  {\n    name: \"Yokai\",\n    evidence: [\"ghostorbs\", \"ghostwriting\", \"spiritbox\"],\n    description:\n      \"A Yokai is a common type of ghost that is attracted to human voices. They can usually be found haunting family homes.\",\n    secondaryEvidence: [],\n    strengths: \"Talking near a Yokai will anger it and increase it's chance of attacking.\",\n    weaknesses: \"When hunting a Yokai can only hear voices close to it.\",\n  },\n  {\n    name: \"Yurei\",\n    evidence: [\"freezingtemperatures\", \"ghostorbs\", \"ghostwriting\"],\n    description:\n      \"A Yurei is a Ghost that has returned to the physical world, usually for the purpose of revenge or hatred.\",\n    secondaryEvidence: [],\n    strengths: \"Yurei's have been known to have a stronger effect on people sanity.\",\n    weaknesses:\n      \"Smudging the Yurei's room will cause it to not wander around the location for a long time.\",\n  },\n];\n\nconst allGhosts = ghosts.map((ghost) => ({\n  ...ghost,\n  included: true,\n}));\n\nexport const initialState = {\n  list: allGhosts,\n  selected: null,\n  visible: true,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { initialState } from \"./constants\";\n\nexport const ghostsSlice = createSlice({\n  name: \"ghosts\",\n  initialState,\n  reducers: {\n    setActiveGhost: (state, action) => {\n      state.selected = action.payload;\n    },\n    resetGhosts: (state) => {\n      state.selected = null;\n    },\n    updateGhosts: (state, { payload: { included, excluded } }) => {\n      const updatedGhosts = state.list.map((ghost) => {\n        if (excluded.some((ev) => ghost.evidence.includes(ev.id))) {\n          return {\n            ...ghost,\n            included: false,\n          };\n        }\n\n        if (included.some((ev) => !ghost.evidence.includes(ev.id))) {\n          return {\n            ...ghost,\n            included: false,\n          };\n        }\n\n        return {\n          ...ghost,\n          included: true,\n        };\n      });\n\n      // Split by included state and sort alpha\n      const sortedGhosts = [\n        ...updatedGhosts\n          .filter((ghost) => ghost.included)\n          .sort((a, b) => (a.name > b.name && 1) || -1),\n        ...updatedGhosts\n          .filter((ghost) => !ghost.included)\n          .sort((a, b) => (a.name > b.name && 1) || -1),\n      ];\n\n      state.list = sortedGhosts;\n    },\n  },\n});\n\nexport const { resetGhosts, setActiveGhost, updateGhosts } = ghostsSlice.actions;\n\nexport const selectGhosts = (state) => state.ghosts.list;\nexport const selectSelected = (state) => state.ghosts.selected;\n\nexport default ghostsSlice.reducer;\n","export const photoValues = {\n  ghost: {\n    1: 70,\n    2: 85,\n    3: 100,\n  },\n  bone: {\n    1: 40,\n    2: 55,\n    3: 70,\n  },\n  ouijaboard: {\n    1: 30,\n    2: 45,\n    3: 60,\n  },\n  fingerprints: {\n    1: 15,\n    2: 30,\n    3: 50,\n  },\n  interaction: {\n    1: 20,\n    2: 30,\n    3: 40,\n  },\n  footsteps: {\n    1: 20,\n    2: 30,\n    3: 40,\n  },\n  dirtywater: {\n    1: 15,\n    2: 25,\n    3: 35,\n  },\n  deadbody: {\n    1: 10,\n    2: 20,\n    3: 30,\n  },\n};\n\nexport const photoDetails = [\n  {\n    id: \"ghost\",\n    display: \"Ghost\",\n    limit: 1,\n  },\n  {\n    id: \"bone\",\n    display: \"Bone\",\n    limit: 1,\n  },\n  {\n    id: \"ouijaboard\",\n    display: \"Ouija Board\",\n    limit: 1,\n  },\n  {\n    id: \"fingerprints\",\n    display: \"Fingerprints\",\n    limit: 10,\n  },\n  {\n    id: \"interaction\",\n    display: \"Interaction\",\n    limit: 10,\n  },\n  {\n    id: \"footsteps\",\n    display: \"Footsteps\",\n    limit: 10,\n  },\n  {\n    id: \"dirtywater\",\n    display: \"Dirty Water\",\n    limit: 10,\n  },\n  {\n    id: \"deadbody\",\n    display: \"Dead Body\",\n    limit: 3,\n  },\n].map((photo) => ({\n  ...photo,\n  count: 0,\n  enabled: true,\n}))\n\nexport const photoTypes = photoDetails.map((photo) => photo.id);\n\nexport const photoDistances = {\n  ghost: {\n    1: \"Taken from greater than 8 meters\",\n    2: \"Taken from between 4 and 8 meters\",\n    3: \"Taken from less than 4 meters\",\n  },\n  other: {\n    1: \"Taken from greater than 8 meters\",\n    2: \"Taken from between 1.5 and 8 meters\",\n    3: \"Taken from less than 1.5 meters\",\n  },\n};\n\nexport const initialState = {\n  counts: photoTypes.reduce(\n    (types, type) => ({\n      ...types,\n      [type]: 0,\n    }),\n    {}\n  ),\n  subtotals: photoTypes.reduce(\n    (types, type) => ({\n      ...types,\n      [type]: 0,\n    }),\n    {}\n  ),\n  photos: photoDetails,\n  collected: [],\n  count: 0,\n  totalValue: 0,\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { initialState, photoValues } from \"./constants\";\n\nexport const photoTotalConverter = (total) => {\n  if (total === 0) return 0;\n  if (total >= 1 && total <= 49) return 10;\n  if (total >= 50 && total <= 99) return 15;\n  if (total >= 100 && total <= 199) return 20;\n  if (total >= 200 && total <= 299) return 25;\n  if (total >= 300 && total <= 399) return 30;\n  if (total >= 400 && total <= 499) return 35;\n  if (total >= 500 && total <= 580) return 40;\n  if (total > 580) return 40;\n};\n\nexport const photoCalculatorSlice = createSlice({\n  name: \"photoCalculator\",\n  initialState,\n  reducers: {\n    reset: () => initialState,\n    addPhoto: (state, action) => {\n      const {\n        payload: { id: photoTypeId, stars: photoTypeStars },\n      } = action;\n\n      // Current photo point values\n      const currentValue = state.collected.reduce(\n        (total, photo) => total + photoValues[photo.id][photo.stars],\n        0\n      );\n\n      // New photo point value\n      const newPhotoValue = photoValues[photoTypeId][photoTypeStars];\n\n      // Convert points to payout\n      state.totalValue = photoTotalConverter(currentValue + newPhotoValue);\n\n      // Calculate subtotals\n      state.subtotals = {\n        ...state.subtotals,\n        [photoTypeId]: state.subtotals[photoTypeId] + newPhotoValue,\n      };\n\n      state.collected = [...state.collected, { ...action.payload, points: newPhotoValue }];\n\n      state.counts = {\n        ...state.counts,\n        [photoTypeId]: state.counts[photoTypeId] + 1,\n      };\n\n      state.count += 1;\n\n      state.photos = state.photos.map((photo) => {\n        if (photo.id === photoTypeId) {\n          const count = photo.count + 1;\n\n          return {\n            ...photo,\n            count,\n            enabled: count < photo.limit,\n          };\n        }\n        return photo;\n      });\n    },\n    disablePhotoType: (state, action) => {\n      state.photos = state.photos.map((photo) => ({\n        ...photo,\n        count: photo.id === action.payload ? 0 : photo.count,\n        enabled: photo.id === action.payload ? false : photo.enabled,\n      }));\n    },\n    removePhoto: (state, action) => {\n      const {\n        payload: { id: photoTypeId, stars: photoTypeStars },\n      } = action;\n      state.collected = state.collected.filter(\n        (photo) => photo.stars !== photoTypeStars && photo.id !== photoTypeId\n      );\n    },\n  },\n});\n\nexport const { addPhoto, disablePhotoType, reset } = photoCalculatorSlice.actions;\n\nexport const selectCollectedPhotos = (state) => state.photoCalculator.collected;\nexport const selectTotalValue = (state) => state.photoCalculator.totalValue;\nexport const selectSubTotalPoints = (state) => state.photoCalculator.subtotals;\nexport const selectPhotoCounts = (state) => state.photoCalculator.counts;\nexport const selectPhotoCount = (state) => state.photoCalculator.count;\nexport const selectPhotos = (state) => state.photoCalculator.photos;\n\nexport default photoCalculatorSlice.reducer;\n","import { combineReducers } from \"redux\";\nimport { configureStore } from \"@reduxjs/toolkit\";\n\nimport appReducer from \"../appSlice\";\nimport challengesReducer from \"../features/randomizers/challenges/challengeRandomizerSlice\";\nimport evidenceReducer from \"../features/evidence/evidenceSlice\";\nimport ghostNameReducer from \"../features/ghostname/ghostNameSlice\";\nimport ghostsReducer from \"../features/ghosts/ghostsSlice\";\nimport jobsReducer from \"../features/randomizers/jobrandomizer/jobRandomizerSlice.js\";\nimport phasmoRPGReducer from \"../features/phasmorpg/phasmoRPGSlice\";\nimport photoCalculatorReducer from \"../features/photocalculator/photoCalculatorSlice\";\n\nconst randomizerReducers = combineReducers({\n  challenges: challengesReducer,\n  jobs: jobsReducer,\n});\n\nexport const store = configureStore({\n  reducer: {\n    app: appReducer,\n    evidence: evidenceReducer,\n    ghosts: ghostsReducer,\n    ghostName: ghostNameReducer,\n    phasmoRPG: phasmoRPGReducer,\n    photoCalculator: photoCalculatorReducer,\n    randomizers: randomizerReducers,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport React from \"react\";\n\nconst useStyles = (props) =>\n  makeStyles((theme) => ({\n    root: {\n      color: `${theme.palette.text[props.color]} !important`,\n      textTransform: props.transform,\n      fontSize: props.size\n    },\n  }));\n\nexport default function Accent({ children, color, size, className, transform, ...props }) {\n  const { root } = useStyles({ color, transform: transform || \"none\", size: size || \"1.0em\" })();\n\n  return (\n    <span className={clsx([root, className])} {...props}>\n      {children}\n    </span>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from 'clsx';\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    fontFamily: \"'Roboto', sans-serif !important\",\n  },\n}));\n\nexport default function Readable({ children, className, ...props }) {\n  const classes = useStyles();\n\n  return (\n    <span className={clsx([classes.root, className])} {...props}>\n      {children}\n    </span>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport { categories } from \"./constants\";\nimport { selectChallenges, toggleCategory, toggleChallenge } from \"./challengeRandomizerSlice\";\nimport Accent from \"../../../common/Accent\";\nimport Readable from \"../../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  category: {\n    backgroundColor: theme.palette.background.default,\n    padding: \"10px\",\n    margin: \"10px\",\n  },\n  categoryTitle: {\n    fontSize: \"1.4em\",\n    textTransform: \"capitalize\",\n  },\n  challengeText: {\n    fontSize: \"1.2em\",\n  },\n  listItem: {\n    \"&:hover\": {\n      color: theme.palette.primary.dark,\n    },\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 300,\n    minWidth: 300,\n    backgroundColor: theme.palette.secondary.dark,\n  },\n  titleBox: {\n    display: \"flex\",\n    \"& > * \": {\n      alignSelf: \"center\",\n    },\n  },\n}));\n\nexport default function ChallengesList() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const challenges = useSelector(selectChallenges);\n\n  const handleToggle = (challengeId) => () => {\n    dispatch(toggleChallenge(challengeId));\n  };\n\n  const handleToggleCategory = (categoryId) => (e) =>\n    dispatch(toggleCategory({ categoryId, enabled: e.target.checked }));\n\n  const categoryCheckedStatuses = React.useMemo(\n    () =>\n      Object.keys(categories).reduce((categories, categoryId) => {\n        const enabledInCategory = challenges.filter(\n          (challenge) => challenge.enabled && challenge.categoryId === categoryId\n        );\n        return {\n          ...categories,\n          [categoryId]: enabledInCategory.length > 0,\n        };\n      }, {}),\n    [challenges]\n  );\n\n  return Object.keys(categories).map((categoryId) => (\n    <Paper key={categoryId} className={classes.category}>\n      <div className={classes.titleBox}>\n        <Checkbox\n          edge=\"start\"\n          checked={categoryCheckedStatuses[categoryId]}\n          tabIndex={-1}\n          disableRipple\n          inputProps={{ \"aria-labelledby\": `checkbox-category-label-${categoryId}` }}\n          onClick={handleToggleCategory(categoryId)}\n        />\n        <Accent className={classes.categoryTitle}>{categoryId}</Accent>\n      </div>\n      <List className={classes.root}>\n        {challenges\n          .filter((challenge) => challenge.categoryId === categoryId)\n          .map((challenge) => {\n            const labelId = `checkbox-list-label-${challenge.id}`;\n\n            return (\n              <ListItem\n                key={challenge.id}\n                role={undefined}\n                dense\n                button\n                onClick={handleToggle(challenge.id)}\n                className={classes.listItem}\n                title={challenge.description}\n              >\n                <ListItemIcon>\n                  <Checkbox\n                    edge=\"start\"\n                    checked={challenge.enabled}\n                    tabIndex={-1}\n                    disableRipple\n                    inputProps={{ \"aria-labelledby\": labelId }}\n                  />\n                </ListItemIcon>\n                <ListItemText\n                  className={classes.listItemText}\n                  id={labelId}\n                  primary={<Readable className={classes.challengeText}>{challenge.display}</Readable>}\n                />\n              </ListItem>\n            );\n          })}\n      </List>\n    </Paper>\n  ));\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { mdiSlotMachineOutline } from \"@mdi/js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Icon from \"@mdi/react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Drawer from \"@material-ui/core/Drawer\";\n\nimport ChallengesList from \"./ChallengesList\";\nimport Readable from \"../../../common/Readable\";\nimport Accent from \"../../../common/Accent\";\n\nimport {\n  resetUsed,\n  selectChallenges,\n  selectRandomizedChallenge,\n  setRandomChallenge,\n} from \"./challengeRandomizerSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  challengeText: {\n    fontSize: \"1.2em\",\n    display: \"flex\",\n    alignContent: \"center\",\n    gap: \"10px\",\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    }\n  },\n  editOptions: {\n    alignSelf: \"center\",\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    },\n  },\n  icon: {\n    alignSelf: \"center\",\n  },\n  iconGroup: {\n    display: \"flex\",\n    justifySelf: \"flex-start\",\n  },\n  iconHover: {\n    color: theme.palette.action.hover,\n  },\n  root: {\n    width: \"95vw\",\n    padding: \"10px 0 10px 0\",\n    display: \"flex\",\n  },\n  randomizer: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    paddingLeft: \"10px\",\n    justifyContent: \"space-between\",\n    width: \"95%\",\n  },\n  spinner: {\n    padding: \"0 0 0 10px\",\n    display: \"flex\",\n    width: \"100%\",\n    alignSelf: \"center\",\n    justifySelf: \"center\",\n    justifyContent: \"center\",\n  },\n  randomChallenge: {\n    webkitAnimation: \"flip-in-hor-bottom 350ms ease-in-out 1 both\",\n    animation: \"flip-in-hor-bottom 350ms ease-in-out 1 both\",\n  },\n  used: {\n    color: theme.palette.text.disabled,\n  },\n}));\n\nexport default function ChallengeRandomizer() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const challenges = useSelector(selectChallenges);\n  const randomized = useSelector(selectRandomizedChallenge);\n  const [editOpen, setEditOpen] = React.useState(false);\n\n  const spinTheWheel = React.useCallback(\n    (e) => {\n      e.stopPropagation();\n      const remaining = challenges.filter(\n        (challenge) => challenge.enabled && !challenge.used\n      ).length;\n\n      dispatch(setRandomChallenge());\n\n      // Allow infinite random cycles\n      if (remaining === 1) {\n        dispatch(resetUsed());\n      }\n    },\n    [challenges, dispatch]\n  );\n\n  const toggleDrawer = (status) => (event) => {\n    if (event.type === \"keydown\" && (event.key === \"Tab\" || event.key === \"Shift\")) {\n      return;\n    }\n\n    setEditOpen(status);\n  };\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.root}>\n        <Typography component=\"span\" color=\"textPrimary\" className={classes.randomizer}>\n          <span className={classes.iconGroup}>\n            <EditIcon className={classes.editOptions} onClick={toggleDrawer(true)} />\n          </span>\n          <span\n            className={classes.spinner}\n            onClick={spinTheWheel}\n          >\n            {randomized && randomized.display ? (\n              <span key={randomized.id} className={classes.randomChallenge}>\n                <Readable className={classes.challengeText}>\n                  <Accent>{randomized.display}</Accent> <div>{randomized.description}</div>\n                </Readable>\n              </span>\n            ) : (\n              <Readable className={classes.challengeText}>\n                <Icon\n                  className={classes.icon}\n                  path={mdiSlotMachineOutline}\n                  size={1}\n                />\n                <Accent>Click here for a random challenge!</Accent>\n              </Readable>\n            )}\n          </span>\n        </Typography>\n      </Paper>\n      <Drawer anchor=\"right\" open={editOpen} onClose={toggleDrawer(false)}>\n        <ChallengesList />\n      </Drawer>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { cycle, iconMap, selectEvidence, selectIncluded, selectExcluded } from \"./evidenceSlice\";\nimport { selectGhosts } from \"../ghosts/ghostsSlice\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport classNames from \"classnames\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"95vw\",\n    margin: '10px 0 10px 0 ',\n  },\n  icon: {\n    float: \"left\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paperalt,\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    border: \"3px solid transparent\",\n    color: theme.palette.text.disabled,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n  impossible: {\n    opacity: 0.25,\n    cursor: \"default\",\n    \"&:hover\": {\n      pointerEvents: \"none !important\",\n    },\n  },\n  included: {\n    color: `${theme.palette.text.secondary}!important`,\n    border: `3px solid ${theme.palette.success.dark}`,\n    backgroundColor: theme.palette.success.dark,\n    \"&:hover\": {\n      color: theme.palette.success.light,\n      backgroundColor: theme.palette.success.main,\n    },\n  },\n  excluded: {\n    color: `${theme.palette.text.secondary}!important`,\n    border: `3px solid ${theme.palette.error.dark}`,\n    backgroundColor: theme.palette.error.dark,\n    \"&:hover\": {\n      color: theme.palette.error.light,\n      backgroundColor: theme.palette.error.main,\n    },\n  },\n}));\n\nexport default function Evidence() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const ghosts = useSelector(selectGhosts);\n  const evidence = useSelector(selectEvidence);\n  const included = useSelector(selectIncluded);\n  const excluded = useSelector(selectExcluded);\n\n  const isIncluded = React.useCallback((e) => included.find((s) => s.id === e.id), [included]);\n  const isExcluded = React.useCallback((e) => excluded.find((s) => s.id === e.id), [excluded]);\n\n  const isPossible = React.useCallback(\n    (e) => {\n      // Manually excluded by user ignored by isPossible logic for remaining evidences\n      if (!!isExcluded(e)) return true;\n      const includedGhostEvidence = [\n        ...new Set(\n          ghosts\n            .filter((ghost) => ghost.included)\n            .map((ghost) => ghost.evidence)\n            .flat()\n        ),\n      ];\n      return includedGhostEvidence.includes(e.id);\n    },\n    [ghosts, isExcluded]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={2}>\n        {evidence.map((e) => (\n          <Grid key={e.id} item xs={6} sm={4} onClick={() => isPossible(e) && dispatch(cycle(e))}>\n            <Paper\n              className={classNames(classes.paper, {\n                [classes.included]: !!isIncluded(e),\n                [classes.excluded]: !!isExcluded(e),\n                [classes.impossible]: !isPossible(e),\n              })}\n            >\n              <span className={classes.icon}>{iconMap(e.id)}</span>\n              {e.short}\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport {\n  setFirstname,\n  setFirstnames,\n  setLastnames,\n  setLastname,\n  selectFirstnameLetters,\n  selectFirstnames,\n  selectLastnameLetters,\n  selectLastnames,\n  selectIsVisible,\n  selectInstructions,\n  selectViews,\n} from \"./ghostNameSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexWrap: \"nowrap\",\n    width: \"100vw\",\n    padding: \"10px\",\n    margin: \"0 0 15px 0\",\n    justifyContent: \"center\",\n  },\n  instructions: {\n    alignSelf: \"center\",\n    margin: \"0\",\n    padding: 0,\n    color: theme.palette.text.primary,\n    width: '100vw',\n  },\n  item: {\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.secondary.light,\n      backgroundColor: theme.palette.background.paper,\n    },\n    width: \"100%\",\n  },\n  name: {\n    fontSize: \"1.4rem\",\n  },\n}));\n\nexport default function GhostName({ ghost, handleClick }) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstnameLetters = useSelector(selectFirstnameLetters);\n  const lastnameLetters = useSelector(selectLastnameLetters);\n  const firstnames = useSelector(selectFirstnames);\n  const lastnames = useSelector(selectLastnames);\n  const isVisible = useSelector(selectIsVisible);\n  const instructions = useSelector(selectInstructions);\n  const views = useSelector(selectViews);\n\n  return isVisible ? (\n    <React.Fragment>\n      <Paper square elevation={0} className={classes.instructions}>{instructions}</Paper>\n      <div className={classes.container}>\n        {views.firstnameLetters &&\n          firstnameLetters.map((letter) => (\n            <span\n              key={`firstnameLetter_${letter}`}\n              onClick={() => dispatch(setFirstnames(letter))}\n              className={classes.item}\n            >\n              {letter}\n            </span>\n          ))}\n        {views.firstnames &&\n          firstnames.map((firstname) => (\n            <span\n              key={firstname}\n              onClick={() => dispatch(setFirstname(firstname))}\n              className={classes.item}\n            >\n              {firstname}\n            </span>\n          ))}\n        {views.lastnameLetters &&\n          lastnameLetters.map((letter) => (\n            <span\n              key={`lastnameLetter_${letter}`}\n              onClick={() => dispatch(setLastnames(letter))}\n              className={classes.item}\n            >\n              {letter}\n            </span>\n          ))}\n        {views.lastnames &&\n          lastnames.map((lastname) => (\n            <span\n              key={lastname}\n              onClick={() => dispatch(setLastname(lastname))}\n              className={classes.item}\n            >\n              {lastname}\n            </span>\n          ))}\n      </div>\n    </React.Fragment>\n  ) : null;\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport classNames from \"classnames\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport { iconMap, selectIncluded } from \"../evidence/evidenceSlice\";\nimport { selectSelected } from \"../ghosts/ghostsSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  disabled: {\n    backgroundColor: \"#33415c\",\n  },\n  ghost: {\n    margin: \"5px 5px\",\n    fontSize: \"1.2rem\",\n  },\n  iconsValid: {\n    color: theme.palette.text.secondary,\n  },\n  iconsInvalid: {\n    color: theme.palette.text.disabled,\n  },\n  included: {\n    color: `${theme.palette.success.main} !important`,\n  },\n  invalid: {\n    color: theme.palette.text.disabled,\n  },\n  paper: {\n    backgroundColor: \"#3c1642\",\n    border: \"2px solid transparent\",\n    cursor: \"pointer\",\n    padding: \"5px\",\n    \"&:hover\": {\n      border: \"2px solid lightgrey\",\n    },\n  },\n  paperInvalid: {\n    backgroundColor: theme.palette.ghosts.invalid,\n  },\n  paperValid: {\n    backgroundColor: theme.palette.ghosts.valid,\n  },\n  selected: {\n    color: `${theme.palette.info.main} !important`,\n  },\n  valid: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default function Ghost({ ghost, handleClick }) {\n  const classes = useStyles();\n  const included = useSelector(selectIncluded);\n  const selected = useSelector(selectSelected);\n\n  const evidenceIsIncluded = React.useCallback(\n    (ev) => included.some((i) => i.id === ev),\n    [included]\n  );\n\n  const isSelected = React.useMemo(() => selected && selected.name === ghost.name, [selected, ghost.name]);\n  return (\n    <Paper\n      className={classNames(classes.paper, ghost.included ? classes.paperValid : classes.paperInvalid)}\n      onClick={() => handleClick(ghost)}\n    >\n      <div\n        className={classNames(classes.ghost, ghost.included ? classes.valid : classes.invalid, {\n          [classes.selected]: isSelected,\n        })}\n      >\n        {ghost.name}\n      </div>\n      <div className={ghost.included ? classes.iconsValid : classes.iconsInvalid}>\n        {ghost.evidence.map((ev) => (\n          <span key={ev} className={evidenceIsIncluded(ev) ? classes.included : \"\"} title={ev}>\n            {iconMap(ev)}\n          </span>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\n\nimport { iconMap, selectExcluded, selectIncluded } from \"../evidence/evidenceSlice\";\nimport { selectGhosts, selectSelected, setActiveGhost, updateGhosts } from \"./ghostsSlice\";\nimport Ghost from \"../ghost/Ghost\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n    cursor: \"pointer\",\n  },\n  root: {\n    margin: theme.spacing(0.5, 0, 1.5, 0),\n  },\n  description: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    textAlign: \"left\",\n    \"& > span\": {\n      width: \"100vw\",\n    },\n    margin: theme.spacing(1.5, -2, 1.5, -2),\n    padding: theme.spacing(0.5, 1.5, 0.5, 1.5),\n    backgroundColor: theme.palette.background.paperalt,\n    borderTop: `1px solid ${theme.palette.primary.main}`,\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n    display: \"block\",\n  },\n  ghostHeader: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    alignContent: \"center\",\n    margin: theme.spacing(0, -2, 0, -2),\n    \"& > span\": {\n      alignSelf: \"center\",\n    },\n  },\n  ghostName: {\n    justifySelf: \"flex-start\",\n    fontSize: \"1.2em\",\n  },\n  ghostIcons: {\n    \"& > span > svg\": {\n      margin: \"5px 10px 0 10px\",\n    },\n  },\n  ghosts: {\n    display: \"grid\",\n    margin: \"0 auto\",\n    backgroundColor: theme.palette.background.paper,\n    justifyItems: \"stretch\",\n    gap: \"10px\",\n    width: \"95vw\",\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"repeat(7, 1fr)\",\n      gap: \"20px\",\n    },\n  },\n  included: {\n    color: `${theme.palette.success.main} !important`,\n  },\n  labeled: {\n    display: \"flex\",\n    \"& > span\": {\n      width: \"50vw\",\n    },\n    \"& > span:first-child\": {\n      textAlign: \"left\",\n      fontWeight: \"bold\",\n    },\n    \"& > span:last-child\": {\n      textAlign: \"left\",\n    },\n    justifyContent: \"center\",\n  },\n  paper: {\n    display: \"flex\",\n    padding: \"10px\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(0.5),\n    },\n  },\n  selectedGhost: {\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(2),\n    color: theme.palette.text.primary,\n    border: `2px solid ${theme.palette.secondary.main}`,\n    width: \"90vw\",\n    margin: 0,\n    \"& > * \": {\n      fontFamily: \"Indie Flower !important\",\n    },\n  },\n}));\n\nexport default function Ghosts() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const ghosts = useSelector(selectGhosts);\n  const included = useSelector(selectIncluded);\n  const excluded = useSelector(selectExcluded);\n  const selectedGhost = useSelector(selectSelected);\n\n  const [open, setOpen] = React.useState(false);\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(setActiveGhost(null));\n  };\n\n  React.useEffect(() => {\n    dispatch(updateGhosts({ included, excluded }));\n  }, [dispatch, excluded, included]);\n\n  const handleClick = (ghost) => {\n    dispatch(setActiveGhost(ghost));\n    setOpen(true);\n  };\n\n  const evidenceIsIncluded = React.useCallback(\n    (ev) => included.some((i) => i.id === ev),\n    [included]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Paper square className={classes.ghosts}>\n        {ghosts.map((ghost) => {\n          return <Ghost key={ghost.name} ghost={ghost} handleClick={handleClick} />;\n        })}\n      </Paper>\n      <Backdrop className={classes.backdrop} open={open} onClick={handleClose}>\n        <Paper>\n          <div className={classes.selectedGhost}>\n            {selectedGhost && (\n              <div>\n                <div className={classes.ghostHeader}>\n                  <span className={classes.ghostName}>\n                    <Accent color=\"accent\">\n                      <Readable>{selectedGhost.name}</Readable>\n                    </Accent>\n                  </span>\n                  <span className={classes.ghostIcons}>\n                    {selectedGhost.evidence.map((ev) => (\n                      <span\n                        key={ev}\n                        className={evidenceIsIncluded(ev) ? classes.included : \"\"}\n                        title={ev}\n                      >\n                        {iconMap(ev)}\n                      </span>\n                    ))}\n                  </span>\n                </div>\n                <div className={classes.description}>\n                  <Accent color=\"secondary\">{selectedGhost.description}</Accent>\n                </div>\n                <div className={classes.labeled}>\n                  <Accent color=\"contrast\">Unique Strengths</Accent>\n                  <span>{selectedGhost.strengths}</span>\n                </div>\n                <div className={classes.labeled}>\n                  <Accent color=\"contrast\">Weaknesses</Accent>\n                  <span>{selectedGhost.weaknesses}</span>\n                </div>\n                {selectedGhost.secondaryEvidence.map((secondaryEvidence, index) => (\n                  <div key={`secondaryEvidence_${index}`} className={classes.labeled}>\n                    <Accent color=\"contrast\">Secondary Evidence</Accent>\n                    <span>{secondaryEvidence}</span>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </Paper>\n      </Backdrop>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { mdiGhost } from \"@mdi/js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Icon from \"@mdi/react\";\nimport React from \"react\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport Readable from \"../../common/Readable\";\n\nimport {\n  setFirstname,\n  setFirstnames,\n  setLastnames,\n  setLastname,\n  selectFirstnameLetters,\n  selectFirstnames,\n  selectLastnameLetters,\n  selectLastnames,\n  selectIsVisible,\n  selectInstructions,\n  selectViews as selectGhostNameViews,\n} from \"../ghostname/ghostNameSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: 0,\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n    },\n  },\n  button: {\n    margin: theme.spacing(1, 0, 0, 0),\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      background: \"none\",\n      color: theme.palette.text.accent,\n    },\n  },\n  cancelButton: {\n    color: theme.palette.error.main,\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n    },\n  },\n  disabled: {\n    opacity: 0.25,\n  },\n  label: {\n    fontSize: \"1.3rem\",\n    textAlign: \"center\",\n    padding: \"5px 0 10px 0\",\n  },\n  reset: {\n    margin: 0,\n    alignSelf: \"center\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      backgroundColor: \"transparent\",\n    },\n  },\n  list: {\n    width: \"300px\",\n    color: theme.palette.text.primary,\n  },\n  itemList: {\n    display: \"flex\",\n    cursor: \"pointer\",\n  },\n  letterList: {\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    fontSize: \"1.5em\",\n    \"& > span\": {\n      width: \"25%\",\n      \"&:hover\": {\n        color: theme.palette.action.hover,\n      },\n    },\n  },\n  nameList: {\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    fontSize: \"1.5em\",\n    \"& > span\": {\n      width: \"100%\",\n      \"&:hover\": {\n        color: theme.palette.action.hover,\n      },\n    },\n  },\n  container: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    padding: \"10px\",\n    margin: \"0 0 15px 0\",\n    justifyContent: \"center\",\n    userSelect: \"none\",\n  },\n  instructions: {\n    alignSelf: \"center\",\n    margin: \"0\",\n    padding: 0,\n    color: theme.palette.text.primary,\n  },\n  item: {\n    borderRadius: \"5px\",\n    cursor: \"pointer\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.secondary.light,\n      backgroundColor: theme.palette.background.paper,\n    },\n  },\n  name: {\n    fontSize: \"1.4rem\",\n  },\n}));\n\nexport default function GhostNameMenu() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstnameLetters = useSelector(selectFirstnameLetters);\n  const lastnameLetters = useSelector(selectLastnameLetters);\n  const firstnames = useSelector(selectFirstnames);\n  const lastnames = useSelector(selectLastnames);\n  const isVisible = useSelector(selectIsVisible);\n  const instructions = useSelector(selectInstructions);\n  const ghostNameViews = useSelector(selectGhostNameViews);\n  const screenExtraSmall = useMediaQuery((theme) => theme.breakpoints.only(\"xs\"));\n\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\n\n  const list = ({ anchor = \"right\", data, keyName, onClick, letters }) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\n      })}\n      role=\"presentation\"\n    >\n      <div className={classes.label}>{instructions}</div>\n      <Divider />\n      <div\n        className={clsx(classes.itemList, {\n          [classes.letterList]: letters,\n          [classes.nameList]: !letters,\n        })}\n      >\n        {data.map((item) => (\n          <span key={`${keyName}_${item}`} onClick={() => onClick(item)}>\n            {item}\n          </span>\n        ))}\n      </div>\n      <Button\n        variant=\"text\"\n        className={classes.cancelButton}\n        onClick={() => setDrawerOpen(!drawerOpen)}\n      >\n        Cancel\n      </Button>\n    </div>\n  );\n\n  return (\n    <div>\n      <React.Fragment>\n        <Button\n          variant=\"text\"\n          color=\"primary\"\n          className={classes.button}\n          startIcon={<Icon aria-hidden={true} path={mdiGhost} title=\"Ghost Name\" size={1} />}\n          onClick={() => setDrawerOpen(!drawerOpen)}\n        >\n          <Readable>{screenExtraSmall ? \"Name\" : \"Set Name\"}</Readable>\n        </Button>\n        {isVisible && (\n          <Drawer anchor={\"left\"} open={drawerOpen} variant=\"persistent\">\n            <div className={classes.container}>\n              {ghostNameViews.firstnameLetters &&\n                list({\n                  keyName: \"firstnameLetters\",\n                  data: firstnameLetters,\n                  onClick: (x) => dispatch(setFirstnames(x)),\n                  letters: true,\n                })}\n              {ghostNameViews.firstnames &&\n                list({\n                  keyName: \"firstnames\",\n                  data: firstnames,\n                  onClick: (x) => dispatch(setFirstname(x)),\n                })}\n              {ghostNameViews.lastnameLetters &&\n                list({\n                  keyName: \"lastnameLetters\",\n                  data: lastnameLetters,\n                  onClick: (x) => dispatch(setLastnames(x)),\n                  letters: true,\n                })}\n              {ghostNameViews.lastnames &&\n                list({\n                  keyName: \"lastnames\",\n                  data: lastnames,\n                  onClick: (x) => dispatch(setLastname(x)),\n                })}\n            </div>\n          </Drawer>\n        )}\n      </React.Fragment>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { mdiMagnifyClose } from \"@mdi/js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport clsx from \"clsx\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Icon from \"@mdi/react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport MoodBadIcon from \"@material-ui/icons/MoodBad\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport React from \"react\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SportsKabaddiIcon from \"@material-ui/icons/SportsKabaddi\";\nimport Switch from \"@material-ui/core/Switch\";\nimport WorkIcon from \"@material-ui/icons/Work\";\n\nimport { LOCAL_STORAGE_KEY } from \"../../constants\";\nimport { reset as resetChallenges } from \"../randomizers/challenges/challengeRandomizerSlice\";\nimport { reset as resetJobRandomizer } from \"../randomizers/jobrandomizer/jobRandomizerSlice\";\nimport { reset as resetPhasmoRPG } from \"../phasmorpg/phasmoRPGSlice\";\nimport { reset as resetPhotoCalculator } from \"../photocalculator/photoCalculatorSlice\";\nimport { resetApp, selectViews, toggleModule } from \"../../appSlice\";\nimport { resetEvidence, selectIsPristine } from \"../evidence/evidenceSlice\";\nimport { resetGhostName } from \"../ghostname/ghostNameSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    \"& > span\": {\n      alignSelf: \"baseline\",\n      margin: 0,\n    },\n  },\n  clearInactive: {\n    color: theme.palette.text.disabled,\n    pointerEvents: \"none\",\n  },\n  clearActive: {\n    color: theme.palette.error.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n    },\n  },\n  disabled: {\n    opacity: 0.25,\n  },\n  label: {\n    fontSize: \"1.3rem\",\n    textAlign: \"center\",\n    padding: \"5px 0 10px 0\",\n  },\n  menu: {\n    margin: 0,\n    alignSelf: \"center\",\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n      backgroundColor: \"transparent\",\n    },\n  },\n  menuItem: {\n    fontSize: \"1.2em\",\n  },\n  list: {\n    whiteSpace: \"nowrap\",\n    color: theme.palette.text.primary,\n  },\n  fullList: {\n    width: \"auto\",\n  },\n}));\n\nexport default function SiteMenu() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const evidenceIsPristine = useSelector(selectIsPristine);\n  const views = useSelector(selectViews);\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const reset = () => {\n    dispatch(resetEvidence());\n    dispatch(resetGhostName());\n    dispatch(resetApp());\n    dispatch(resetChallenges());\n    dispatch(resetPhotoCalculator());\n    dispatch(resetJobRandomizer());\n    dispatch(resetPhasmoRPG());\n    setState({ ...state, right: false });\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n  };\n\n  const clearEvidence = () => {\n    dispatch(resetEvidence());\n  };\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (event.type === \"keydown\" && (event.key === \"Tab\" || event.key === \"Shift\")) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  const menuToggleItems = React.useMemo(\n    () => [\n      {\n        id: \"evidence\",\n        display: \"Evidence\",\n        onClick: () => dispatch(toggleModule(\"evidence\")),\n        icon: <SearchIcon />,\n      },\n      {\n        id: \"ghosts\",\n        display: \"Ghosts\",\n        onClick: () => dispatch(toggleModule(\"ghosts\")),\n        icon: <MoodBadIcon />,\n      },\n      {\n        id: \"challenges\",\n        display: \"Challenges\",\n        onClick: () => dispatch(toggleModule(\"challenges\")),\n        icon: <SportsKabaddiIcon />,\n      },\n      {\n        id: \"jobs\",\n        display: \"Job Randomizer\",\n        onClick: () => dispatch(toggleModule(\"jobs\")),\n        icon: <WorkIcon />,\n      },\n      {\n        id: \"photocalculator\",\n        display: \"Photo Calculator\",\n        onClick: () => dispatch(toggleModule(\"photocalculator\")),\n        icon: <PhotoCameraIcon />,\n      },\n    ],\n    [dispatch]\n  );\n\n  const menuActionItems = [\n    {\n      id: \"reset\",\n      display: \"Reset App\",\n      onClick: () => reset(),\n      icon: <ReplayIcon />,\n    },\n  ];\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === \"top\" || anchor === \"bottom\",\n      })}\n      role=\"presentation\"\n      onKeyDown={toggleDrawer(anchor, false)}\n    >\n      <div className={classes.label}>\n        <Accent>Phasmo Toolkit</Accent>\n      </div>\n      <Divider />\n      {!views.phasmorpg && (\n        <List>\n          {menuToggleItems.map((item) => (\n            <ListItem\n              className={clsx({ [classes.disabled]: !views[item.id] })}\n              button\n              key={item.id}\n              onClick={item.onClick}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText\n                primary={<Readable className={classes.menuItem}>{item.display}</Readable>}\n              />\n              <Switch\n                checked={views[item.id]}\n                name={item.id}\n                inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n              />\n            </ListItem>\n          ))}\n        </List>\n      )}\n      <Divider />\n      <List>\n        {menuActionItems.map((item) => (\n          <ListItem button key={item.id} onClick={item.onClick}>\n            <ListItemIcon>{item.icon}</ListItemIcon>\n            <ListItemText\n              primary={<Readable className={classes.menuItem}>{item.display}</Readable>}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      {views.evidence && (\n        <span\n          title=\"Clear Evidence\"\n          onClick={clearEvidence}\n          className={clsx({\n            [classes.clearActive]: evidenceIsPristine,\n            [classes.clearInactive]: !evidenceIsPristine,\n          })}\n        >\n          <Icon path={mdiMagnifyClose} size={1} />\n        </span>\n      )}\n      <IconButton\n        className={classes.menu}\n        color=\"default\"\n        aria-label=\"side drawer\"\n        component=\"span\"\n        onClick={toggleDrawer(\"right\", true)}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Drawer anchor={\"right\"} open={state[\"right\"]} onClose={toggleDrawer(\"right\", false)}>\n        {list(\"right\")}\n      </Drawer>\n    </div>\n  );\n}\n","import IconButton from \"@material-ui/core/IconButton\";\nimport React from \"react\";\n\nexport default function IconButtonWrapper({ children, ...props }) {\n  return <IconButton {...props}>{children}</IconButton>;\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BuildIcon from '@material-ui/icons/Build';\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport {\n  selectFirstname,\n  selectLastname,\n  selectIsVisible,\n  resetGhostName,\n} from \"../ghostname/ghostNameSlice\";\nimport GhostNameMenu from \"../ghostnamemenu/GhostNameMenu\";\nimport SiteMenu from \"../sitemenu/SiteMenu\";\nimport Readable from \"../../common/Readable\";\nimport Accent from \"../../common/Accent\";\nimport { selectViews, togglePhasmoRPG } from \"../../appSlice\";\nimport IconButton from \"../../common/IconButton\";\nimport { selectHasActiveCharacter, toggleMissionDrawerOpen } from \"../phasmorpg/phasmoRPGSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.error.dark,\n    },\n  },\n  toggleAppButton: {\n    color: theme.palette.secondary.light,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.primary.light,\n    },\n  },\n  container: {\n    fontSize: \"1.0em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto 1fr\",\n    margin: theme.spacing(0, 0, 0.5, 0),\n    width: \"100vw\",\n    maxHeight: theme.spacing(8),\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n      textAlign: \"left\",\n    },\n  },\n  containerRPG: {\n    fontSize: \"1.0em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    justifyContent: \"space-between\",\n    margin: theme.spacing(0, 0, 0.5, 0),\n    width: \"100vw\",\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.text.primary,\n    \"& > span \": {\n      alignSelf: \"center\",\n      textAlign: \"left\",\n    },\n  },\n  ghostname: {\n    borderRadius: \"5px\",\n    display: \"flex\",\n    alignContent: \"center\",\n    cursor: \"pointer\",\n    margin: 0,\n    backgroundColor: theme.palette.info.dark,\n    \"&:hover\": {\n      color: theme.palette.error.main,\n    },\n  },\n  icon: {\n    float: \"right\",\n    alignSelf: \"center\",\n  },\n  logMission: {\n    padding: theme.spacing(0, 1, 0, 1),\n    margin: 0,\n    color: theme.palette.text.accent,\n  },\n  reset: {\n    marginLeft: \"10px\",\n  },\n  title: {\n    fontFamily: \"Indie Flower !important\",\n    justifySelf: \"flex-start\",\n    color: theme.palette.text.accent,\n    \"& > span\": {\n      fontSize: \"0.6em\",\n      color: theme.palette.text.disabled,\n    },\n  },\n  menu: {\n    justifySelf: \"flex-end\",\n    paddingRight: theme.spacing(2),\n  },\n  appName: {\n    minWidth: \"165px\",\n    justifySelf: \"flex-start\",\n  },\n  buttonBar: {\n    justifySelf: \"center\",\n  },\n}));\n\nexport default function Header() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const firstname = useSelector(selectFirstname);\n  const lastname = useSelector(selectLastname);\n  const isVisible = useSelector(selectIsVisible);\n  const views = useSelector(selectViews);\n  const hasActiveCharacter = useSelector(selectHasActiveCharacter)\n  const screenExtraSmall = useMediaQuery((theme) => theme.breakpoints.only(\"xs\"));\n\n  const handleTogglePhasmoRPG = () => {\n    dispatch(togglePhasmoRPG());\n  };\n\n  return (\n    <Paper\n      square\n      className={clsx({\n        [classes.container]: !views.phasmorpg,\n        [classes.containerRPG]: views.phasmorpg,\n      })}\n      component=\"h1\"\n    >\n      <span className={classes.appName}>\n        {views.phasmorpg ? (\n          <React.Fragment>\n            <IconButton\n              onClick={() => handleTogglePhasmoRPG()}\n              aria-label=\"Toggle Phasmo RPG\"\n              title=\"Toggle Phasmo RPG\"\n              className={classes.toggleAppButton}\n            >\n              <SupervisedUserCircleIcon />\n            </IconButton>\n            <Accent size=\"0.8em\" color=\"primary\">\n              Phasmo RPG\n            </Accent>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <IconButton\n              onClick={() => handleTogglePhasmoRPG()}\n              aria-label=\"Toggle Phasmo RPG\"\n              title=\"Toggle Phasmo RPG\"\n              className={classes.toggleAppButton}\n            >\n              <BuildIcon />\n            </IconButton>\n            <Accent size=\"0.8em\" color=\"primary\">\n              {screenExtraSmall ? \"PhasmoKit\" : \"Phasmo Toolkit\"}\n            </Accent>\n          </React.Fragment>\n        )}\n      </span>\n      <span className={classes.buttonBar}>\n        {views.evidence && (\n          <React.Fragment>\n            {!isVisible ? (\n              <Button\n                variant=\"text\"\n                color=\"primary\"\n                className={classes.button}\n                onClick={() => dispatch(resetGhostName())}\n                startIcon={<DeleteIcon />}\n              >\n                <Readable>\n                  {firstname} {lastname}\n                </Readable>\n              </Button>\n            ) : (\n              <GhostNameMenu />\n            )}\n          </React.Fragment>\n        )}\n        {views.phasmorpg && hasActiveCharacter && (\n          <Button\n            className={classes.logMission}\n            onClick={() => dispatch(toggleMissionDrawerOpen())}\n            variant=\"outlined\"\n          >\n            Log Mission\n          </Button>\n        )}\n      </span>\n      <span className={classes.menu}>\n        <SiteMenu />\n      </span>\n    </Paper>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Icon from \"@mdi/react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\n\nimport {\n  randomizeJob,\n  resetSection,\n  selectRandomized,\n  selectRandomizedCounts,\n  selectSectionItems,\n  updateRandomizerTypeCount,\n} from \"./jobRandomizerSlice\";\nimport { randomizerSections } from \"./constants\";\n\n// import Accent from \"../../../common/Accent\";\nimport Readable from \"../../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  jobGrid: {\n    [theme.breakpoints.up(\"md\")]: {\n      gap: \"20px\",\n      gridTemplateColumns: \"repeat(2, 1fr)\",\n    },\n    \"& > div.section\": {\n      \"& > .header\": {\n        backgroundColor: theme.palette.background.paperalt,\n        borderTopLeftRadius: \"5px\",\n        borderTopRightRadius: \"5px\",\n        color: theme.palette.text.secondary,\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(3, 1fr)\",\n        gap: \"10px\",\n        padding: \"5px 20px 5px 20px\",\n        width: \"100%\",\n        \"& > .selectBox\": {\n          justifySelf: \"flex-end\",\n        },\n        \"& > .headerIcon\": {\n          alignSelf: \"center\",\n          margin: 0,\n          padding: 0,\n          verticalAlign: \"middle\",\n        },\n        \"& > .sectionTitle\": {\n          justifySelf: \"center\",\n        },\n      },\n      backgroundColor: theme.palette.background.paper,\n      borderRadius: \"5px\",\n      display: \"inline\",\n    },\n    display: \"grid\",\n    gap: \"10px\",\n    gridTemplateColumns: \"repeat(1, 1fr)\",\n  },\n  randomizeAll: {\n    \"&:active\": {\n      backgroundColor: theme.palette.background.paperalt,\n      color: theme.palette.text.secondary,\n    },\n    \"&:hover\": {\n      color: theme.palette.action.hover,\n    },\n    cursor: \"pointer\",\n    margin: \"0 0 10px 0\",\n  },\n  resultsList: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  root: {\n    margin: \"10px 0 10px 0\",\n    width: \"95vw\",\n  },\n}));\n\nconst RandomizerResult = ({ results }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.resultsList}>\n      {results.map((r) => (\n        <div key={r.id}>{r.display}</div>\n      ))}\n    </div>\n  );\n};\n\nconst SectionCountSelect = ({ context, currentValue, handleChange }) => {\n  const options = [1, 2, 3, 4, 5, 6];\n\n  return (\n    <FormControl className={\"selectBox\"}>\n      <Select\n        value={currentValue}\n        onChange={handleChange}\n        inputProps={{\n          name: `${context}-itemcount`,\n          id: `item-count-${context}`,\n        }}\n      >\n        {options.map((optionValue) => (\n          <MenuItem key={`optionItem-${context}-${optionValue}`} value={optionValue}>\n            {optionValue}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n\nexport default function JobRandomizer() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const randomized = useSelector(selectRandomized);\n  const randomizedCounts = useSelector(selectRandomizedCounts);\n  const sectionItems = useSelector(selectSectionItems);\n\n  const remainingSectionItems = React.useMemo(() => {\n    return Object.keys(sectionItems).reduce(\n      (sections, section) => ({\n        ...sections,\n        [section]: sectionItems[section].filter((x) => !x.used).length,\n      }),\n      {}\n    );\n  }, [sectionItems]);\n\n  const spinTheWheel = React.useCallback(() => {\n    // Reset any sections with insufficient un-used items left\n    for (const sectionItemKey in sectionItems) {\n      if (remainingSectionItems[sectionItemKey] < randomizedCounts[sectionItemKey]) {\n        dispatch(resetSection(sectionItemKey));\n      }\n    }\n    // Generate a new batch\n    dispatch(randomizeJob());\n  }, [dispatch, randomizedCounts, remainingSectionItems, sectionItems]);\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.randomizeAll} onClick={spinTheWheel}>\n        Generate Randomized Job\n      </Paper>\n      <div className={classes.jobGrid}>\n        {randomizerSections.map((section) => (\n          <div key={section.display} className=\"section\">\n            <span className=\"header\">\n              <Icon aria-hidden=\"true\" className={\"headerIcon\"} path={section.iconPath} size={1} />\n              <Readable className=\"sectionTitle\">{section.display}</Readable>\n              {[\"evidence\", \"other\"].includes(section.id) ? (\n                <SectionCountSelect\n                  context={section.id}\n                  currentValue={randomizedCounts[section.id]}\n                  handleChange={(e) =>\n                    dispatch(updateRandomizerTypeCount({ ...section, count: e.target.value }))\n                  }\n                />\n              ) : (\n                <span> </span>\n              )}\n            </span>\n            <div>\n              {randomized[section.id].length > 0 ? (\n                <RandomizerResult results={randomized[section.id]} />\n              ) : (\n                Array.from(Array(randomizedCounts[section.id]).keys()).map((key) => (\n                  <div key={`ph_${key}`}>&nbsp;</div>\n                ))\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Avatar from \"boring-avatars\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\n\nimport {\n  selectActiveCharacter,\n  selectCharacters,\n  setCharacterActive,\n} from \"../phasmorpg/phasmoRPGSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    alignSelf: \"center\",\n  },\n  renderedAvatar: {\n    alignSelf: \"center\",\n    margin: \"0 5px 0 0\",\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n  },\n  characterName: {\n    color: theme.palette.secondary.light,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    width: \"180px\",\n    [theme.breakpoints.up(\"md\")]: {\n      minWidth: \"300px\",\n    },\n  },\n  formControl: {\n    minWidth: \"250px\",\n    [theme.breakpoints.up(\"md\")]: {\n      minWidth: \"350px\",\n    },\n    alignSelf: \"center\",\n    \"& > div > div\": {\n      display: \"grid\",\n      gridTemplateColumns: \"25px 1fr\",\n      gap: theme.spacing(2),\n    },\n  },\n  menuItem: {\n    display: \"grid\",\n    gridTemplateColumns: \"25px 1fr\",\n    gap: theme.spacing(2),\n  },\n  renderedMenuItem: {\n    display: \"grid\",\n    gridTemplateColumns: \"25px 1fr\",\n    gap: theme.spacing(2),\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  select: {\n    \"&:focus\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n}));\n\nexport default function CharacterSelect() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const characters = useSelector(selectCharacters);\n  const activeCharacter = useSelector(selectActiveCharacter);\n\n  const handleCharacterSelect = (event) => {\n    const character = event.target.value;\n    dispatch(setCharacterActive(character || null));\n  };\n\n  const getCharacterById = (characterId) =>\n    characters.find((character) => character.id === characterId);\n\n  return (\n    characters &&\n    characters.length > 0 && (\n      <FormControl className={classes.formControl}>\n        <Select\n          labelId=\"character-select-label\"\n          id=\"character-select\"\n          value={(activeCharacter && activeCharacter.id) || \"AddNew\"}\n          onChange={handleCharacterSelect}\n          label=\"Character Select\"\n          disableUnderline\n          inputProps={{\n            classes: { select: classes.select },\n          }}\n          renderValue={(characterId) => {\n            const character = getCharacterById(characterId);\n            return (\n              <span className={classes.renderedMenuItem} value={character.id}>\n                <span>\n                  <Avatar\n                    key={`key_${character.name}`}\n                    name={character.name}\n                    variant=\"beam\"\n                    size=\"30px\"\n                    colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n                    className={classes.renderedAvatar}\n                  />\n                </span>\n                <span className={classes.characterName}>{character.name}</span>\n              </span>\n            );\n          }}\n        >\n          {characters.map((character) => (\n            <MenuItem key={character.id} className={classes.menuItem} value={character.id}>\n              <span>\n                <Avatar\n                  key={`key_${character.name}`}\n                  name={character.name}\n                  variant=\"beam\"\n                  size=\"25px\"\n                  colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n                  className={classes.avatar}\n                />\n              </span>\n              <span className={classes.characterName}>{character.name}</span>\n            </MenuItem>\n          ))}\n          <MenuItem className={classes.menuItem} value=\"AddNew\">\n            Add New\n          </MenuItem>\n        </Select>\n      </FormControl>\n    )\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport React from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport uniqBy from \"lodash.uniqby\";\n\nimport { data, Acts } from \"./constants\";\n\nimport {\n  addRandomLoot,\n  addRandomTrait,\n  selectActiveCharacter,\n  toggleMissionDrawerOpen,\n  updateCharacter,\n} from \"./phasmoRPGSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\nimport { addAlert } from \"../../appSlice\";\nimport { randomNumberInRange, randomizeArray } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"80vw\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"45vw\",\n    },\n    textAlign: \"center\",\n    padding: theme.spacing(1.5, 0, 1.5, 0),\n  },\n  missionDetails: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    justifyItems: \"center\",\n    justifyContent: \"center\",\n    gap: theme.spacing(1.5),\n  },\n  difficulty: {\n    width: \"60%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"80%\",\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    width: \"90%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"90%\",\n    },\n  },\n  mapSelect: {\n    width: \"100%\",\n  },\n  missionObjectives: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    gap: theme.spacing(1),\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n    whiteSpace: \"nowrap\",\n  },\n}));\n\nconst renderMapSelectOptions = (act, maps) => {\n  const options = maps\n    .filter((map) => map.unlocked && map.act === act.id)\n    .map((map) => (\n      <MenuItem key={map.id} value={map.id}>\n        {map.display}\n      </MenuItem>\n    ));\n\n  return [<ListSubheader key={act.id}>{act.display}</ListSubheader>, options];\n};\n\nexport default function LogMission() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const activeCharacter = useSelector(selectActiveCharacter);\n  const [missionMap, setMissionMap] = React.useState(activeCharacter.maps[0]);\n  const [missionDifficulty, setMissionDifficulty] = React.useState(activeCharacter.difficulty);\n  const [missionObjectives, setMissionObjectives] = React.useState({\n    foundBone: {\n      checked: true,\n      display: \"Found Bone\",\n      pointValue: 5,\n    },\n    foundOuijaBoard: {\n      checked: false,\n      display: \"Found Ouija Board\",\n      pointValue: 10,\n    },\n    identifiedGhost: {\n      checked: true,\n      display: \"Identified Ghost\",\n      pointValue: 5,\n    },\n    maxPhotoReward: {\n      checked: false,\n      display: \"Max Photo Reward \",\n      pointValue: 15,\n    },\n    survivedHunt: {\n      checked: false,\n      display: \"Survived Hunt\",\n      pointValue: 2,\n    },\n    survivedMission: {\n      checked: true,\n      display: \"Survived Mission\",\n      pointValue: 5,\n    },\n  });\n\n  // Always default to the highest unlocked map\n  React.useEffect(() => {\n    const unlockedMaps = activeCharacter.maps.filter((m) => m.unlocked);\n    setMissionMap(unlockedMaps[unlockedMaps.length - 1]);\n  }, [activeCharacter.maps]);\n\n  const handleMapChange = (event) => {\n    const map = activeCharacter.maps.find((map) => map.id === event.target.value);\n    setMissionMap(map);\n  };\n\n  const handleDifficultyChange = (event) =>\n    event.target.value && setMissionDifficulty(event.target.value);\n\n  const handleObjectiveSettings = (event) =>\n    setMissionObjectives({\n      ...missionObjectives,\n      [event.target.name]: {\n        ...missionObjectives[event.target.name],\n        checked: event.target.checked,\n      },\n    });\n\n  const handleRandomTrait = () => {\n    // Flip a weighted coin to decide if we even get a trait this time\n    const acquiredTrait = Math.random() < 0.3;\n\n    // Stop here if we didn't get a trait this time\n    if (!acquiredTrait) {\n      return dispatch(\n        addAlert({ severity: \"success\", message: \"Successfully avoided acquiring new trait!\" })\n      );\n    }\n\n    // Figure out what traits we have left\n    const availableTraits = data.traits.filter(\n      (trait) => !activeCharacter.traits.some((t) => t.display === trait.display)\n    );\n\n    // Do nothing if we have no traits left to choose from\n    if (availableTraits.length === 0) {\n      return;\n    }\n\n    // Otherwise get a random trait from what's left\n    const randomTrait = randomizeArray(availableTraits).slice(0, 1)[0];\n\n    dispatch(addRandomTrait(randomTrait));\n\n    dispatch(addAlert({ severity: \"warning\", message: `Added Trait: ${randomTrait.display}` }));\n  };\n\n  const handleRandomLoot = () => {\n    const newRandomLoot = data.items\n      .filter(\n        (item) =>\n          [\"hqloot\", \"lqloot\"].includes(item.type) &&\n          item.allowedMaps.includes(missionMap.id) &&\n          Math.random() < item.dropChance\n      )\n      .slice(0, randomNumberInRange(3, 5));\n\n    const newRandomItems = data.items.filter(\n      (item) =>\n        [\"light\", \"junk\"].includes(item.type) &&\n        item.allowedMaps.includes(missionMap.id) &&\n        Math.random() < item.dropChance\n    );\n\n    const allItems = [...activeCharacter.items, ...newRandomLoot, ...newRandomItems];\n\n    // De-duplicate non-loot\n    const nonLoot = uniqBy(\n      allItems.filter((item) => ![\"lqloot\", \"hqloot\"].includes(item.type)),\n      \"display\"\n    );\n\n    // Separate out the loot\n    const justLoot = allItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type));\n\n    // Notify on rare loot\n    if (justLoot.find((item) => item.dropChance <= 0.3)) {\n      dispatch(addAlert({ severity: \"success\", message: \"Rare loot found!\" }));\n    }\n\n    const finalItems = [...justLoot, ...nonLoot];\n\n    dispatch(addRandomLoot(finalItems));\n\n    const newLootCount = finalItems.length - activeCharacter.items.length;\n\n    dispatch(\n      addAlert({\n        severity: \"info\",\n        message: `Found ${newLootCount} ${newLootCount === 1 ? \"item\" : \"items\"}`,\n      })\n    );\n  };\n\n  const calculateMissionPoints = (mission) => {\n    const multiplier = mission.difficulty / 10;\n    const basePoints = mission.map.pointValue;\n    let objectivePoints = 0;\n\n    for (const objective in mission.objectives) {\n      if (mission.objectives[objective].checked) {\n        objectivePoints += mission.objectives[objective].pointValue;\n      }\n    }\n\n    return (basePoints + objectivePoints) * multiplier;\n  };\n\n  const handleUpdateCharacter = () => {\n    const mission = {\n      difficulty: missionDifficulty,\n      map: missionMap,\n      objectives: missionObjectives,\n    };\n\n    const missionPoints = calculateMissionPoints(mission);\n    const totalPoints = missionPoints + activeCharacter.bankedPoints;\n\n    const nextLockedMap = activeCharacter.maps.find((map) => !map.unlocked);\n\n    const traits = activeCharacter.traits\n      .map((trait) => ({\n        ...trait,\n        remaining: trait.duration !== -1 && trait.remaining > 0 ? trait.remaining - 1 : -1,\n      }))\n      .filter((trait) => (trait.duration !== -1 && trait.remaining > 0) || trait.duration === -1);\n\n    const expiredTraitCount = activeCharacter.traits.length - traits.length;\n\n    if (expiredTraitCount > 0) {\n      dispatch(\n        addAlert({\n          severity: \"info\",\n          message: `${expiredTraitCount} ${\n            expiredTraitCount > 1 ? \"effects\" : \"effect\"\n          } has expired! `,\n        })\n      );\n    }\n\n    const updatedCharacter = {\n      ...activeCharacter,\n      difficulty: missionDifficulty,\n      bankedPoints: totalPoints,\n      maps: activeCharacter.maps.map((map) => ({\n        ...map,\n        unlockable: nextLockedMap && nextLockedMap.id === map.id && totalPoints >= map.pointCost,\n      })),\n      traits,\n    };\n\n    dispatch(updateCharacter(updatedCharacter));\n\n    dispatch(\n      addAlert({\n        severity: \"info\",\n        message: `Completed ${missionMap.display} for $${missionPoints}!`,\n      })\n    );\n  };\n\n  const handleMissionComplete = () => {\n    // Close the mission log\n    dispatch(toggleMissionDrawerOpen());\n\n    // Log the mission outcomes\n    handleUpdateCharacter();\n\n    // Randomly acquire 0-1 traits\n    handleRandomTrait();\n\n    // Randomly acquire 1-many loot items\n    handleRandomLoot();\n  };\n\n  const difficultyOptions = [\n    {\n      value: 10,\n      display: \"Amateur\",\n    },\n    {\n      value: 20,\n      display: \"Intermediate\",\n    },\n    {\n      value: 30,\n      display: \"Professional\",\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n      <Readable>\n        <Accent size=\"1.5em\" color=\"accent\" transform=\"uppercase\">\n          Mission Details\n        </Accent>\n      </Readable>\n      <div className={classes.missionDetails}>\n        <div className={classes.mapSelect}>\n          <FormControl className={classes.formControl}>\n            <InputLabel id=\"mission-details-log-map\">Location</InputLabel>\n            <Select\n              labelId=\"mission-details-log-map\"\n              value={missionMap.id}\n              id=\"mission-details-log-map-select\"\n              onChange={handleMapChange}\n            >\n              {Acts.map((act) => renderMapSelectOptions(act, activeCharacter.maps))}\n            </Select>\n            {/* <FormHelperText>Location</FormHelperText> */}\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <InputLabel id=\"mission-details-log-map\">Difficulty</InputLabel>\n            <Select\n              labelId=\"mission-details-log-map\"\n              value={missionDifficulty}\n              id=\"mission-details-log-map-select\"\n              onChange={handleDifficultyChange}\n            >\n              {difficultyOptions.map((difficulty) => (\n                <MenuItem key={difficulty.display} value={difficulty.value}>\n                  {difficulty.display}\n                </MenuItem>\n              ))}\n            </Select>\n            {/* <FormHelperText>Location</FormHelperText> */}\n          </FormControl>\n        </div>\n        <div>\n          <FormControl component=\"fieldset\" className={classes.formControl}>\n            <FormLabel component=\"legend\">\n              <Accent size=\"1.1em\" color=\"accent\" transform=\"uppercase\">\n                Completed Objectives\n              </Accent>\n            </FormLabel>\n            <FormGroup className={classes.missionObjectives}>\n              {Object.keys(missionObjectives).map((objectiveKey) => (\n                <FormControlLabel\n                  key={objectiveKey}\n                  control={\n                    <Checkbox\n                      checked={missionObjectives[objectiveKey].checked}\n                      onChange={handleObjectiveSettings}\n                      name={objectiveKey}\n                    />\n                  }\n                  label={missionObjectives[objectiveKey].display}\n                />\n              ))}\n            </FormGroup>\n            <FormHelperText>On Your Honor!</FormHelperText>\n          </FormControl>\n        </div>\n        <Button onClick={() => handleMissionComplete()} variant=\"outlined\">\n          Complete Mission\n        </Button>\n      </div>\n    </div>\n  );\n}\n","export const randomizeArray = (array) => array.sort(() => Math.random() - 0.5);\n\nexport const randomNumberInRange = (min, max) => Math.floor(Math.random() * (max - min) + min);\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport sortBy from \"lodash.sortby\";\n\nimport { addAlert } from \"../../appSlice\";\nimport { buyItem, sellItem, selectActiveCharacter } from \"./phasmoRPGSlice\";\nimport { data } from \"./constants\";\nimport Readable from \"../../common/Readable\";\n\nconst useStyles = makeStyles((theme) => ({\n  accordion: {\n    backgroundColor: theme.palette.background.default,\n  },\n  accordionDetails: {\n    display: \"block\",\n  },\n  accordionSummary: {\n    \"&:hover\": {\n      color: `${theme.palette.text.secondary} !important`,\n    },\n  },\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  hasHQLoot: {\n    color: theme.palette.text.accent,\n  },\n  characterTraitsDetails: {\n    padding: theme.spacing(0, 1, 0, 1),\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyItems: \"space-between\",\n    justifyContent: \"space-between\",\n    textAlign: \"left\",\n    \"& > span\": {\n      fontSize: \"0.8em\",\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"0.7em !important\",\n      },\n    },\n  },\n  buyItem: {\n    color: theme.palette.error.main,\n  },\n  sellItem: {\n    color: theme.palette.success.main,\n  },\n  toggleStoreMode: {\n    cursor: \"pointer\",\n    textTransform: \"uppercase\",\n    fontSize: \"0.6em\",\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"0.4em\",\n    },\n  },\n  itemTypeJunk: {\n    color: theme.palette.text.disabled,\n  },\n  itemTypeEvidence: {\n    color: theme.palette.text.secondary,\n  },\n  itemTypeLQLoot: {\n    color: theme.palette.success.dark,\n  },\n  itemTypeHQLoot: {\n    color: theme.palette.text.accent,\n  },\n  itemTypeObjectives: {\n    color: theme.palette.text.secondary,\n  },\n  storeHeader: {\n    display: \"grid\",\n    justifyContent: \"space-between\",\n    justifyItems: \"space-between\",\n    gridTemplateColumns: \"1fr auto\",\n    \"& > span\": {\n      justifySelf: \"flex-start\",\n      alignSelf: \"center\",\n      color: theme.palette.text.secondary,\n      fontWeight: \"bold\",\n    },\n  },\n  storeModeSelected: {\n    color: theme.palette.secondary.light,\n  },\n  flipAnimation: {\n    webkitAnimation: \"flip-vertical-right 0.4s cubic-bezier(0.455, 0.030, 0.515, 0.955) both\",\n    animation: \"flip-vertical-right 0.4s cubic-bezier(0.455, 0.030, 0.515, 0.955) both\",\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(1, 1, 1, 1),\n    borderRadius: theme.spacing(0.5),\n    margin: theme.spacing(1, 0, 0, 0),\n  },\n  sellLootHover: {\n    backgroundColor: `${theme.palette.action.disabledBackground} !important`,\n  },\n  storeButtons: {\n    display: \"flex\",\n    \"& > *\": {\n      alignSelf: \"center\",\n    },\n  },\n}));\n\nexport default function Equipment() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n  const [storeMode, setStoreMode] = React.useState(\"sell\");\n  const [sellLootHover, setSellLootHover] = React.useState(false);\n\n  const characterItems = React.useMemo(() => sortBy(character.items, [\"sortWeight\"]), [character]);\n  const sellableLoot = React.useMemo(\n    () => characterItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type)),\n    [characterItems]\n  );\n\n  const sellableLootTotal = React.useMemo(\n    () => sellableLoot.reduce((totalValue, item) => totalValue + item.pointValues.sell, 0),\n    [sellableLoot]\n  );\n\n  const handleStoreModeToggle = () => setStoreMode((prev) => (prev === \"sell\" ? \"buy\" : \"sell\"));\n  const handleSellJunk = () => {\n    const junk = characterItems.filter((item) => [\"lqloot\", \"hqloot\"].includes(item.type));\n    if (junk.length > 0) {\n      let totalValue = 0;\n      for (const item of junk) {\n        totalValue += item.pointValues.sell;\n        dispatch(sellItem(item));\n      }\n\n      dispatch(\n        addAlert({\n          severity: \"success\",\n          message: `Sold ${junk.length} loot items for $${totalValue}`,\n        })\n      );\n    }\n  };\n\n  const characterHasHQLoot = React.useMemo(\n    () => characterItems.find((item) => item.type === \"hqloot\"),\n    [characterItems]\n  );\n\n  return (\n    <div className={classes.root}>\n      <Accordion className={classes.accordion}>\n        <AccordionSummary\n          className={clsx(classes.accordionSummary, { [classes.hasHQLoot]: characterHasHQLoot })}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography className={classes.heading}>Equipment ({characterItems.length})</Typography>\n        </AccordionSummary>\n        <AccordionDetails className={classes.accordionDetails}>\n          <div className={classes.storeHeader}>\n            <span className={classes.storeButtons}>\n              <Readable onClick={handleStoreModeToggle} className={classes.toggleStoreMode}>\n                <span className={clsx({ [classes.storeModeSelected]: storeMode === \"sell\" })}>\n                  Inventory\n                </span>\n                <Switch\n                  checked={storeMode === \"buy\"}\n                  name=\"storeMode\"\n                  inputProps={{ \"aria-label\": \"store inventory checkbox\" }}\n                  color=\"default\"\n                />\n\n                <span className={clsx({ [classes.storeModeSelected]: storeMode === \"buy\" })}>\n                  Store\n                </span>\n              </Readable>\n            </span>\n            {storeMode === \"sell\" && (\n              <Button\n                onMouseEnter={() => setSellLootHover(true)}\n                onMouseLeave={() => setSellLootHover(false)}\n                variant=\"text\"\n                className={classes.toggleStoreMode}\n                onClick={() => handleSellJunk()}\n                disabled={sellableLoot.length === 0}\n              >\n                Sell Loot (${sellableLootTotal})\n              </Button>\n            )}\n          </div>\n          {storeMode === \"sell\" ? (\n            <div key=\"inventory_items\" className={classes.flipAnimation}>\n              {characterItems.map((item, index) => (\n                <div\n                  key={`${character.id}_owned_${item.id}_${index}`}\n                  className={clsx(classes.characterTraitsDetails, {\n                    [classes.sellLootHover]:\n                      [\"hqloot\", \"lqloot\"].includes(item.type) && sellLootHover,\n                  })}\n                >\n                  <Readable\n                    className={clsx({\n                      [classes.itemTypeJunk]: item.type === \"junk\",\n                      [classes.itemTypeLQLoot]: item.type === \"lqloot\",\n                      [classes.itemTypeHQLoot]: item.type === \"hqloot\",\n                      [classes.itemTypeEvidence]: item.type === \"evidence\",\n                      [classes.itemTypeObjectives]: item.type === \"objectives\",\n                    })}\n                  >\n                    {item.display}\n                  </Readable>\n                  {[\"hqloot\", \"lqloot\"].includes(item.type) && (\n                    <Readable className={classes.sellItem}>+${item.pointValues.sell}</Readable>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div key=\"store_items\" className={classes.flipAnimation}>\n              {data.items\n                .filter(\n                  (item) =>\n                    [\"evidence\", \"objectives\", \"light\"].includes(item.type) &&\n                    !characterItems.find((i) => i.display === item.display)\n                )\n                .sort((a, b) => b.pointValues.buy - a.pointValues.buy)\n                .map((item, index) => (\n                  <div\n                    className={classes.characterTraitsDetails}\n                    key={`${character.id}_store_${item.id}_${index}`}\n                  >\n                    <Readable\n                      className={clsx({\n                        [classes.itemTypeJunk]: item.type === \"junk\",\n                        [classes.itemTypeEvidence]: item.type === \"evidence\",\n                        [classes.itemTypeObjectives]: item.type === \"objectives\",\n                      })}\n                    >\n                      {item.display}\n                    </Readable>\n                    <Button\n                      disabled={character.bankedPoints < item.pointValues.buy}\n                      onClick={() => dispatch(buyItem(item))}\n                      className={classes.buyItem}\n                      variant=\"text\"\n                    >\n                      -${item.pointValues.buy}\n                    </Button>\n                  </div>\n                ))}\n            </div>\n          )}\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport { addAlert } from \"../../appSlice\";\nimport { removeTrait, selectActiveCharacter } from \"./phasmoRPGSlice\";\nimport Accent from \"../../common/Accent\";\nimport Readable from \"../../common/Readable\";\nimport Filter1Icon from \"@material-ui/icons/Filter1\";\nimport Filter2Icon from \"@material-ui/icons/Filter2\";\nimport Filter3Icon from \"@material-ui/icons/Filter3\";\n\nconst useStyles = makeStyles((theme) => ({\n  accordion: {\n    backgroundColor: theme.palette.background.default,\n  },\n  accordionDetails: {\n    display: \"block\",\n    \"& > div\": {\n      padding: theme.spacing(1),\n      borderRadius: \"5px\",\n    },\n    \"& > div:nth-child(odd)\": {\n      backgroundColor: theme.palette.background.paper,\n    }\n  },\n  accordionSummary: {\n    \"&:hover\": {\n      color: theme.palette.text.secondary,\n    },\n  },\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  removeTrait: {\n    color: theme.palette.error.main,\n  },\n  characterTraitsDetails: {\n    fontSize: \"0.6em\",\n    display: \"grid\",\n    gridTemplateColumns: \"auto 1fr auto\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyItems: \"space-between\",\n    gap: theme.spacing(1.5),\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Traits() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n\n  const handleRemoveTrait = (trait) => {\n    dispatch(removeTrait(trait));\n    dispatch(\n      addAlert({\n        severity: \"success\",\n        message: `Removed Trait: ${trait.display}`,\n      })\n    );\n    dispatch(\n      addAlert({\n        severity: \"error\",\n        message: `Lost: $${trait.category.removalCost}`,\n      })\n    );\n  };\n\n  const renderRemainingRoundsIcon = (duration) => {\n    switch (duration) {\n      case -1:\n        return (\n          <Accent color=\"error\">\n            <TimerOffIcon />\n          </Accent>\n        );\n      case 1:\n        return (\n          <Accent color=\"accent\">\n            <Filter1Icon />\n          </Accent>\n        );\n      case 2:\n        return (\n          <Accent color=\"accent\">\n            <Filter2Icon />\n          </Accent>\n        );\n      case 3:\n        return (\n          <Accent color=\"accent\">\n            <Filter3Icon />\n          </Accent>\n        );\n      default:\n        return (\n          <Accent color=\"disabled\">\n            <TimerOffIcon />\n          </Accent>\n        );\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion className={classes.accordion}>\n        <AccordionSummary\n          className={classes.accordionSummary}\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography className={classes.heading}>Effects ({character.traits.length})</Typography>\n        </AccordionSummary>\n        <AccordionDetails className={classes.accordionDetails}>\n          {character.traits.map((trait) => (\n            <div className={classes.characterTraitsDetails} key={trait.id}>\n              <Readable>{renderRemainingRoundsIcon(trait.remaining)}</Readable>\n              <Readable>\n                <Accent color=\"contrast\">{trait.display}</Accent>: {trait.description}\n              </Readable>\n              <Button\n                onClick={() => handleRemoveTrait(trait)}\n                disabled={character.bankedPoints < trait.removalCost}\n                className={classes.removeTrait}\n                variant=\"text\"\n              >\n                <span>-${trait.removalCost}</span>\n              </Button>\n            </div>\n          ))}\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Xarrow from \"react-xarrows\";\nimport CharacterSelect from \"./CharacterSelect\";\n\nimport { addAlert } from \"../../appSlice\";\nimport { data, Acts } from \"./constants\";\n\nimport {\n  deleteCharacter,\n  selectActiveCharacter,\n  selectMissionDrawerOpen,\n  setNextUnlockableMap,\n  toggleMissionDrawerOpen,\n  unlockMap,\n} from \"./phasmoRPGSlice\";\nimport LogMission from \"./LogMission\";\nimport Readable from \"../../common/Readable\";\nimport Equipment from \"./Equipment\";\nimport Traits from \"./Traits\";\n\nconst useStyles = makeStyles((theme) => ({\n  act: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"column\",\n    gap: theme.spacing(3),\n    backgroundColor: theme.palette.background.papercontrast,\n    height: \"100%\",\n    borderRadius: \"5px\",\n    padding: theme.spacing(1),\n  },\n  actsContainer: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    alignItems: \"flex-start\",\n    alignContent: \"flex-start\",\n    gap: theme.spacing(2),\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n  },\n  actTitle: {\n    fontSize: \"1.2em\",\n    textTransform: \"uppercase\",\n  },\n  bankedPoints: {\n    color: theme.palette.success.main,\n  },\n  characterIcons: {\n    display: \"flex\",\n    gap: theme.spacing(1.5),\n  },\n  characterSheetHeader: {\n    alignContent: \"center\",\n    color: theme.palette.secondary.light,\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    gap: theme.spacing(1.5),\n    justifyContent: \"center\",\n    justifyItems: \"center\",\n  },\n  characterMoney: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: theme.spacing(1.5),\n  },\n  characterPanel: {\n    borderRadius: theme.spacing(0.5),\n    padding: theme.spacing(2, 1, 2, 1),\n    margin: theme.spacing(1, 0, 1, 0),\n  },\n  characterProperties: {\n    display: \"grid\",\n    gap: theme.spacing(2),\n    gridTemplateColumns: \"1fr\",\n    [theme.breakpoints.up(\"md\")]: {\n      gridTemplateColumns: \"1fr 1fr\",\n    },\n    margin: theme.spacing(1, 0, 1.5, 0),\n  },\n  characterTraitsTitle: {\n    backgroundColor: theme.palette.background.paperalt,\n    color: theme.palette.secondary.light,\n  },\n  characterTraitsDetails: {\n    fontSize: \"0.6em\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr auto\",\n    alignItems: \"flex-start\",\n    textAlign: \"left\",\n  },\n  firstMap: {\n    backgroundColor: theme.palette.secondary.dark,\n    color: theme.palette.text.accent,\n  },\n  mapArrow: {\n    zIndex: 999,\n  },\n  firstMapArrow: {\n    color: theme.palette.text.accent,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 115,\n  },\n  mapIcon: {\n    margin: 0,\n    padding: 0,\n    marginTop: theme.spacing(1),\n  },\n  mapLocked: {\n    color: theme.palette.error.dark,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n      color: theme.palette.error.light,\n    },\n  },\n  mapButton: {\n    border: \"2px solid transparent\",\n    fontFamily: \"Indie Flower; cursive\",\n    fontSize: \"0.9em\",\n    display: \"grid\",\n    justifyContent: \"stretch\",\n    gridTemplateColumns: \"1fr\",\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"0.6em\",\n    },\n  },\n  mapButtonUnlocked: {\n    backgroundColor: theme.palette.success.dark,\n  },\n  mapButtonLocked: {\n    backgroundColor: `${theme.palette.background.default} !important`,\n    color: theme.palette.error.dark,\n  },\n  mapButtonUnlockable: {\n    border: `2px solid ${theme.palette.success.main}`,\n    \"&:hover\": {\n      backgroundColor: `${theme.palette.background.paper} !important`,\n    },\n  },\n  mapName: {\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    display: \"flex\",\n    gap: theme.spacing(1),\n    padding: theme.spacing(0.5),\n    justifyContent: \"space-between\",\n    border: \"2px solid transparent\",\n    borderRadius: \"5px\",\n  },\n  mapTile: {\n    margin: theme.spacing(0.5),\n    [theme.breakpoints.up(\"md\")]: {\n      margin: theme.spacing(1),\n    },\n  },\n  mapUnlocked: {\n    color: theme.palette.success.light,\n  },\n  mapWidget: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.disabled,\n  },\n  characterButtons: {\n    display: \"flex\",\n    gap: theme.spacing(1.5),\n    justifyContent: \"center\",\n  },\n  deleteCharacter: {\n    margin: theme.spacing(2, 0, 0, 0),\n    padding: theme.spacing(1),\n    color: theme.palette.error.dark,\n    \"&:hover\": {\n      color: theme.palette.text.secondary,\n      backgroundColor: theme.palette.error.main,\n    },\n  },\n  root: {\n    margin: theme.spacing(1, 0, 0, 0),\n    width: \"95vw\",\n  },\n  removeTrait: {\n    color: theme.palette.error.main,\n  },\n}));\n\nexport default function CharacterPreview() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const character = useSelector(selectActiveCharacter);\n  const missionDrawerOpen = useSelector(selectMissionDrawerOpen);\n  const [actsByMap, setActsByMap] = React.useState();\n\n  React.useEffect(() => {\n    if (character) {\n      const actsByMap = {\n        act1: character.maps.filter((m) => m.act === \"act1\"),\n        act2: character.maps.filter((m) => m.act === \"act2\"),\n        act3: character.maps.filter((m) => m.act === \"act3\"),\n      };\n      setActsByMap(actsByMap);\n    }\n  }, [character]);\n\n  const mapRefs = {\n    tanglewood: React.useRef(null),\n    ridgeview: React.useRef(null),\n    edgefield: React.useRef(null),\n    bleasdale: React.useRef(null),\n    grafton: React.useRef(null),\n    brownstone: React.useRef(null),\n    prison: React.useRef(null),\n    asylum: React.useRef(null),\n  };\n\n  const handleUnlockAttempt = (map) => {\n    dispatch(unlockMap(map.id));\n    dispatch(setNextUnlockableMap());\n\n    dispatch(\n      addAlert({\n        severity: \"success\",\n        message: `Unlocked Map: ${map.display}`,\n      })\n    );\n    dispatch(\n      addAlert({\n        severity: \"error\",\n        message: `Lost: $${map.pointCost}`,\n      })\n    );\n  };\n\n  return actsByMap && character ? (\n    <Paper elevation={3} className={clsx(classes.root, classes.characterPanel)} component=\"div\">\n      <div className={classes.characterSheetHeader}>\n        <div className={classes.characterIcons}>\n          <span>\n            <CharacterSelect />\n          </span>\n          <Readable className={classes.characterMoney}>\n            <span className={classes.bankedPoints}>${character.bankedPoints}</span>\n          </Readable>\n        </div>\n      </div>\n      {Object.keys(character).length > 0 && (\n        <Drawer\n          anchor={\"right\"}\n          open={missionDrawerOpen}\n          onClose={() => dispatch(toggleMissionDrawerOpen())}\n        >\n          <LogMission character={character} />\n        </Drawer>\n      )}\n      <span className={classes.characterProperties}>\n        <Equipment />\n        <Traits />\n      </span>\n      <div className={classes.actsContainer}>\n        {Acts.map((act) => (\n          <Paper key={`level_${act.id}`} className={classes.act}>\n            <Readable className={classes.actTitle}>{act.display}</Readable>\n            {actsByMap[act.id].map((map, index) => {\n              const nextIndex = index + 1 === actsByMap[act.id].length ? null : index + 1;\n              return (\n                <Paper\n                  key={map.id}\n                  component={({ children }) => (\n                    <Button\n                      onClick={() => handleUnlockAttempt(map)}\n                      disabled={map.unlocked || !map.unlockable}\n                      className={clsx(classes.mapButton, {\n                        [classes.mapButtonLocked]: !map.unlocked,\n                        [classes.mapButtonUnlocked]: map.unlocked,\n                        [classes.mapButtonUnlockable]: map.unlockable,\n                      })}\n                      variant=\"contained\"\n                    >\n                      {children}\n                    </Button>\n                  )}\n                >\n                  <span>\n                    <span ref={mapRefs[map.id]} className={classes.mapName}>\n                      {map.unlocked ? (\n                        <LockOpenIcon className={classes.mapUnlocked} />\n                      ) : (\n                        <LockIcon />\n                      )}\n                      {map.display} {!map.unlocked && <Readable>-${map.pointCost}</Readable>}\n                      <span className={classes.mapIcon}>{data.iconMapMap[map.id]}</span>\n                    </span>\n                    {nextIndex && (\n                      <Xarrow\n                        startAnchor=\"bottom\"\n                        endAnchor=\"top\"\n                        start={mapRefs[map.id]}\n                        end={mapRefs[actsByMap[act.id][nextIndex].id]}\n                        color={map.unlocked ? \"orange\" : \"grey\"}\n                        className={clsx(classes.mapArrow, {\n                          [classes.firstMapArrow]: map.unlocked,\n                        })}\n                      />\n                    )}\n                  </span>\n                </Paper>\n              );\n            })}\n          </Paper>\n        ))}\n      </div>\n      <Button\n        className={classes.deleteCharacter}\n        onClick={() => dispatch(deleteCharacter(character))}\n      >\n        Delete Character\n      </Button>\n    </Paper>\n  ) : null;\n}\n","import { debounce } from \"lodash-es\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport Avatar from \"boring-avatars\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { data } from \"./constants\";\n\nimport {\n  selectActiveCharacter,\n  selectCharacters,\n  setCharacterActive,\n  saveCharacter,\n} from \"./phasmoRPGSlice\";\nimport CharacterPreview from \"./CharacterPreview\";\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {},\n  characterCreator: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n  },\n  createCharacter: {\n    width: 200,\n    justifySelf: \"center\",\n  },\n  cancelButton: {\n    color: theme.palette.error.main,\n  },\n  existingCharacters: {\n    display: \"flex\",\n    gap: theme.spacing(1),\n    justifyContent: \"center\",\n    padding: theme.spacing(2),\n    width: \"95vw\",\n    borderRadius: \"5px\",\n    alignContent: \"center\",\n    \"& > .existingCharacterButton\": {\n      padding: 0,\n      margin: 0,\n    },\n  },\n  isActive: {\n    border: `2px solid ${theme.palette.text.accent} !important`,\n  },\n  existingCharacterTile: {\n    backgroundColor: theme.palette.background.papercontrast,\n    border: \"2px solid transparent\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.background.paperalt,\n      cursor: \"pointer\",\n    },\n    \"&:active\": {\n      backgroundColor: theme.palette.background.default,\n      cursor: \"pointer\",\n    },\n  },\n  newCharacter: {\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"50vw\",\n    },\n    borderRadius: \"5px\",\n    justifySelf: \"center\",\n    padding: \"20px\",\n    width: \"350px\",\n  },\n  root: {\n    margin: theme.spacing(0, 1, 0, 1),\n  },\n}));\n\nconst randomize = (array) => array.sort(() => Math.random() - 0.5);\n\nconst getRandomChunkFromRange = (start, end, splitBy) => {\n  const range = end - start;\n  const chunkCount = Math.floor(range / splitBy);\n  const chunkSize = range / chunkCount;\n\n  let chunks = [start];\n  for (let i = 0; i < chunkCount; i++) {\n    chunks = [...chunks, chunkSize + chunks[chunks.length - 1]];\n  }\n\n  return chunks.sort(() => Math.random() - 0.5)[0];\n};\n\nconst CreateCharacter = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const characters = useSelector(selectCharacters);\n  const [characterName, setCharacterName] = React.useState(\"\");\n\n  const handleKeyUp = debounce((e) => {\n    if (e.code === \"Enter\") {\n      handleClick();\n    } else {\n      setCharacterName(e.target.value.trim());\n    }\n  }, 100);\n\n  const handleClick = () => {\n    if (characterName.length > 0) {\n      const starterItems = data.items.filter((item) => item.category.id === \"starter\");\n\n      const items = [...starterItems];\n      const traits = [...data.traits];\n\n      const randomItems = randomize(items).slice(0, 2);\n      const randomTraits = randomize(traits).slice(0, 1);\n\n      const actRangeMap = {\n        act1: [1000, 2500],\n        act2: [2500, 4000],\n        act3: [4000, 5500],\n      };\n\n      let maps = data.maps\n        .map((map) => ({\n          ...map,\n          pointCost: getRandomChunkFromRange(actRangeMap[map.act][0], actRangeMap[map.act][1], 250),\n        }))\n        .sort((a, b) => {\n          return a.pointCost - b.pointCost;\n        });\n\n      // Unlock the first map\n      maps[0] = {\n        ...maps[0],\n        unlocked: true,\n      };\n\n      dispatch(\n        saveCharacter({\n          money: 0,\n          items: randomItems,\n          traits: randomTraits,\n          maps,\n          difficulty: 30,\n          name: characterName,\n        })\n      );\n    }\n  };\n\n  return (\n    <div className={classes.characterCreator}>\n      <TextField\n        autoFocus={true}\n        className={classes.newCharacter}\n        id=\"filled-basic\"\n        margin=\"dense\"\n        helperText=\"New Character Name\"\n        variant=\"standard\"\n        onKeyUp={handleKeyUp}\n      />\n      <span>\n        <Button className={classes.createCharacter} onClick={() => handleClick()}>\n          Create Character\n        </Button>\n        {characters.length > 0 && (\n          <Button\n            className={classes.cancelButton}\n            onClick={() => dispatch(setCharacterActive(characters[0].id))}\n          >\n            Cancel\n          </Button>\n        )}\n      </span>\n      <CharacterPreview />\n    </div>\n  );\n};\n\nexport const CharacterButton = ({ character }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  // Set a character active or set none which shows the add new character input\n  const handleClick = () => dispatch(setCharacterActive((character && character.id) || null));\n\n  return (\n    <Button className=\"existingCharacterButton\" onClick={() => handleClick()}>\n      {character ? (\n        <Paper\n          title={character.name}\n          className={clsx(classes.existingCharacterTile, {\n            [classes.isActive]: character.isActive,\n          })}\n          component=\"span\"\n        >\n          <Avatar\n            key={`key_${character.name}`}\n            name={character.name}\n            variant=\"beam\"\n            size=\"25px\"\n            colors={[\"#92A1C6\", \"#146A7C\", \"#F0AB3D\", \"#C271B4\", \"#C20D90\"]}\n            className={classes.avatar}\n          />\n        </Paper>\n      ) : (\n        <Paper title=\"Add New Character\" className={classes.existingCharacterTile} component=\"span\">\n          <AddBoxIcon />\n        </Paper>\n      )}\n    </Button>\n  );\n};\n\nexport default function PhasmoRPG() {\n  const classes = useStyles();\n  const activeCharacter = useSelector(selectActiveCharacter);\n\n  return (\n    <div className={classes.root}>\n      {activeCharacter ? <CharacterPreview /> : <CreateCharacter />}\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport MoneyOffIcon from \"@material-ui/icons/MoneyOff\";\nimport React from \"react\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\n\nimport Accent from \"../../common/Accent\";\nimport IconButton from \"../../common/IconButton\";\nimport Readable from \"../../common/Readable\";\n\nimport {\n  addPhoto,\n  reset as resetPhotoCalculator,\n  // selectCollectedPhotos,\n  selectPhotos,\n  selectPhotoCount,\n  selectTotalValue,\n} from \"./photoCalculatorSlice\";\nimport { photoDistances } from \"./constants\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n  disabled: {\n    opacity: \"0.5\",\n    pointerEvents: \"none\",\n  },\n  disablePhotoType: {\n    gridArea: \"disablePhotoType\",\n    justifySelf: \"flex-end\",\n    margin: 0,\n    padding: 0,\n  },\n  disablePhotoTypeButton: {\n    color: theme.palette.error.main,\n    margin: 0,\n    padding: 0,\n    \"&:hover\": {\n      background: \"none\",\n      color: theme.palette.error.dark,\n    },\n  },\n  photoTypes: {\n    justifySelf: \"flex-end\",\n    gridArea: \"photoTypes\",\n    color: theme.palette.secondary.light,\n  },\n  photoStars: {\n    gridArea: \"photoStars\",\n    justifySelf: \"center\",\n  },\n  photoTypeCount: {\n    gridArea: \"photoTypeCount\",\n    justifySelf: \"flex-start\",\n  },\n  photoTotalValue: {\n    gridArea: \"photoTotalValue\",\n  },\n  photoDetails: {\n    padding: 0,\n    margin: 0,\n    display: \"grid\",\n    gridTemplateColumns: \"1fr\",\n    justifyContent: \"center\",\n    justifyItems: \"center\",\n    justifySelf: \"center\",\n    width: \"100vw\",\n  },\n  photoTypeContainer: {\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n    margin: 0,\n    width: \"90vw\",\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    gridTemplateAreas: '\"photoTypes photoStars photoTypeCount\"',\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    gap: \"10px\",\n  },\n  resetButton: {\n    opacity: \"0.5\",\n    \"&:hover\": {\n      background: \"none\",\n    },\n  },\n  resetButtonActive: {\n    opacity: 1,\n    color: theme.palette.error.main,\n    \"&:hover\": {\n      color: theme.palette.error.dark,\n      background: \"none\",\n    },\n  },\n  root: {\n    padding: \"10px 0 10px 0\",\n  },\n  starIcons: {\n    \"& > button\": {\n      color: theme.palette.text.accent,\n    },\n  },\n  subtitle: {\n    fontSize: \"0.85em\",\n    margin: \"-10px 0 10px 0 \",\n  },\n  title: {\n    margin: \"10px 0 0 0\",\n    fontSize: \"1.4em\",\n  },\n}));\n\nexport default function PhotoCalculator() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  // const collectedPhotos = useSelector(selectCollectedPhotos);\n  const totalValue = useSelector(selectTotalValue);\n  const photos = useSelector(selectPhotos);\n  const collectedPhotoCount = useSelector(selectPhotoCount);\n\n  const collectPhoto = (photo) => () => {\n    dispatch(addPhoto(photo));\n  };\n\n  const isBookFull = React.useMemo(() => collectedPhotoCount >= 10, [collectedPhotoCount]);\n\n  // const collectedPhotoPoints = React.useMemo(\n  //   () =>\n  //     collectedPhotos.reduce((points, photo) => {\n  //       return points + photo.points;\n  //     }, 0),\n  //   [collectedPhotos]\n  // );\n\n  // const maxPossible = React.useMemo(() => {\n  //   const enabled = photos.filter((photo) => photo.enabled);\n  //   const missed = photos.filter((photo) => !photo.enabled && photo.count < photo.limit);\n  //   let photoLimit = 10 - collectedPhotos.length;\n  //   let photoCount = 0;\n  //   console.log(enabled);\n  //   const remainingPhotoPoints = enabled.reduce((total, photoType) => {\n  //     // Stop counting past the remaining allowed photos\n  //     if (photoCount >= photoLimit) return total;\n\n  //     // How many of this type can we collect?\n  //     let photoTypeLimit = photoType.limit - photoType.count;\n\n  //     // If we would exceed our limit, take the difference for the available photos remaining\n  //     if (photoTypeLimit + photoCount >= photoLimit) {\n  //       photoTypeLimit = photoTypeLimit - photoCount;\n  //     }\n\n  //     photoCount += photoTypeLimit;\n\n  //     return total + photoValues[photoType.id][3] * photoTypeLimit;\n  //   }, 0);\n\n  //   // Account for missed (disabled) photos (ex, ouija board)\n  //   const unavailablePhotoPoints = missed.reduce((total, photoType) => {\n  //     return total + photoValues[photoType.id][3] * (photoType.limit - photoType.count);\n  //   }, 0);\n\n  //   // Return max possible value, capped at 40\n  //   return photoTotalConverter(\n  //     collectedPhotoPoints + remainingPhotoPoints - unavailablePhotoPoints\n  //   );\n  // }, [collectedPhotos.length, photos, collectedPhotoPoints]);\n\n  const handleResetClick = () => dispatch(resetPhotoCalculator());\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>\n        Photo Calculator\n        <IconButton\n          className={clsx(classes.resetButton, { [classes.resetButtonActive]: totalValue > 0 })}\n          onClick={handleResetClick}\n          aria-label=\"reset photos\"\n          title=\"Reset Photos\"\n        >\n          <MoneyOffIcon />\n        </IconButton>\n      </div>\n      <div className={classes.subtitle}>\n        <Readable>\n          Click the Stars to Collect Photos |{\" \"}\n          <Accent>\n            ${totalValue}\n          </Accent>{\" \"}\n          | <Accent>{collectedPhotoCount} photos</Accent>\n        </Readable>\n      </div>\n      <div className={classes.photoDetails}>\n        {photos.map((photoType) => (\n          <span\n            className={clsx(classes.photoTypeContainer, {\n              [classes.disabled]: !photoType.enabled || isBookFull,\n            })}\n            key={photoType.id}\n          >\n            <span className={classes.photoTypes}>{photoType.display}</span>\n            {/* <span className={classes.disablePhotoType}>\n              {[\"bone\", \"ouijaboard\"].includes(photoType.id) && (\n                <IconButton\n                  className={classes.disablePhotoTypeButton}\n                  onClick={() => dispatch(disablePhotoType(photoType.id))}\n                  title={`Click if you could not find the ${photoType.display}`}\n                >\n                  <NotInterestedIcon />\n                </IconButton>\n              )}\n            </span> */}\n            <span className={classes.photoStars}>\n              <ButtonGroup\n                key={photoType.id}\n                color=\"primary\"\n                aria-label={`${photoType.id} button group`}\n                variant=\"text\"\n                className={classes.starIcons}\n              >\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[1] : photoDistances.other[1]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 1, ...photoType })} />\n                </Button>\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[2] : photoDistances.other[2]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 2, ...photoType })} />\n                </Button>\n                <Button title={photoType.id === 'ghost' ? photoDistances.ghost[3] : photoDistances.other[3]}>\n                  <StarBorderIcon onClick={collectPhoto({ stars: 3, ...photoType })} />\n                </Button>\n              </ButtonGroup>\n            </span>\n            <span className={classes.photoTypeCount}>\n              <Readable>{photoType.count}</Readable>\n            </span>\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","export const palettes = {\n  dark: {\n    palette: {\n      type: \"dark\",\n      action: {\n        hover: \"#15527a\",\n      },\n      primary: {\n        main: \"#0582ca\",\n        light: \"#00a6fb\",\n        dark: \"#006494\",\n      },\n      background: {\n        default: \"#272733\",\n        paper: \"#2b2d42\",\n        paperalt: \"#402f4a\",\n        papercontrast: \"#3d2033\",\n        paperhighlight: \"#5728a1\",\n      },\n      secondary: {\n        main: \"#5e548e\",\n        dark: \"#231942\",\n        light: \"#9f86c0\",\n      },\n      ghostName: {\n        background: \"#2b2d42\",\n      },\n      ghosts: {\n        background: \"#2b2d42\",\n        invalid: \"#5c677d\",\n        valid: \"#2a628f\",\n      },\n      info: {\n        main: \"#5aa9e6\",\n      },\n      text: {\n        primary: \"#5fa8d3\",\n        secondary: \"#cae9ff\",\n        contrast: \"#8ac926\",\n        accent: \"#ffbc0a\",\n        error: \"#ff0000\",\n      },\n    },\n  },\n  light: {\n    palette: {\n      type: \"light\",\n      action: {\n        hover: \"#33a1fd\",\n      },\n      background: {\n        default: \"#e8decf\",\n        paper: \"#b1cf9f\",\n        paperalt: \"#6897b0\",\n        papercontrast: \"#c5d86d\",\n      },\n      primary: {\n        main: \"#c8d5b9\",\n        light: \"#faf3dd\",\n        dark: \"#8fc0a9\",\n      },\n      secondary: {\n        main: \"#d3bccc\",\n        dark: \"#a167a5\",\n        light: \"#604e69\",\n      },\n      ghostName: {\n        background: \"#b8bedd\",\n      },\n      ghosts: {\n        background: \"#4f6d7a\",\n        invalid: \"#4f6d7a\",\n        valid: \"#4872b5\",\n      },\n      info: {\n        main: \"#1957db\",\n      },\n      text: {\n        primary: \"#3d718f\",\n        secondary: \"#cae9ff\",\n        contrast: \"#8ac926\",\n        accent: \"#33a1fd\",\n      },\n    },\n  },\n};\n\nexport const initialState = {\n  themeTypes: [\"dark\", \"light\"],\n  themeType: \"dark\",\n  themes: palettes,\n};\n","import React from \"react\";\n\nimport {\n  unstable_createMuiStrictModeTheme as createMuiTheme,\n  ThemeProvider,\n} from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { palettes } from \"./constants\";\n\nexport default function Theme({ children, themeName }) {\n  const palette = React.useMemo(() => palettes[themeName], [themeName]);\n\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        ...palette,\n      }),\n    [palette]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </ThemeProvider>\n  );\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport { removeAlert, selectAlerts } from \"../appSlice\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    gap: theme.spacing(2),\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function Alerts() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const alerts = useSelector(selectAlerts);\n  const [activeAlerts, setActiveAlerts] = React.useState([]);\n\n  const handleClose = (alertId, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setActiveAlerts(activeAlerts.filter((alert) => alert.id !== alertId));\n    dispatch(removeAlert(alertId));\n  };\n\n  // Maintain a maximum of 4 active alerts\n  React.useEffect(() => {\n    if (alerts && alerts.length > 0) {\n      return setActiveAlerts((prev) => [...prev, ...alerts.slice(0, 4).map((a) => a.id)]);\n    }\n    setActiveAlerts([]);\n  }, [alerts]);\n\n  return alerts && alerts.length > 0 ? (\n    <div className={classes.root}>\n      {alerts.map((alert) => (\n        <Snackbar\n          key={alert.id}\n          open={activeAlerts.includes(alert.id)}\n          autoHideDuration={3000}\n          onClose={(_, reason) => handleClose(alert.id, reason)}\n          anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n          disableWindowBlurListener={true}\n        >\n          <Alert onClick={() => handleClose(alert.id)} severity={alert.severity}>\n            {alert.message}\n          </Alert>\n        </Snackbar>\n      ))}\n    </div>\n  ) : null;\n}\n","import { useSelector } from \"react-redux\";\nimport React from \"react\";\n\nimport { selectThemeName, selectViews } from \"./appSlice\";\nimport ChallengeRandomizer from \"./features/randomizers/challenges/ChallengeRandomizer\";\nimport Evidence from \"./features/evidence/Evidence\";\nimport GhostName from \"./features/ghostname/GhostName\";\nimport Ghosts from \"./features/ghosts/Ghosts\";\nimport Header from \"./features/header/Header\";\nimport JobRandomizer from \"./features/randomizers/jobrandomizer/JobRandomizer\";\nimport PhasmoRPG from \"./features/phasmorpg/PhasmoRPG\";\nimport PhotoCalculator from \"./features/photocalculator/PhotoCalculator\";\nimport Theme from \"./features/theme/Theme\";\nimport Alerts from \"./common/Alerts\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const views = useSelector(selectViews);\n  const themeName = useSelector(selectThemeName);\n  return (\n    <Theme themeName={themeName}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Header />\n          {views.ghostName && <GhostName />}\n        </header>\n        <main className=\"App-main\">\n          {views.evidence && <Evidence />}\n          {views.ghosts && <Ghosts />}\n          {views.phasmorpg && <PhasmoRPG />}\n          {views.challenges && <ChallengeRandomizer />}\n          {views.jobs && <JobRandomizer />}\n          {views.photocalculator && <PhotoCalculator />}\n          <Alerts />\n        </main>\n      </div>\n    </Theme>\n  );\n}\n\nexport default App;\n","import { Provider } from \"react-redux\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { addAlert } from \"./appSlice\";\nimport { hydrate as hydrateAppState } from \"./appSlice\";\nimport { hydrate as hydrateJobsState } from \"./features/randomizers/jobrandomizer/jobRandomizerSlice\";\nimport { hydrate as hydratePhasmoRPGState } from \"./features/phasmorpg/phasmoRPGSlice\";\nimport { LOCAL_STORAGE_KEY } from \"./constants\";\nimport { store } from \"./app/store\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\nimport semver from \"semver\";\n\nimport \"./index.css\";\nimport * as pkgJson from \"../package.json\";\n\nstore.subscribe(() => {\n  localStorage.setItem(\n    LOCAL_STORAGE_KEY,\n    JSON.stringify({ ...store.getState(), version: pkgJson.version })\n  );\n});\n\nlet initAlerts = [];\nlet forceReload = false;\n\nconst getAppStateFromLocalStorage = () => {\n  try {\n    const persistedState = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (persistedState) {\n      const parsed = JSON.parse(persistedState);\n      const prevMajor = semver.major(parsed.version);\n      const prevMinor = semver.minor(parsed.version);\n      const currentMinor = semver.minor(pkgJson.version);\n      const currentMajor = semver.major(pkgJson.version);\n\n      // Force expire for major/minor version but not for patch versions\n      if (currentMajor > prevMajor || (currentMajor === prevMajor && currentMinor > prevMinor)) {\n        initAlerts.push({\n          severity: \"error\",\n          message: `(App Reset) Upgraded to new version: ${parsed.version} => ${pkgJson.version}`,\n        });\n        forceReload = true;\n        localStorage.removeItem(LOCAL_STORAGE_KEY);\n      }\n\n      return parsed;\n    }\n  } catch (e) {\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    initAlerts.push({\n      severity: \"error\",\n      message: `(App Reset) Application Error (${pkgJson.version}): ${e.message}`,\n    });\n  }\n};\n\nconst appState = getAppStateFromLocalStorage();\n\n// Only restore if we didn't have to start over with minor/major bump\nif (appState && !forceReload) {\n  store.dispatch(hydrateAppState(appState.app));\n  store.dispatch(hydrateJobsState(appState.randomizers.jobs));\n  store.dispatch(hydratePhasmoRPGState(appState.phasmoRPG));\n}\n\nif (initAlerts.length > 0) {\n  initAlerts.forEach((alert) => {\n    store.dispatch(addAlert(alert));\n  });\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}